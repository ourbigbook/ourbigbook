<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>OurBigBook Project</title>
<script type="application/ld+json">{"name":"OurBigBook Docs","url":"https://docs.ourbigbook.com"}</script>
<meta property="og:title" content="OurBigBook Project">
<meta property="og:type" content="website">
<meta property="og:image" content="https://docs.ourbigbook.com/_raw/logo.svg">
<meta property="og:url" content="https://docs.ourbigbook.com">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<style>@import "_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="_raw/main.css">
<link rel="shortcut icon" href="_raw/logo.svg">
</head>
<body>
<header
<div class="brand-group">
<a href="." class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo">OurBigBook Docs</a>
<a href="https://ourbigbook.com" class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo"><span class="mobile-hide">OurBigBook.com</span><span class="mobile-show">Site</span></a>
<a href="https://github.com/ourbigbook/ourbigbook"><i class="fab fa-github fa-fw icon"></i> Source code</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top"><div class="notnav"><h1><a href="split">OurBigBook Project</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#_toc" class="toc"></a><a class="split" href="split"></a><span class="metrics"><span class="wcntr"> Words: 74k</span><span class="dcnt"> Articles: 815</span></span></div></nav></div><div class="p" id="_1"><b><a href="https://OurBigBook.com">OurBigBook.com</a></b>: the best way to publish your scientific knowledge.</div><div class="p" id="_2">The <b>OurBigBook Project</b> is creating the ultimate <a href="https://github.com/ourbigbook/ourbigbook">open source</a> tools to <a href="#publish-your-content">publish</a> <b>textbooks</b>/<b><a href="https://ourbigbook.com/go/topic/personal-knowledge-base">personal knowledge bases</a></b>/<b><a href="https://ourbigbook.com/go/topic/zettelkasten">Zettelkasten</a></b>/<b><a href="https://ourbigbook.com/go/topic/digital-garden">digital gardens</a></b> in the <a href="https://ourbigbook.com/go/topic/learn-in-public">learn in public</a> philosophy. It is our best shot yet at the final <b>real-world <a href="https://ourbigbook.com/go/topic/encyclopedia-galactica">Encyclopedia Galactica</a></b> by allowing effective <b><a href="https://ourbigbook.com/go/topic/mindmeld">mind melding</a></b>/<b><a href="https://ourbigbook.com/go/topic/collective-intelligence">collective intelligence</a></b> via the <b><a href="#ourbigbook-web-topics">topics feature</a></b>.</div><div class="figure"><figure id="image-logo-of-the-ourbigbook-project"><div class="float-wrap"><a href="_raw/logo.svg"><img src="_raw/logo.svg" loading="lazy" height="150"></a></div><figcaption><a href="#image-logo-of-the-ourbigbook-project"><span class="caption-prefix">Figure 1. </span></a><div class="title">Logo of the OurBigBook Project</div>. </figcaption></figure></div><div class="p" id="_3">This is the <a href="#ourbigbook-cli-quick-start">OurBigBook CLI quick start</a> using our <a href="#generate">template project</a> <a href="https://github.com/ourbigbook/template">github.com/ourbigbook/template</a>. After <a href="https://nodejs.org/en/download">installing Node.js</a>, run:<div class="code" id="_4"><div><pre><code>git clone https://github.com/ourbigbook/template
cd template
npm install
npx ourbigbook .
firefox _out/html/index.html
firefox _out/html/not-index.html</code></pre></div></div>This HTML output is also visible at: <a href="https://ourbigbook.github.io/template">ourbigbook.github.io/template</a> Tested on <a href="#ourbigbook-cli-test-matrix">Linux, MacOS and Windows</a>.</div><div class="p" id="_5">To <a href="#publish-your-content">publish your project as a static website to GitHub Pages</a>, first create a GitHub repository for it, e.g. <code>johnsmith/mybrain</code> and then:<div class="code" id="_6"><div><pre><code>git remote set-url origin git@github.com:ourbigbook/ourbigbook-private.git
ourbigbook --publish</code></pre></div></div>and your project is now published to <a href="https://johnsmith.github.io/template">johnsmith.github.io/template</a></div><div class="p" id="_7">To publish your project to <a href="https://OurBigBook.com">OurBigBook.com</a>, create an account at <a href="https://ourbigbook.com/go/register">ourbigbook.com/go/register</a> and then:<div class="code" id="_8"><div><pre><code>ourbigbook --web</code></pre></div></div>This will ask for your ourbigbook username and password, and then your project will be published at: <a href="https://ourbigbook.com/johnsmith">ourbigbook.com/johnsmith</a>.</div><div class="p" id="_9">A full blown showcase knowledge base can be seen at:<div class="list"><ul id="_10"><li id="_11"><a href="https://cirosantilli.com">cirosantilli.com</a> (<a href="#p-publish">static website</a> publish)</li><li id="_12"><a href="https://ourbigbook.com/cirosantilli">ourbigbook.com/cirosantilli</a> (equivalent on <a href="#ourbigbook-com">OurBigBook.com</a> with dynamic website features such as <a href="#ourbigbook-web-topics">topics</a>)</li><li id="_13"><a href="https://github.com/cirosantilli/cirosantilli.github.io">github.com/cirosantilli/cirosantilli.github.io</a> (source code for both of the above)</li></ul></div></div><div class="p" id="_14"><b>Mission</b>: to live in a world where you can learn university-level <a href="https://ourbigbook.com/go/topic/mathematics">mathematics</a>, <a href="https://ourbigbook.com/go/topic/physics">physics</a>, <a href="https://ourbigbook.com/go/topic/chemistry">chemistry</a>, <a href="https://ourbigbook.com/go/topic/biology">biology</a> and <a href="https://ourbigbook.com/go/topic/engineering">engineering</a> from perfect free open source books that anyone can write to get famous.</div><div class="p" id="_15"><b>Ultimate goal</b>: destroy the currently grossly inefficient education system and replace it with a much more inspiring system where people learn what they want as fast as possible to reach their goals faster without so much useless pain.</div><div class="p" id="_16"><b>How to get there</b>: <a href="#ourbigbook-web">create a website</a> (live at <b><a href="https://OurBigBook.com">OurBigBook.com</a></b>) that incentivizes learners (notably university students taking courses) to write freely licensed university-level natural science books in their own words for free. Their motivation for doing that are:<div class="list"><ul id="_17"><li id="_18">getting their knowledge globally recognized and thus better jobs</li><li id="_19">improving the world</li><li id="_20">learning by teaching</li></ul></div></div><div class="figure"><figure id="video-introduction-to-the-ourbigbook-project"><div class="float-wrap"><iframe width="888" height="500" loading="lazy" src="https://www.youtube.com/embed/7JOJYx0mmhg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-introduction-to-the-ourbigbook-project"><span class="caption-prefix">Video 1. </span></a><div class="title">Introduction to the OurBigBook Project</div>. <a href="https://www.youtube.com/watch?v=7JOJYx0mmhg">Source</a>. </figcaption></figure></div><div class="p" id="_21"><b>Notable features</b>:<div class="list"><ol id="_22"><li id="_23"><div class="p" id="_24"><b><a href="#ourbigbook-web-topics">topics</a></b>: groups the articles of different users about the same topic, sorted by upvote to achieve <a href="https://ourbigbook.com/go/topic/mindmeld">mind melding</a>/<a href="https://ourbigbook.com/go/topic/collective-intelligence">collective intelligence</a>. This makes your articles easier for others to find.</div><div class="figure"><figure id="image-the-topics-feature-allows-you-to-find-the-best-version-of-a-subject-written-by-other-users-user"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/topics/derivative.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/topics/derivative.png" loading="lazy" height="1000"  class="border"></a></div><figcaption><a href="#image-the-topics-feature-allows-you-to-find-the-best-version-of-a-subject-written-by-other-users-user"><span class="caption-prefix">Figure 2. </span></a><div class="title">The topics feature allows you to find the best version of a subject written by other users user</div>. Live demo: <a href="https://ourbigbook.com/go/topic/derivative">derivative</a>.</figcaption></figure></div><div class="figure"><figure id="video-ourbigbook-web-topics-demo-intro"><div class="float-wrap"><iframe width="700" height="700" loading="lazy" src="https://www.youtube.com/embed/54nxjC9BWTg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-web-topics-demo-intro"><span class="caption-prefix">Video 2. </span></a><div class="title">OurBigBook Web topics demo</div>. <a href="https://www.youtube.com/watch?v=54nxjC9BWTg">Source</a>. </figcaption></figure></div></li><li id="_25"><div class="p" id="_26"><b>local editing</b>: you can store all your <a href="https://ourbigbook.com/go/topic/personal-knowledge-base">personal knowledge base</a> content locally in a <a href="#ourbigbook-markup">plaintext markup format</a> that can be edited locally and <a href="#publish-your-content">published</a> with <a href="#ourbigbook-cli">OurBigBook CLI</a> to either:<div class="list"><ul id="_27"><li id="_28"><b>to <a href="#ourbigbook-com">OurBigBook.com</a></b>: to get awesome multi-user features like <a href="#ourbigbook-web-topics">OurBigBook Web topics</a></li><li id="_29"><b>as HTML files to a <a href="#p-publish">static website</a></b>: you can host yourself for free on many external providers like <a href="#publish-to-github-pages">GitHub Pages</a>, and remain in full control</li></ul></div>This way you can be sure that even if <a href="#ourbigbook-com">OurBigBook.com</a> were to go down one day (which we have no plans to as it is quite cheap to host!), your content will still be perfectly readable as a static site.</div><div class="figure"><figure id="image-with-ourbigbook-you-can-publish-local-lightweight-markup-files-to-either-ourbigbook-web-or-as-a-static-website-intro" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/local-editing/bigb-publish-to-web-or-static-editor-logos.svg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/local-editing/bigb-publish-to-web-or-static-editor-logos.svg" loading="lazy" height="600"></a></div><figcaption><a href="#image-with-ourbigbook-you-can-publish-local-lightweight-markup-files-to-either-ourbigbook-web-or-as-a-static-website-intro"><span class="caption-prefix">Figure 3. </span></a><div class="title">With OurBigBook you can publish local lightweight markup files to either OurBigBook Web or as a static website</div>. For example, both of the following pages:<div class="list"><ul id="_30"><li id="_31"><a href="https://cirosantilli.com">cirosantilli.com</a> (static)</li><li id="_32"><a href="https://ourbigbook.com/cirosantilli">ourbigbook.com/cirosantilli</a> (dynamic)</li></ul></div>are generated from the exact same source code at: <a href="https://github.com/cirosantilli/cirosantilli.github.io">github.com/cirosantilli/cirosantilli.github.io</a>.</figcaption></figure></div><div class="figure"><figure id="image-visual-studio-code-extension-tree-navigation-intro"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/vscode/tree.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/vscode/tree.png" loading="lazy" height="1100"  class="border"></a></div><figcaption><a href="#image-visual-studio-code-extension-tree-navigation-intro"><span class="caption-prefix">Figure 4. </span></a><div class="title">Visual Studio Code extension tree navigation</div>. </figcaption></figure></div><div class="figure"><figure id="image-web-editor-intro"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/cirosantilli-derivative.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/cirosantilli-derivative.png" loading="lazy" height="800"  class="border"></a></div><figcaption><a href="#image-web-editor-intro"><span class="caption-prefix">Figure 5. </span></a><div class="title">Web editor</div>. You can also edit articles on the <a href="#web-editor">Web editor</a> without installing anything locally.</figcaption></figure></div><div class="figure"><figure id="image-creating-a-new-article-on-the-web-editor"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/topic-link.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/topic-link.png" loading="lazy" height="457"  class="border"></a></div><figcaption><a href="#image-creating-a-new-article-on-the-web-editor"><span class="caption-prefix">Figure 6. </span></a><div class="title">Creating a new article on the web editor</div>. </figcaption></figure></div><div class="figure"><figure id="video-edit-locally-and-publish-demo-intro"><div class="float-wrap"><iframe width="720" height="720" loading="lazy" src="https://www.youtube.com/embed/Ghvlztiu6rI" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-edit-locally-and-publish-demo-intro"><span class="caption-prefix">Video 3. </span></a><div class="title">Edit locally and publish demo</div>. <a href="https://www.youtube.com/watch?v=Ghvlztiu6rI">Source</a>. This shows editing <a href="#ourbigbook-markup">OurBigBook Markup</a> and <a href="#publish-your-content">publishing</a> it using the <a href="#visual-studio-code">VS Code</a> extension.</figcaption></figure></div><div class="figure"><figure id="video-ourbigbook-visual-studio-code-extension-intro"><div class="float-wrap"><iframe width="1066" height="600" loading="lazy" src="https://www.youtube.com/embed/0W8U2YtQ8fg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-visual-studio-code-extension-intro"><span class="caption-prefix">Video 4. </span></a><div class="title">OurBigBook Visual Studio Code extension</div>. <a href="https://www.youtube.com/watch?v=0W8U2YtQ8fg">Source</a>. </figcaption></figure></div></li><li id="_33"><div class="figure"><figure id="image-internal-cross-file-internal-link-intro" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/x/hilbert-space-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/x/hilbert-space-arrow.png" loading="lazy" height="571"  class="border"></a></div><figcaption><a href="#image-internal-cross-file-internal-link-intro"><span class="caption-prefix">Figure 7. </span></a><div class="title">Internal cross file internal link</div>. <div class="p" id="_34"><a href="">OurBigBook</a> supports <a href="#internal-link">internal links</a> to clean IDs that don't depend on either:<div class="list"><ul id="_35"><li id="_36">source code file paths</li><li id="_37"><a href="#table-of-contents">table of contents</a> tree position</li></ul></div>For example, in this screenshot, we are able to link simply from the file:<div class="code" id="_38"><div><pre><code>quantum-mechanics.bigb</code></pre></div></div>with:<div class="code" id="_39"><div><pre><code>&lt;Hilbert space&gt;</code></pre></div></div>to the <a href="#header">header</a>:<div class="code" id="_40"><div><pre><code>= Hilbert space</code></pre></div></div>present in another file:<div class="code" id="_41"><div><pre><code>calculus.bigb</code></pre></div></div>without specifying:<div class="list"><ul id="_42"><li id="_43">the source code path <code>calculus.bigb</code></li><li id="_44">the full tree position: <code>Mathematics</code> &gt; <code>Area of mathematic</code>s &gt; <code>Calculus</code> &gt; <code>Hilbert space</code></li></ul></div>This means that you can freely change the location of headers or the tree structure and your links will still work.</div><div class="p" id="_45"><a href="">OurBigBook</a> also automatically checks for broken links every time you build, so you will never have a broken link again.</div><div class="p" id="_46">Live output URLs:<div class="list"><ul id="_47"><li id="_48"><a href="https://cirosantilli.com/calculus#hilbert-space">cirosantilli.com/calculus#hilbert-space</a></li><li id="_49"><a href="https://cirosantilli.com/quantum-mechanics#schrodinger-picture">cirosantilli.com/quantum-mechanics#schrodinger-picture</a></li><li id="_50"><a href="https://ourbigbook.com/cirosantilli/hilbert-space">ourbigbook.com/cirosantilli/hilbert-space</a></li><li id="_51"><a href="https://ourbigbook.com/cirosantilli/schrodinger-picture">ourbigbook.com/cirosantilli/schrodinger-picture</a></li></ul></div></div></figcaption></figure></div></li><li id="_52"><div class="figure"><figure id="image-non-toplevel-tagged-headers-demo-intro" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/tag/non-toplevel-documentary-sell.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/tag/non-toplevel-documentary-sell.png" loading="lazy" height="950"  class="border"></a></div><figcaption><a href="#image-non-toplevel-tagged-headers-demo-intro"><span class="caption-prefix">Figure 8. </span></a><div class="title">Non-toplevel tagged headers demo</div>. <div class="p" id="_53">Visible live at: <a href="https://cirosantilli.com/film#documentary-film">cirosantilli.com/film#documentary-film</a></div><div class="p" id="_54">With <a href="">OurBigBook</a>, <a href="#h-tag-argument">tags</a> are just headers.</div><div class="p" id="_55">This allows you to add arbitrary comments to your tags explaining them as the need arises.</div></figcaption></figure></div></li><li id="_56"><div class="figure"><figure id="image-if-your-id-prefixes-are-getting-too-large-we-have-scopes-for-you"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/scope/h1-breadcrumb-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/scope/h1-breadcrumb-arrow.png" loading="lazy" height="499"  class="border"></a></div><figcaption><a href="#image-if-your-id-prefixes-are-getting-too-large-we-have-scopes-for-you"><span class="caption-prefix">Figure 9. </span></a><div class="title">If your ID prefixes are getting too large, we have scopes for you.</div> <a href="https://ourbigbook.com/cirosantilli/x86-paging/sample-code">Source</a>. </figcaption></figure></div></li><li id="_57"><div class="p" id="_58"><b>infinitely deep table of contents</b>: never again be limited to only 6 levels of HTML <code>h6</code> legacy limitations! With <a href="">OurBigBook</a>, the sky is the limit!</div><div class="p" id="_59">Furthermore, with our <a href="#ourbigbook-web-dynamic-article-tree">dynamic article tree</a> of <a href="#ourbigbook-web">OurBigBook Web</a>, every header can be the toplevel header for better SEO and user experience e.g. both the following pages show all their ancestors:<div class="list"><ul id="_60"><li id="_61"><a href="https://ourbigbook.com/cirosantilli/chordate">ourbigbook.com/cirosantilli/chordate</a></li><li id="_62"><a href="https://ourbigbook.com/cirosantilli/chordate-subclade">ourbigbook.com/cirosantilli/chordate-subclade</a></li></ul></div></div><div class="figure"><figure id="image-dynamic-article-tree-with-infinitely-deep-table-of-contents-intro" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/dynamic-article-tree/demo.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/dynamic-article-tree/demo.png" loading="lazy" height="2700"  class="border"></a></div><figcaption><a href="#image-dynamic-article-tree-with-infinitely-deep-table-of-contents-intro"><span class="caption-prefix">Figure 10. </span></a><div class="title">Dynamic article tree with infinitely deep table of contents</div>. <div class="p" id="_63">Live URL: <a href="https://ourbigbook.com/cirosantilli/chordate">ourbigbook.com/cirosantilli/chordate</a></div><div class="p" id="_64">Descendant pages can also show up as toplevel e.g.: <a href="https://ourbigbook.com/cirosantilli/chordate-subclade">ourbigbook.com/cirosantilli/chordate-subclade</a></div></figcaption></figure></div><div class="figure"><figure id="image-and-this-is-how-the-same-article-looks-on-the-static-website-intro"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/cirosantilli.com/chordate/main.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/cirosantilli.com/chordate/main.png" loading="lazy" height="1700"  class="border"></a></div><figcaption><a href="#image-and-this-is-how-the-same-article-looks-on-the-static-website-intro"><span class="caption-prefix">Figure 11. </span></a><div class="title">And this is how the same article looks on the static website</div>. Live URL: <a href="https://cirosantilli.com/taxonomy#chordate">cirosantilli.com/taxonomy#chordate</a></figcaption></figure></div></li><li id="_65"><div class="figure"><figure id="image-ourbigbook-web-search-demo-intro" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/search/physics-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/search/physics-arrow.png" loading="lazy" height="650"  class="border"></a></div><figcaption><a href="#image-ourbigbook-web-search-demo-intro"><span class="caption-prefix">Figure 12. </span></a><div class="title">OurBigBook Web search demo</div>. <div class="p" id="_66">Search for your and other people's articles.</div><div class="p" id="_67">Visible live at: <a href="https://ourbigbook.com/go/articles?body=false&amp;search=physics-and">ourbigbook.com/go/articles?body=false&amp;search=physics-and</a></div></figcaption></figure></div></li><li id="_68"><div class="p" id="_69">Every single section has a clear and sane <a href="#ourbigbook-web-discussions">discussion area</a>, where you can easily ask the author for clarifications and corrections, and where other readers can find answers to their problems in older existing discussions.</div><div class="figure"><figure id="image-ourbigbook-web-discussion-links-from-the-section-headers"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_subheader_discussion_arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_subheader_discussion_arrow.png" loading="lazy" height="725"  class="border"></a></div><figcaption><a href="#image-ourbigbook-web-discussion-links-from-the-section-headers"><span class="caption-prefix">Figure 13. </span></a><div class="title">OurBigBook Web discussion links from the section headers</div>. Every section has a "Discussions" button where  URL: <a href="https://ourbigbook.com/barack-obama/integral#fundamental-theorem-of-calculus">ourbigbook.com/barack-obama/integral#fundamental-theorem-of-calculus</a></figcaption></figure></div><div class="figure"><figure id="image-ourbigbook-web-discussion-list-for-a-given-article"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussions.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussions.png" loading="lazy" height="423"  class="border"></a></div><figcaption><a href="#image-ourbigbook-web-discussion-list-for-a-given-article"><span class="caption-prefix">Figure 14. </span></a><div class="title">OurBigBook Web discussion list for a given article</div>. We can then list all the existing discussions for a given header. URL: <a href="https://ourbigbook.com/go/discussions/barack-obama/fundamental-theorem-of-calculus">ourbigbook.com/go/discussions/barack-obama/fundamental-theorem-of-calculus</a></figcaption></figure></div><div class="figure"><figure id="image-ourbigbook-web-discussion-example"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussion_1.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussion_1.png" loading="lazy" height="1043"  class="border"></a></div><figcaption><a href="#image-ourbigbook-web-discussion-example"><span class="caption-prefix">Figure 15. </span></a><div class="title">OurBigBook Web discussion example</div>. This is how a specific discussion looks like. URL: <a href="https://ourbigbook.com/go/discussion/1/barack-obama/fundamental-theorem-of-calculus">ourbigbook.com/go/discussion/1/barack-obama/fundamental-theorem-of-calculus</a></figcaption></figure></div></li><li id="_70"><div class="figure"><figure id="image-with-article-announcement-you-can-send-a-link-to-your-articles-to-your-followers"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/announce/button-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/announce/button-arrow.png" loading="lazy" height="712"  class="border"></a></div><figcaption><a href="#image-with-article-announcement-you-can-send-a-link-to-your-articles-to-your-followers"><span class="caption-prefix">Figure 16. </span></a><div class="title">With article announcement you can send a link to your articles to your followers</div>. <a href="https://ourbigbook.com/cirosantilli/chain-rule">Source</a>. </figcaption></figure></div></li></ol></div></div><div class="figure"><figure id="image-ourbigbook-file-feature-intro"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/file.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/file.png" loading="lazy" height="785"  class="border"></a></div><figcaption><a href="#image-ourbigbook-file-feature-intro"><span class="caption-prefix">Figure 17. </span></a><div class="title">OurBigBook file feature</div>. <a href="https://cirosantilli.com/_dir/nodejs/">Source</a>. You can create OurBigBook articles that talk about specific files such as images or source code. Such articles appear inside the global <a href="#table-of-contents">table of contents</a> like other articles,. A preview of the file is automatically shown in the article when possible. Directory listings are also automatically generated to allow readers to navigate through all your files.</figcaption></figure></div><div class="figure"><figure id="image-ourbigbook-github-repository"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/github_com_ourbigbook_ourbigbook.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/github_com_ourbigbook_ourbigbook.png" loading="lazy" height="1000"></a></div><figcaption><a href="#image-ourbigbook-github-repository"><span class="caption-prefix">Figure 18. </span></a><div class="title">OurBigBook GitHub repository</div>. <a href="https://github.com/ourbigbook/ourbigbook">Source</a>. Everything that the <a href="">OurBigBook Project</a> does is open source.</figcaption></figure></div><div class="p" id="_71"><b>Key links</b>:<div class="list"><ul id="_72"><li id="_73"><a href="https://OurBigBook.com">OurBigBook.com</a>: reference <a href="#ourbigbook-web">OurBigBook Web</a> instance</li><li id="_74">donate to the OurBigBook Project: <a href="#donate">donate</a></li><li id="_75">project announcements: <a href="news">Section "News"</a>. Also posted in shorter form to <a href="#official-accounts">Section "Official accounts"</a> such as:<div class="list"><ul id="_76"><li id="_77"><a href="https://twitter.com/OurBigBook">twitter.com/OurBigBook</a></li><li id="_78"><a href="https://mastodon.social/@OurBigBook">mastodon.social/@OurBigBook</a></li></ul></div></li><li id="_79"><a href="https://cirosantilli.com/ourbigbook-com">cirosantilli.com/ourbigbook-com</a>: further rationale behind the project by the founder <a href="#ciro-santilli">Ciro Santilli</a></li><li id="_80"><a href="https://cirosantilli.com">cirosantilli.com</a>: showcase static demo document with interesting content, published with <a href="#ourbigbook-cli">OurBigBook CLI</a>. Primary inspiration for OurBigBook development.<div class="list"><ul id="_81"><li id="_82"><a href="https://cirosantilli.com/oxford-nanopore-river-bacteria">cirosantilli.com/oxford-nanopore-river-bacteria</a>: a self-contained tutorial style part of the above. Note how <a href="#internal-link">internal links</a> integrate seamlessly into the more global topic of biology, e.g. when talking about DNA we link to the global topic <a href="https://cirosantilli.com/dna">cirosantilli.com/dna</a>.</li><li id="_83"><a href="https://github.com/cirosantilli/cirosantilli.github.io">github.com/cirosantilli/cirosantilli.github.io</a> and <a href="https://github.com/cirosantilli/cirosantilli.github.io/blob/dev/oxford-nanopore-river-bacteria.bigb">github.com/cirosantilli/cirosantilli.github.io/blob/dev/oxford-nanopore-river-bacteria.bigb</a>: source of the above showcase documents</li></ul></div></li><li id="_84"><a href="#design-goals">Section "Design goals"</a>: <a href="#ourbigbook-markup">OurBigBook Markup</a> and <a href="#ourbigbook-cli">OurBigBook CLI</a> feature overview</li><li id="_85"><a href="https://github.com/ourbigbook/ourbigbook">github.com/ourbigbook/ourbigbook</a>: OurBigBook source code</li><li id="_86"><a href="https://github.com/ourbigbook/ourbigbook/issues">github.com/ourbigbook/ourbigbook/issues</a>: project issue tracker</li><li id="_87"><a href="https://github.com/ourbigbook/ourbigbook/blob/master/index.bigb">github.com/ourbigbook/ourbigbook/blob/master/index.bigb</a>: source for this document</li><li id="_88"><a href="https://docs.ourbigbook.com">docs.ourbigbook.com</a>: rendered version of this document</li><li id="_89"><a href="https://docs.ourbigbook.com/_obb/dist/editor">docs.ourbigbook.com/_obb/dist/editor</a>: live in-browser editor demo</li><li id="_90"><a href="https://github.com/ourbigbook/template">github.com/ourbigbook/template</a>: good template to get started with <a href="#ourbigbook-cli">OurBigBook CLI</a>, see <a href="#ourbigbook-cli-quick-start">Section "OurBigBook CLI quick start"</a><div class="list"><ul id="_91"><li id="_92"><a href="https://ourbigbook.github.io/template">ourbigbook.github.io/template</a>: the above <a href="#publish-to-github-pages">published to GitHub Pages</a></li></ul></div></li><li id="_93"><a href="https://cirosantilli.com/ourbigbook-media">cirosantilli.com/ourbigbook-media</a>: media for the project such as for documentation and <a href="#publicity">publicity</a>, more info: <a href="#ourbigbook-media-repository">Section "OurBigBook media repository"</a></li></ul></div></div><div class="toc-container" id="_toc"><ul><li class="has-child toplevel"><div class="title-div"><div class="arrow"><div></div></div><span class="not-arrow"><a class="title toc" href="#_toc"> Table of contents</a><input class="search" placeholder="🔍 Search. Shortcut: / (slash)"><span class="hover-metadata"><span class="metrics"><span class="wcntr"> 74k</span><span class="dcnt"> 815</span></span></span></span></div><ul><li><div id="_toc/donate"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#donate">Donate</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 111</span></span></span></span></div></li><li><div id="_toc/quick-start"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#quick-start">Quick start</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 95</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-vs-other-systems"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-vs-other-systems">OurBigBook vs other systems</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 584</span><span class="dcnt"> 5</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-vs-other-mind-melding-systems"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-vs-other-mind-melding-systems">OurBigBook vs other mind-melding systems</a><span class="hover-metadata"><a href="#_toc/ourbigbook-vs-other-systems" class="u"> OurBigBook vs other systems</a><span class="metrics"><span class="wcntr"> 416</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-vs-wikipedia"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-vs-wikipedia">OurBigBook vs Wikipedia</a><span class="hover-metadata"><a href="#_toc/ourbigbook-vs-other-mind-melding-systems" class="u"> OurBigBook vs other mind-melding systems</a><span class="metrics"><span class="wcntr"> 151</span></span></span></span></div></li><li><div id="_toc/ourbigbook-vs-stack-overflow"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-vs-stack-overflow">OurBigBook vs Stack Overflow</a><span class="hover-metadata"><a href="#_toc/ourbigbook-vs-other-mind-melding-systems" class="u"> OurBigBook vs other mind-melding systems</a><span class="metrics"><span class="wcntr"> 132</span></span></span></span></div></li><li><div id="_toc/ourbigbook-vs-knol"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-vs-knol">OurBigBook vs Knol</a><span class="hover-metadata"><a href="#_toc/ourbigbook-vs-other-mind-melding-systems" class="u"> OurBigBook vs other mind-melding systems</a><span class="metrics"><span class="wcntr"> 107</span></span></span></span></div></li></ul><li><div id="_toc/ourbigbook-vs-other-non-mind-melding-systems"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-vs-other-non-mind-melding-systems">OurBigBook vs other non-mind-melding systems</a><span class="hover-metadata"><a href="#_toc/ourbigbook-vs-other-systems" class="u"> OurBigBook vs other systems</a><span class="metrics"><span class="wcntr"> 168</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-markup-and-cli-overview"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-markup-and-cli-overview">OurBigBook Markup and CLI overview</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 2k</span><span class="dcnt"> 6</span></span></span></span></div><ul><li><div id="_toc/features"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#features">Features</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-and-cli-overview" class="u"> OurBigBook Markup and CLI overview</a><span class="metrics"><span class="wcntr"> 1k</span></span></span></span></div></li><li class="has-child"><div id="_toc/design-goals"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#design-goals">Design goals</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-and-cli-overview" class="u"> OurBigBook Markup and CLI overview</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/saner"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#saner">Saner</a><span class="hover-metadata"><a href="#_toc/design-goals" class="u"> Design goals</a><span class="metrics"><span class="wcntr"> 418</span></span></span></span></div></li><li><div id="_toc/more-powerful"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#more-powerful">More powerful</a><span class="hover-metadata"><a href="#_toc/design-goals" class="u"> Design goals</a><span class="metrics"><span class="wcntr"> 239</span></span></span></span></div></li><li><div id="_toc/related-projects"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#related-projects">Related projects</a><span class="hover-metadata"><a href="#_toc/design-goals" class="u"> Design goals</a><span class="metrics"><span class="wcntr"> 297</span></span></span></span></div></li><li><div id="_toc/motivation"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#motivation">Motivation</a><span class="hover-metadata"><a href="#_toc/design-goals" class="u"> Design goals</a><span class="metrics"><span class="wcntr"> 147</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-markup"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-markup">OurBigBook Markup</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 24k</span><span class="dcnt"> 258</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-markup-quick-start"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-markup-quick-start">OurBigBook Markup quick start</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup" class="u"> OurBigBook Markup</a><span class="metrics"><span class="wcntr"> 854</span></span></span></span></div></li><li class="has-child"><div id="_toc/macro"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#macro">Macro</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup" class="u"> OurBigBook Markup</a><span class="metrics"><span class="wcntr"> 19k</span><span class="dcnt"> 205</span></span></span></span></div><ul><li class="has-child"><div id="_toc/link"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#link">Link</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 2k</span><span class="dcnt"> 15</span></span></span></span></div><ul><li class="has-child"><div id="_toc/a-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#a-argument"><code>\a</code> argument</a><span class="hover-metadata"><a href="#_toc/link" class="u"> Link</a><span class="metrics"><span class="wcntr"> 994</span><span class="dcnt"> 11</span></span></span></span></div><ul><li><div id="_toc/a-href-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#a-href-argument"><code>\a</code> <code>href</code> argument</a><span class="hover-metadata"><a href="#_toc/a-argument" class="u"> <code>\a</code> argument</a><span class="metrics"><span class="wcntr"> 39</span></span></span></span></div></li><li><div id="_toc/a-ref-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#a-ref-argument"><code>\a</code> <code>ref</code> argument</a><span class="hover-metadata"><a href="#_toc/a-argument" class="u"> <code>\a</code> argument</a><span class="metrics"><span class="wcntr"> 30</span></span></span></span></div></li><li class="has-child"><div id="_toc/a-external-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#a-external-argument"><code>\a</code> <code>external</code> argument</a><span class="hover-metadata"><a href="#_toc/a-argument" class="u"> <code>\a</code> argument</a><span class="metrics"><span class="wcntr"> 925</span><span class="dcnt"> 8</span></span></span></span></div><ul><li><div id="_toc/link-to-the-domain-root-path"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#link-to-the-domain-root-path">Link to the domain root path</a><span class="hover-metadata"><a href="#_toc/a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><span class="metrics"><span class="wcntr"> 34</span></span></span></span></div></li><li><div id="_toc/subdirectory-deployment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#subdirectory-deployment">Subdirectory deployment</a><span class="hover-metadata"><a href="#_toc/a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><span class="metrics"><span class="wcntr"> 52</span></span></span></span></div></li><li class="has-child"><div id="_toc/external-link"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#external-link">External link</a><span class="hover-metadata"><a href="#_toc/a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><span class="metrics"><span class="wcntr"> 325</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/internal-path-links-are-smart"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#internal-path-links-are-smart">Internal path links are smart</a><span class="hover-metadata"><a href="#_toc/external-link" class="u"> External link</a><span class="metrics"><span class="wcntr"> 109</span></span></span></span></div></li></ul><li><div id="_toc/dir-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#dir-directory"><code>_dir</code> directory</a><span class="hover-metadata"><a href="#_toc/a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><span class="metrics"><span class="wcntr"> 39</span></span></span></span></div></li><li><div id="_toc/file-output-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#file-output-directory"><code>_file</code> output directory</a><span class="hover-metadata"><a href="#_toc/a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><span class="metrics"><span class="wcntr"> 87</span></span></span></span></div></li><li><div id="_toc/raw-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#raw-directory"><code>_raw</code> directory</a><span class="hover-metadata"><a href="#_toc/a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><span class="metrics"><span class="wcntr"> 226</span></span></span></span></div></li><li><div id="_toc/url-with-protocol"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#url-with-protocol">URL with protocol</a><span class="hover-metadata"><a href="#_toc/a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><span class="metrics"><span class="wcntr"> 92</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/shorthand-link-parsing-rules"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-link-parsing-rules">Shorthand link parsing rules</a><span class="hover-metadata"><a href="#_toc/link" class="u"> Link</a><span class="metrics"><span class="wcntr"> 258</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/shorthand-link-termination-character"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-link-termination-character">Shorthand link termination character</a><span class="hover-metadata"><a href="#_toc/shorthand-link-parsing-rules" class="u"> Shorthand link parsing rules</a><span class="metrics"><span class="wcntr"> 40</span></span></span></span></div></li></ul><li><div id="_toc/link-percent-encoding"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#link-percent-encoding">Link percent encoding</a><span class="hover-metadata"><a href="#_toc/link" class="u"> Link</a><span class="metrics"><span class="wcntr"> 109</span></span></span></span></div></li></ul><li><div id="_toc/bold"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#bold">Bold</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 9</span></span></span></span></div></li><li><div id="_toc/line-break"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#line-break">Line break</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 328</span></span></span></span></div></li><li class="has-child"><div id="_toc/code-block"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#code-block">Code block</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 738</span><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/c-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#c-argument"><code>\C</code> argument</a><span class="hover-metadata"><a href="#_toc/code-block" class="u"> Code block</a><span class="metrics"><span class="wcntr"> 88</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/c-description-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#c-description-argument"><code>\C</code> <code>description</code> argument</a><span class="hover-metadata"><a href="#_toc/c-argument" class="u"> <code>\C</code> argument</a><span class="metrics"><span class="wcntr"> 49</span></span></span></span></div></li><li><div id="_toc/c-title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#c-title-argument"><code>\C</code> <code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/c-argument" class="u"> <code>\C</code> argument</a><span class="metrics"><span class="wcntr"> 39</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/comment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#comment">Comment</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 87</span></span></span></span></div></li><li class="has-child"><div id="_toc/header"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#header">Header</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 6k</span><span class="dcnt"> 67</span></span></span></span></div><ul><li class="has-child"><div id="_toc/unlimited-header-levels"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#unlimited-header-levels">Unlimited header levels</a><span class="hover-metadata"><a href="#_toc/header" class="u"> Header</a><span class="metrics"><span class="wcntr"> 139</span><span class="dcnt"> 11</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h3"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h3">My h3</a><span class="hover-metadata"><a href="#_toc/unlimited-header-levels" class="u"> Unlimited header levels</a><span class="metrics"><span class="dcnt"> 10</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h4"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h4">My h4</a><span class="hover-metadata"><a href="#_toc/my-h3" class="u"> My h3</a><span class="metrics"><span class="dcnt"> 9</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h5"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h5">My h5</a><span class="hover-metadata"><a href="#_toc/my-h4" class="u"> My h4</a><span class="metrics"><span class="dcnt"> 8</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h6"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h6">My h6</a><span class="hover-metadata"><a href="#_toc/my-h5" class="u"> My h5</a><span class="metrics"><span class="dcnt"> 7</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h7"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h7">My h7</a><span class="hover-metadata"><a href="#_toc/my-h6" class="u"> My h6</a><span class="metrics"><span class="dcnt"> 6</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h8"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h8">My h8</a><span class="hover-metadata"><a href="#_toc/my-h7" class="u"> My h7</a><span class="metrics"><span class="dcnt"> 5</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h9"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h9">My h9</a><span class="hover-metadata"><a href="#_toc/my-h8" class="u"> My h8</a><span class="metrics"><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h10"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h10">My h10</a><span class="hover-metadata"><a href="#_toc/my-h9" class="u"> My h9</a><span class="metrics"><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h11"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h11">My h11</a><span class="hover-metadata"><a href="#_toc/my-h10" class="u"> My h10</a><span class="metrics"><span class="dcnt"> 2</span></span></span></span></div><ul><li class="has-child"><div id="_toc/my-h12"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h12">My h12</a><span class="hover-metadata"><a href="#_toc/my-h11" class="u"> My h11</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/my-h13"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#my-h13">My h13</a><span class="hover-metadata"><a href="#_toc/my-h12" class="u"> My h12</a></span></span></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><li><div id="_toc/skipping-header-levels"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#skipping-header-levels">Skipping header levels</a><span class="hover-metadata"><a href="#_toc/header" class="u"> Header</a><span class="metrics"><span class="wcntr"> 84</span></span></span></span></div></li><li class="has-child"><div id="_toc/the-toplevel-header"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#the-toplevel-header">The toplevel header</a><span class="hover-metadata"><a href="#_toc/header" class="u"> Header</a><span class="metrics"><span class="wcntr"> 390</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/the-toplevel-header-ids-don-t-show"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#the-toplevel-header-ids-don-t-show">The toplevel header IDs don't show</a><span class="hover-metadata"><a href="#_toc/the-toplevel-header" class="u"> The toplevel header</a><span class="metrics"><span class="wcntr"> 52</span></span></span></span></div></li><li><div id="_toc/the-id-of-the-first-header-is-derived-from-the-filename"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#the-id-of-the-first-header-is-derived-from-the-filename">The ID of the first header is derived from the filename</a><span class="hover-metadata"><a href="#_toc/the-toplevel-header" class="u"> The toplevel header</a><span class="metrics"><span class="wcntr"> 235</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/h-arguments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-arguments"><code>\H</code> arguments</a><span class="hover-metadata"><a href="#_toc/header" class="u"> Header</a><span class="metrics"><span class="wcntr"> 5k</span><span class="dcnt"> 44</span></span></span></span></div><ul><li><div id="_toc/h-c-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-c-argument"><code>\H</code> <code>c</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 14</span></span></span></span></div></li><li><div id="_toc/h-child-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 127</span></span></span></span></div></li><li><div id="_toc/h-created-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-created-argument"><code>\H</code> <code>created</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 21</span></span></span></span></div></li><li class="has-child"><div id="_toc/h-file-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-file-argument"><code>\H</code> <code>file</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 710</span><span class="dcnt"> 13</span></span></span></span></div><ul><li><div id="_toc/h-file-argument-toplevel-header"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-file-argument-toplevel-header"><code>\H</code> <code>file</code> argument toplevel header</a><span class="hover-metadata"><a href="#_toc/h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><span class="metrics"><span class="wcntr"> 104</span></span></span></span></div></li><li><div id="_toc/interaction-between-file-and-scope"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#interaction-between-file-and-scope">Interaction between <code>{file}</code> and <code>{scope}</code></a><span class="hover-metadata"><a href="#_toc/h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><span class="metrics"><span class="wcntr"> 83</span></span></span></span></div></li><li><div id="_toc/file-input-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#file-input-directory"><code>_file</code> input directory</a><span class="hover-metadata"><a href="#_toc/h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li class="has-child"><div id="_toc/h-file-argument-demo"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-file-argument-demo"><code>\H</code> <code>file</code> argument demo</a><span class="hover-metadata"><a href="#_toc/h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><span class="metrics"><span class="wcntr"> 193</span><span class="dcnt"> 9</span></span></span></span></div><ul><li><div id="_toc/_file/file_demo"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/file_demo">file_demo</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 8</span></span></span></span></div></li><li><div id="_toc/_file/file_demo/file_demo_subdir"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/file_demo/file_demo_subdir">file_demo/file_demo_subdir</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li><div id="_toc/_file/file_demo/hello_world.js"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/file_demo/hello_world.js">file_demo/hello_world.js</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 11</span></span></span></span></div></li><li><div id="_toc/_file/file_demo/file_demo_subdir/hello_world.js"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/file_demo/file_demo_subdir/hello_world.js">file_demo/file_demo_subdir/hello_world.js</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li><div id="_toc/_file/index.js"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/index.js">index.js</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 117</span></span></span></span></div></li><li><div id="_toc/_file/file_demo/my.bin"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/file_demo/my.bin">file_demo/my.bin</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 5</span></span></span></span></div></li><li><div id="_toc/_file/Tank_man_standing_in_front_of_some_tanks.jpg"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/Tank_man_standing_in_front_of_some_tanks.jpg">Tank_man_standing_in_front_of_some_tanks.jpg</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 10</span></span></span></span></div></li><li><div id="_toc/_file/https://www.youtube.com/watch?v=YeFzeNAHEhU"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/https://www.youtube.com/watch?v=YeFzeNAHEhU">https://www.youtube.com/watch?v=YeFzeNAHEhU</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 8</span></span></span></span></div></li><li><div id="_toc/_file/https://example.com"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/https://example.com">https://example.com</a><span class="hover-metadata"><a href="#_toc/h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><span class="metrics"><span class="wcntr"> 21</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/h-numbered-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-numbered-argument"><code>\H</code> <code>numbered</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 335</span></span></span></span></div></li><li class="has-child"><div id="_toc/h-parent-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 572</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/id-based-header-levels-and-scope-resolution"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#id-based-header-levels-and-scope-resolution">ID-based header levels and scope resolution</a><span class="hover-metadata"><a href="#_toc/h-parent-argument" class="u"> <code>\H</code> <code>parent</code> argument</a><span class="metrics"><span class="wcntr"> 159</span></span></span></span></div></li><li><div id="_toc/header-explicit-levels-vs-nesting-design-choice"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#header-explicit-levels-vs-nesting-design-choice">Header explicit levels vs nesting design choice</a><span class="hover-metadata"><a href="#_toc/h-parent-argument" class="u"> <code>\H</code> <code>parent</code> argument</a><span class="metrics"><span class="wcntr"> 75</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/h-scope-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-scope-argument"><code>\H</code> <code>scope</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 504</span><span class="dcnt"> 6</span></span></span></span></div><ul><li><div id="_toc/scope-resolution"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#scope-resolution"><code>scope</code> resolution</a><span class="hover-metadata"><a href="#_toc/h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><span class="metrics"><span class="wcntr"> 95</span></span></span></span></div></li><li><div id="_toc/directory-based-scope"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#directory-based-scope">Directory-based <code>scope</code></a><span class="hover-metadata"><a href="#_toc/h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><span class="metrics"><span class="wcntr"> 41</span></span></span></span></div></li><li class="has-child"><div id="_toc/test-scope-1"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#test-scope-1">Test scope 1</a><span class="hover-metadata"><a href="#_toc/h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><span class="metrics"><span class="wcntr"> 10</span><span class="dcnt"> 2</span></span></span></span></div><ul><li class="has-child"><div id="_toc/test-scope-1/test-scope-2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#test-scope-1/test-scope-2">Test scope 2</a><span class="hover-metadata"><a href="#_toc/test-scope-1" class="u"> Test scope 1</a><span class="metrics"><span class="wcntr"> 6</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/test-scope-1/test-scope-2/not-scoped"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#test-scope-1/test-scope-2/not-scoped">Not scoped</a><span class="hover-metadata"><a href="#_toc/test-scope-1/test-scope-2" class="u"> Test scope 2</a></span></span></div></li></ul></li></ul><li><div id="_toc/h-scope-argument-of-toplevel-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-scope-argument-of-toplevel-headers"><code>\H</code> <code>scope</code> argument of toplevel headers</a><span class="hover-metadata"><a href="#_toc/h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><span class="metrics"><span class="wcntr"> 71</span></span></span></span></div></li></ul><li><div id="_toc/h-splitdefault-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 551</span></span></span></span></div></li><li><div id="_toc/h-splitsuffix-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-splitsuffix-argument"><code>\H</code> <code>splitSuffix</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 249</span></span></span></span></div></li><li><div id="_toc/h-synonym-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 126</span></span></span></span></div></li><li><div id="_toc/h-synonymnoscope-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-synonymnoscope-argument"><code>\H</code> <code>synonymNoScope</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 114</span></span></span></span></div></li><li class="has-child"><div id="_toc/h-title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-title-argument"><code>\H</code> <code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 441</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/automatic-id-from-title"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#automatic-id-from-title">Automatic ID from title</a><span class="hover-metadata"><a href="#_toc/h-title-argument" class="u"> <code>\H</code> <code>title</code> argument</a><span class="metrics"><span class="wcntr"> 381</span></span></span></span></div></li><li><div id="_toc/id-target-from-title"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#id-target-from-title">ID target from title</a><span class="hover-metadata"><a href="#_toc/h-title-argument" class="u"> <code>\H</code> <code>title</code> argument</a><span class="metrics"><span class="wcntr"> 24</span></span></span></span></div></li></ul><li><div id="_toc/h-tag-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 141</span></span></span></span></div></li><li class="has-child"><div id="_toc/h-title2-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-title2-argument"><code>\H</code> <code>title2</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 304</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/h-title2-argument-of-a-synonym-header"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-title2-argument-of-a-synonym-header"><code>\H</code> <code>title2</code> argument of a synonym header</a><span class="hover-metadata"><a href="#_toc/h-title2-argument" class="u"> <code>\H</code> <code>title2</code> argument</a><span class="metrics"><span class="wcntr"> 104</span></span></span></span></div></li></ul><li><div id="_toc/h-toplevel-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-toplevel-argument"><code>\H</code> <code>toplevel</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 168</span></span></span></span></div></li><li><div id="_toc/h-updated-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-updated-argument"><code>\H</code> <code>updated</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 21</span></span></span></span></div></li><li class="has-child"><div id="_toc/h-wiki-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#h-wiki-argument"><code>\H</code> <code>wiki</code> argument</a><span class="hover-metadata"><a href="#_toc/h-arguments" class="u"> <code>\H</code> arguments</a><span class="metrics"><span class="wcntr"> 176</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/wiki-explicit"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#wiki-explicit">Tiananmen Square</a><span class="hover-metadata"><a href="#_toc/h-wiki-argument" class="u"> <code>\H</code> <code>wiki</code> argument</a><span class="metrics"><span class="wcntr"> 16</span></span></span></span></div></li><li><div id="_toc/wiki-implicit"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#wiki-implicit">Tiananmen Square</a><span class="hover-metadata"><a href="#_toc/h-wiki-argument" class="u"> <code>\H</code> <code>wiki</code> argument</a><span class="metrics"><span class="wcntr"> 23</span></span></span></span></div></li><li><div id="_toc/wiki-explicit-subsection"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#wiki-explicit-subsection">History of Tiananmen Square</a><span class="hover-metadata"><a href="#_toc/h-wiki-argument" class="u"> <code>\H</code> <code>wiki</code> argument</a><span class="metrics"><span class="wcntr"> 85</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/table-of-contents"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#table-of-contents">Table of contents</a><span class="hover-metadata"><a href="#_toc/header" class="u"> Header</a><span class="metrics"><span class="wcntr"> 371</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/table-of-contents-javascript-open-close-interaction"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#table-of-contents-javascript-open-close-interaction">Table of contents JavaScript open close interaction</a><span class="hover-metadata"><a href="#_toc/table-of-contents" class="u"> Table of contents</a><span class="metrics"><span class="wcntr"> 286</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/header-metadata-section"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#header-metadata-section">Header metadata section</a><span class="hover-metadata"><a href="#_toc/header" class="u"> Header</a><span class="metrics"><span class="wcntr"> 213</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/incoming-links"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#incoming-links">Incoming links</a><span class="hover-metadata"><a href="#_toc/header-metadata-section" class="u"> Header metadata section</a><span class="metrics"><span class="wcntr"> 50</span></span></span></span></div></li><li><div id="_toc/tagged-metadata-section"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#tagged-metadata-section">Tagged metadata section</a><span class="hover-metadata"><a href="#_toc/header-metadata-section" class="u"> Header metadata section</a><span class="metrics"><span class="wcntr"> 61</span></span></span></span></div></li><li><div id="_toc/ancestors"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ancestors">Ancestors</a><span class="hover-metadata"><a href="#_toc/header-metadata-section" class="u"> Header metadata section</a><span class="metrics"><span class="wcntr"> 54</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/horizontal-rule"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#horizontal-rule">Horizontal rule</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 109</span></span></span></span></div></li><li class="has-child"><div id="_toc/image"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image">Image</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 3k</span><span class="dcnt"> 22</span></span></span></span></div><ul><li class="has-child"><div id="_toc/image-id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-id">Image ID</a><span class="hover-metadata"><a href="#_toc/image" class="u"> Image</a><span class="metrics"><span class="wcntr"> 384</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/image-caption"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-caption">Image caption</a><span class="hover-metadata"><a href="#_toc/image-id" class="u"> Image ID</a><span class="metrics"><span class="wcntr"> 260</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/where-to-store-images"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#where-to-store-images">Where to store images</a><span class="hover-metadata"><a href="#_toc/image" class="u"> Image</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/store-images-inside-the-repository-itself"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#store-images-inside-the-repository-itself">Store images inside the repository itself</a><span class="hover-metadata"><a href="#_toc/where-to-store-images" class="u"> Where to store images</a><span class="metrics"><span class="wcntr"> 103</span></span></span></span></div></li><li class="has-child"><div id="_toc/store-images-in-a-separate-media-repository"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#store-images-in-a-separate-media-repository">Store images in a separate media repository</a><span class="hover-metadata"><a href="#_toc/where-to-store-images" class="u"> Where to store images</a><span class="metrics"><span class="wcntr"> 662</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule">Store images in a separate media repository and track it as a git submodule</a><span class="hover-metadata"><a href="#_toc/store-images-in-a-separate-media-repository" class="u"> Store images in a separate media repository</a><span class="metrics"><span class="wcntr"> 188</span></span></span></span></div></li></ul><li><div id="_toc/store-images-in-wikimedia-commons"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#store-images-in-wikimedia-commons">Store images in Wikimedia Commons</a><span class="hover-metadata"><a href="#_toc/where-to-store-images" class="u"> Where to store images</a><span class="metrics"><span class="wcntr"> 266</span></span></span></span></div></li></ul><li><div id="_toc/image-lazy-loading"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-lazy-loading">Image lazy loading</a><span class="hover-metadata"><a href="#_toc/image" class="u"> Image</a><span class="metrics"><span class="wcntr"> 64</span></span></span></span></div></li><li><div id="_toc/background-color-of-transparent-images"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#background-color-of-transparent-images">Background color of transparent images</a><span class="hover-metadata"><a href="#_toc/image" class="u"> Image</a><span class="metrics"><span class="wcntr"> 158</span></span></span></span></div></li><li><div id="_toc/image-generators"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-generators">Image generators</a><span class="hover-metadata"><a href="#_toc/image" class="u"> Image</a><span class="metrics"><span class="wcntr"> 35</span></span></span></span></div></li><li class="has-child"><div id="_toc/block-and-inline-images"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#block-and-inline-images">Block and inline images</a><span class="hover-metadata"><a href="#_toc/image" class="u"> Image</a><span class="metrics"><span class="wcntr"> 13</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/inline-image"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inline-image">Inline image</a><span class="hover-metadata"><a href="#_toc/block-and-inline-images" class="u"> Block and inline images</a></span></span></div></li></ul><li class="has-child"><div id="_toc/image-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-argument">Image argument</a><span class="hover-metadata"><a href="#_toc/image" class="u"> Image</a><span class="metrics"><span class="wcntr"> 725</span><span class="dcnt"> 9</span></span></span></span></div><ul><li><div id="_toc/image-border-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-border-argument">Image <code>border</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 61</span></span></span></span></div></li><li><div id="_toc/image-description-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-description-argument">Image <code>description</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 265</span></span></span></span></div></li><li><div id="_toc/image-external-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-external-argument">Image <code>external</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 10</span></span></span></span></div></li><li><div id="_toc/image-height-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-height-argument">Image <code>height</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 184</span></span></span></span></div></li><li><div id="_toc/image-link-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-link-argument">Image <code>link</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 82</span></span></span></span></div></li><li><div id="_toc/image-source-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-source-argument">Image <code>source</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 43</span></span></span></span></div></li><li><div id="_toc/image-src-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-src-argument">Image <code>src</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 17</span></span></span></span></div></li><li><div id="_toc/image-title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-title-argument">Image <code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 4</span></span></span></span></div></li><li><div id="_toc/image-width-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#image-width-argument">Image <code>width</code> argument</a><span class="hover-metadata"><a href="#_toc/image-argument" class="u"> Image argument</a><span class="metrics"><span class="wcntr"> 59</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/include"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#include">Include</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 604</span><span class="dcnt"> 26</span></span></span></span></div><ul><li><div id="_toc/include-from-subdirectories"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#include-from-subdirectories"><code>\Include</code> from subdirectories</a><span class="hover-metadata"><a href="#_toc/include" class="u"> Include</a><span class="metrics"><span class="wcntr"> 41</span></span></span></span></div></li><li><div id="_toc/include-parent-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#include-parent-argument"><code>\Include</code> <code>parent</code> argument</a><span class="hover-metadata"><a href="#_toc/include" class="u"> Include</a><span class="metrics"><span class="wcntr"> 86</span></span></span></span></div></li><li class="has-child"><div id="_toc/include-example"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#include-example"><code>\Include</code> example</a><span class="hover-metadata"><a href="#_toc/include" class="u"> Include</a><span class="metrics"><span class="wcntr"> 114</span><span class="dcnt"> 23</span></span></span></span></div><ul><li class="has-child"><div id="_toc/not-index"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index">Not the index</a><span class="hover-metadata"><a href="#_toc/include-example" class="u"> <code>\Include</code> example</a><span class="metrics"><span class="wcntr"> 23</span><span class="dcnt"> 11</span></span></span></span></div><ul><li><div id="_toc/mymath-a-2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#mymath-a-2">mymath <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></a><span class="hover-metadata"><a href="#_toc/not-index" class="u"> Not the index</a></span></span></div></li><li class="has-child"><div id="_toc/h2-in-not-the-index"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#h2-in-not-the-index">h2 in not the index</a><span class="hover-metadata"><a href="#_toc/not-index" class="u"> Not the index</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/h3-in-not-the-index"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#h3-in-not-the-index">h3 in not the index</a><span class="hover-metadata"><a href="#_toc/h2-in-not-the-index" class="u"> h2 in not the index</a></span></span></div></li></ul><li><div id="_toc/some-references-back-to-the-index"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#some-references-back-to-the-index">Some references back to the index</a><span class="hover-metadata"><a href="#_toc/not-index" class="u"> Not the index</a></span></span></div></li><li class="has-child"><div id="_toc/not-the-index-header-with-scope"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#not-the-index-header-with-scope">Not the index header with scope</a><span class="hover-metadata"><a href="#_toc/not-index" class="u"> Not the index</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/not-the-index-header-with-scope/not-the-index-header-with-scope-child"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#not-the-index-header-with-scope/not-the-index-header-with-scope-child">Not the index header with scope child</a><span class="hover-metadata"><a href="#_toc/not-the-index-header-with-scope" class="u"> Not the index header with scope</a></span></span></div></li></ul><li class="has-child"><div id="_toc/not-the-index-header-with-fixed-case"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#not-the-index-header-with-fixed-case">Not the index header with fixed case</a><span class="hover-metadata"><a href="#_toc/not-index" class="u"> Not the index</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/header-with-scope-child"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#header-with-scope-child">Header with scope child</a><span class="hover-metadata"><a href="#_toc/not-the-index-header-with-fixed-case" class="u"> Not the index header with fixed case</a></span></span></div></li></ul><li class="has-child"><div id="_toc/not-the-index-another-include"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index#not-the-index-another-include">Not the index another include</a><span class="hover-metadata"><a href="#_toc/not-index" class="u"> Not the index</a><span class="metrics"><span class="dcnt"> 2</span></span></span></span></div><ul><li class="has-child"><div id="_toc/included-by-not-index"><div class="arrow"><div></div></div><span class="not-arrow"><a href="included-by-not-index">Included by not the index</a><span class="hover-metadata"><a href="#_toc/not-the-index-another-include" class="u"> Not the index another include</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/included-by-not-the-index-2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="included-by-not-index#included-by-not-the-index-2">Included by not the index 2</a><span class="hover-metadata"><a href="#_toc/included-by-not-index" class="u"> Included by not the index</a></span></span></div></li></ul></li></ul></li></ul><li><div id="_toc/not-index-2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index-2">Not the index 2</a><span class="hover-metadata"><a href="#_toc/include-example" class="u"> <code>\Include</code> example</a></span></span></div></li><li class="has-child"><div id="_toc/not-index-with-scope"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index-with-scope">Not the index with scope</a><span class="hover-metadata"><a href="#_toc/include-example" class="u"> <code>\Include</code> example</a><span class="metrics"><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/not-index-with-scope/h2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index-with-scope#h2">h2</a><span class="hover-metadata"><a href="#_toc/not-index-with-scope" class="u"> Not the index with scope</a></span></span></div></li><li class="has-child"><div id="_toc/not-index-with-scope/h2-2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index-with-scope#h2-2">h2 2</a><span class="hover-metadata"><a href="#_toc/not-index-with-scope" class="u"> Not the index with scope</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/not-index-with-scope/h3"><div class="arrow"><div></div></div><span class="not-arrow"><a href="not-index-with-scope#h3">h3</a><span class="hover-metadata"><a href="#_toc/not-index-with-scope/h2-2" class="u"> h2 2</a></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/subdir"><div class="arrow"><div></div></div><span class="not-arrow"><a href="subdir">Subdir</a><span class="hover-metadata"><a href="#_toc/include-example" class="u"> <code>\Include</code> example</a><span class="metrics"><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/subdir/included-by-index"><div class="arrow"><div></div></div><span class="not-arrow"><a href="subdir/included-by-index">Included by index</a><span class="hover-metadata"><a href="#_toc/subdir" class="u"> Subdir</a></span></span></div></li><li><div id="_toc/subdir/h2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="subdir#h2">H2</a><span class="hover-metadata"><a href="#_toc/subdir" class="u"> Subdir</a></span></span></div></li><li><div id="_toc/subdir/ourbigbook"><div class="arrow"><div></div></div><span class="not-arrow"><a href="subdir#ourbigbook">Ourbigbook</a><span class="hover-metadata"><a href="#_toc/subdir" class="u"> Subdir</a></span></span></div></li></ul><li class="has-child"><div id="_toc/subdir/notindex"><div class="arrow"><div></div></div><span class="not-arrow"><a href="subdir/notindex">Notindex</a><span class="hover-metadata"><a href="#_toc/include-example" class="u"> <code>\Include</code> example</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/subdir/notindex-h2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="subdir/notindex#notindex-h2">Notindex h2</a><span class="hover-metadata"><a href="#_toc/subdir/notindex" class="u"> Notindex</a></span></span></div></li></ul></li></ul></li></ul><li><div id="_toc/italic"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#italic">Italic</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 9</span></span></span></span></div></li><li><div id="_toc/jscanvasdemo"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#jscanvasdemo"><code>\JsCanvasDemo</code></a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 171</span></span></span></span></div></li><li><div id="_toc/list"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#list">List</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 345</span></span></span></span></div></li><li class="has-child"><div id="_toc/mathematics"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#mathematics">Mathematics</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 895</span><span class="dcnt"> 8</span></span></span></span></div><ul><li class="has-child"><div id="_toc/m-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#m-argument"><code>\M</code> argument</a><span class="hover-metadata"><a href="#_toc/mathematics" class="u"> Mathematics</a><span class="metrics"><span class="wcntr"> 67</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/m-description-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#m-description-argument"><code>\M</code> <code>description</code> argument</a><span class="hover-metadata"><a href="#_toc/m-argument" class="u"> <code>\M</code> argument</a><span class="metrics"><span class="wcntr"> 39</span></span></span></span></div></li><li><div id="_toc/m-title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#m-title-argument"><code>\M</code> <code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/m-argument" class="u"> <code>\M</code> argument</a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/latex-macros"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#latex-macros">LaTeX macros</a><span class="hover-metadata"><a href="#_toc/mathematics" class="u"> Mathematics</a><span class="metrics"><span class="wcntr"> 404</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/built-in-latex-macros"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#built-in-latex-macros">Built-in LaTeX macros</a><span class="hover-metadata"><a href="#_toc/latex-macros" class="u"> LaTeX macros</a><span class="metrics"><span class="wcntr"> 117</span></span></span></span></div></li><li class="has-child"><div id="_toc/user-defined-latex-macros"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#user-defined-latex-macros">User-defined LaTeX macros</a><span class="hover-metadata"><a href="#_toc/latex-macros" class="u"> LaTeX macros</a><span class="metrics"><span class="wcntr"> 287</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-tex"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-tex"><code>ourbigbook.tex</code></a><span class="hover-metadata"><a href="#_toc/user-defined-latex-macros" class="u"> User-defined LaTeX macros</a><span class="metrics"><span class="wcntr"> 111</span></span></span></span></div></li><li><div id="_toc/inline-user-defined-latex-macros"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inline-user-defined-latex-macros">Inline user-defined LaTeX macros</a><span class="hover-metadata"><a href="#_toc/user-defined-latex-macros" class="u"> User-defined LaTeX macros</a><span class="metrics"><span class="wcntr"> 176</span></span></span></span></div></li></ul></li></ul></li></ul><li><div id="_toc/ourbigbookexample"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbookexample"><code>\OurBigBookExample</code></a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 57</span></span></span></span></div></li><li><div id="_toc/paragraph"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#paragraph">Paragraph</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 162</span></span></span></span></div></li><li><div id="_toc/passthrough"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#passthrough">Passthrough</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 47</span></span></span></span></div></li><li class="has-child"><div id="_toc/quotation"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#quotation">Quotation</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 329</span><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/q-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#q-argument"><code>\Q</code> argument</a><span class="hover-metadata"><a href="#_toc/quotation" class="u"> Quotation</a><span class="metrics"><span class="wcntr"> 258</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/q-description-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#q-description-argument"><code>\Q</code> <code>description</code> argument</a><span class="hover-metadata"><a href="#_toc/q-argument" class="u"> <code>\Q</code> argument</a><span class="metrics"><span class="wcntr"> 162</span></span></span></span></div></li><li><div id="_toc/q-title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#q-title-argument"><code>\Q</code> <code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/q-argument" class="u"> <code>\Q</code> argument</a><span class="metrics"><span class="wcntr"> 96</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/table"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#table">Table</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 578</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/table-sorting"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#table-sorting">Table sorting</a><span class="hover-metadata"><a href="#_toc/table" class="u"> Table</a><span class="metrics"><span class="wcntr"> 65</span></span></span></span></div></li><li class="has-child"><div id="_toc/table-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#table-argument"><code>\Table</code> argument</a><span class="hover-metadata"><a href="#_toc/table" class="u"> Table</a><span class="metrics"><span class="wcntr"> 4</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/table-description-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#table-description-argument"><code>\Table</code> <code>description</code> argument</a><span class="hover-metadata"><a href="#_toc/table-argument" class="u"> <code>\Table</code> argument</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li><div id="_toc/table-title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#table-title-argument"><code>\Table</code> <code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/table-argument" class="u"> <code>\Table</code> argument</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/video"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#video">Video</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 511</span><span class="dcnt"> 5</span></span></span></span></div><ul><li><div id="_toc/video-lazy-loading"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#video-lazy-loading">Video lazy loading</a><span class="hover-metadata"><a href="#_toc/video" class="u"> Video</a><span class="metrics"><span class="wcntr"> 102</span></span></span></span></div></li><li class="has-child"><div id="_toc/video-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#video-argument"><code>\Video</code> argument</a><span class="hover-metadata"><a href="#_toc/video" class="u"> Video</a><span class="metrics"><span class="wcntr"> 21</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/video-description-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#video-description-argument"><code>\Video</code> <code>description</code> argument</a><span class="hover-metadata"><a href="#_toc/video-argument" class="u"> <code>\Video</code> argument</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li><div id="_toc/video-title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#video-title-argument"><code>\Video</code> <code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/video-argument" class="u"> <code>\Video</code> argument</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li><div id="_toc/video-start-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#video-start-argument"><code>\Video</code> <code>start</code> argument</a><span class="hover-metadata"><a href="#_toc/video-argument" class="u"> <code>\Video</code> argument</a><span class="metrics"><span class="wcntr"> 17</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/internal-link"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#internal-link">Internal link</a><span class="hover-metadata"><a href="#_toc/macro" class="u"> Macro</a><span class="metrics"><span class="wcntr"> 4k</span><span class="dcnt"> 32</span></span></span></span></div><ul><li><div id="_toc/shorthand-internal-link"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-internal-link">Shorthand internal link</a><span class="hover-metadata"><a href="#_toc/internal-link" class="u"> Internal link</a></span></span></div></li><li><div id="_toc/shorthand-cross-reference"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-cross-reference">Shorthand cross reference</a><span class="hover-metadata"><a href="#_toc/internal-link" class="u"> Internal link</a><span class="metrics"><span class="wcntr"> 118</span></span></span></span></div></li><li class="has-child"><div id="_toc/internal-link-title-inflection"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#internal-link-title-inflection">Internal link title inflection</a><span class="hover-metadata"><a href="#_toc/internal-link" class="u"> Internal link</a><span class="metrics"><span class="wcntr"> 576</span><span class="dcnt"> 7</span></span></span></span></div><ul><li class="has-child"><div id="_toc/internal-link-title-inflection-example"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#internal-link-title-inflection-example">Internal link title inflection example</a><span class="hover-metadata"><a href="#_toc/internal-link-title-inflection" class="u"> Internal link title inflection</a><span class="metrics"><span class="wcntr"> 64</span><span class="dcnt"> 5</span></span></span></span></div><ul><li><div id="_toc/inflection-example-not-proper"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inflection-example-not-proper">Inflection example not-proper</a><span class="hover-metadata"><a href="#_toc/internal-link-title-inflection-example" class="u"> Internal link title inflection example</a></span></span></div></li><li><div id="_toc/inflection-example-proper"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inflection-example-proper">Inflection example proper</a><span class="hover-metadata"><a href="#_toc/internal-link-title-inflection-example" class="u"> Internal link title inflection example</a></span></span></div></li><li><div id="_toc/inflection-example-not-proper-lower"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inflection-example-not-proper-lower">inflection example not-proper lower</a><span class="hover-metadata"><a href="#_toc/internal-link-title-inflection-example" class="u"> Internal link title inflection example</a></span></span></div></li><li><div id="_toc/inflection-example-proper-lower"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inflection-example-proper-lower">inflection example proper lower</a><span class="hover-metadata"><a href="#_toc/internal-link-title-inflection-example" class="u"> Internal link title inflection example</a></span></span></div></li><li><div id="_toc/inflection-plural-examples"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inflection-plural-examples">Inflection plural examples</a><span class="hover-metadata"><a href="#_toc/internal-link-title-inflection-example" class="u"> Internal link title inflection example</a></span></span></div></li></ul><li><div id="_toc/blakeembrey-pluralize"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#blakeembrey-pluralize">blakeembrey/pluralize</a><span class="hover-metadata"><a href="#_toc/internal-link-title-inflection" class="u"> Internal link title inflection</a><span class="metrics"><span class="wcntr"> 54</span></span></span></span></div></li></ul><li><div id="_toc/inflection-vs-magic"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inflection-vs-magic">Inflection vs magic</a><span class="hover-metadata"><a href="#_toc/internal-link" class="u"> Internal link</a><span class="metrics"><span class="wcntr"> 146</span></span></span></span></div></li><li><div id="_toc/x-within-title-restrictions"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-within-title-restrictions"><code>\x</code> within <code>title</code> restrictions</a><span class="hover-metadata"><a href="#_toc/internal-link" class="u"> Internal link</a><span class="metrics"><span class="wcntr"> 448</span></span></span></span></div></li><li class="has-child"><div id="_toc/cross-file-internal-link"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#cross-file-internal-link">Cross file internal link</a><span class="hover-metadata"><a href="#_toc/internal-link" class="u"> Internal link</a><span class="metrics"><span class="wcntr"> 882</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/cross-file-internal-link-internals"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#cross-file-internal-link-internals">Cross file internal link internals</a><span class="hover-metadata"><a href="#_toc/cross-file-internal-link" class="u"> Cross file internal link</a><span class="metrics"><span class="wcntr"> 171</span></span></span></span></div></li><li><div id="_toc/link-to-ids-not-url-path"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#link-to-ids-not-url-path">Link to IDs, not URL path</a><span class="hover-metadata"><a href="#_toc/cross-file-internal-link" class="u"> Cross file internal link</a><span class="metrics"><span class="wcntr"> 336</span></span></span></span></div></li><li><div id="_toc/internal-link-title-link-removal"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#internal-link-title-link-removal">Internal link title link removal</a><span class="hover-metadata"><a href="#_toc/cross-file-internal-link" class="u"> Cross file internal link</a><span class="metrics"><span class="wcntr"> 123</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/x-arguments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-arguments"><code>\x</code> arguments</a><span class="hover-metadata"><a href="#_toc/internal-link" class="u"> Internal link</a><span class="metrics"><span class="wcntr"> 2k</span><span class="dcnt"> 15</span></span></span></span></div><ul><li><div id="_toc/x-c-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-c-argument"><code>\x</code> <code>c</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 13</span></span></span></span></div></li><li class="has-child"><div id="_toc/x-child-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-child-argument"><code>\x</code> <code>child</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 426</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/secondary-children"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#secondary-children">Secondary children</a><span class="hover-metadata"><a href="#_toc/x-child-argument" class="u"> <code>\x</code> <code>child</code> argument</a><span class="metrics"><span class="wcntr"> 208</span></span></span></span></div></li></ul><li><div id="_toc/x-file-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-file-argument"><code>\x</code> <code>file</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 47</span></span></span></span></div></li><li class="has-child"><div id="_toc/x-full-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-full-argument"><code>\x</code> <code>full</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 130</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/x-full-argument-in-cross-file-internal-links"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-full-argument-in-cross-file-internal-links"><code>\x</code> <code>full</code> argument in cross file internal links</a><span class="hover-metadata"><a href="#_toc/x-full-argument" class="u"> <code>\x</code> <code>full</code> argument</a><span class="metrics"><span class="wcntr"> 50</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/x-magic-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 383</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/shorthand-magic-link"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-magic-link">Shorthand magic link</a><span class="hover-metadata"><a href="#_toc/x-magic-argument" class="u"> <code>\x</code> <code>magic</code> argument</a><span class="metrics"><span class="wcntr"> 24</span></span></span></span></div></li></ul><li><div id="_toc/x-parent-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-parent-argument"><code>\x</code> <code>parent</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 26</span></span></span></span></div></li><li><div id="_toc/x-ref-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-ref-argument"><code>\x</code> <code>ref</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 70</span></span></span></span></div></li><li class="has-child"><div id="_toc/x-topic-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-topic-argument"><code>\x</code> <code>topic</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 410</span><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/shorthand-topic-link"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-topic-link">Shorthand topic link</a><span class="hover-metadata"><a href="#_toc/x-topic-argument" class="u"> <code>\x</code> <code>topic</code> argument</a><span class="metrics"><span class="wcntr"> 160</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/shorthand-topic-links-with-a-single-word"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-topic-links-with-a-single-word">Shorthand topic links with a single word</a><span class="hover-metadata"><a href="#_toc/shorthand-topic-link" class="u"> Shorthand topic link</a><span class="metrics"><span class="wcntr"> 128</span></span></span></span></div></li></ul><li><div id="_toc/topic-link-pluralization"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#topic-link-pluralization">Topic link pluralization</a><span class="hover-metadata"><a href="#_toc/x-topic-argument" class="u"> <code>\x</code> <code>topic</code> argument</a><span class="metrics"><span class="wcntr"> 148</span></span></span></span></div></li></ul><li><div id="_toc/x-p-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a><span class="hover-metadata"><a href="#_toc/x-arguments" class="u"> <code>\x</code> arguments</a><span class="metrics"><span class="wcntr"> 15</span></span></span></span></div></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-markup-syntax"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-markup-syntax">OurBigBook Markup syntax</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup" class="u"> OurBigBook Markup</a><span class="metrics"><span class="wcntr"> 3k</span><span class="dcnt"> 39</span></span></span></span></div><ul><li class="has-child"><div id="_toc/macro-shorthand-syntax"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#macro-shorthand-syntax">Macro shorthand syntax</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-syntax" class="u"> OurBigBook Markup syntax</a><span class="metrics"><span class="wcntr"> 556</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/macro-with-shorthand-syntax"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a><span class="hover-metadata"><a href="#_toc/macro-shorthand-syntax" class="u"> Macro shorthand syntax</a><span class="metrics"><span class="wcntr"> 371</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/code-and-math-shorthands"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#code-and-math-shorthands">Code and math shorthands</a><span class="hover-metadata"><a href="#_toc/macro-with-shorthand-syntax" class="u"> Macro with shorthand syntax</a><span class="metrics"><span class="wcntr"> 72</span></span></span></span></div></li><li><div id="_toc/shorthand-syntax-extra-arguments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#shorthand-syntax-extra-arguments">Shorthand syntax extra arguments</a><span class="hover-metadata"><a href="#_toc/macro-with-shorthand-syntax" class="u"> Macro with shorthand syntax</a><span class="metrics"><span class="wcntr"> 118</span></span></span></span></div></li><li><div id="_toc/escapes-in-macro-shorthands"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#escapes-in-macro-shorthands">Escapes in macro shorthands</a><span class="hover-metadata"><a href="#_toc/macro-with-shorthand-syntax" class="u"> Macro with shorthand syntax</a><span class="metrics"><span class="wcntr"> 140</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/macro-identifier"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#macro-identifier">Macro identifier</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-syntax" class="u"> OurBigBook Markup syntax</a><span class="metrics"><span class="wcntr"> 35</span></span></span></span></div></li><li class="has-child"><div id="_toc/macro-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#macro-argument">Macro argument</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-syntax" class="u"> OurBigBook Markup syntax</a><span class="metrics"><span class="wcntr"> 3k</span><span class="dcnt"> 32</span></span></span></span></div><ul><li class="has-child"><div id="_toc/positional-vs-named-arguments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#positional-vs-named-arguments">Positional vs named arguments</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 392</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/positional-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#positional-argument">Positional argument</a><span class="hover-metadata"><a href="#_toc/positional-vs-named-arguments" class="u"> Positional vs named arguments</a><span class="metrics"><span class="wcntr"> 121</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/positional-argument-default-values"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#positional-argument-default-values">Positional argument default values</a><span class="hover-metadata"><a href="#_toc/positional-argument" class="u"> Positional argument</a><span class="metrics"><span class="wcntr"> 82</span></span></span></span></div></li><li><div id="_toc/mandatory-positional-arguments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#mandatory-positional-arguments">Mandatory positional arguments</a><span class="hover-metadata"><a href="#_toc/positional-argument" class="u"> Positional argument</a><span class="metrics"><span class="wcntr"> 37</span></span></span></span></div></li></ul><li><div id="_toc/named-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#named-argument">Named argument</a><span class="hover-metadata"><a href="#_toc/positional-vs-named-arguments" class="u"> Positional vs named arguments</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/macro-argument-type"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#macro-argument-type">Macro argument type</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 171</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/boolean-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#boolean-argument">Boolean argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-type" class="u"> Macro argument type</a><span class="metrics"><span class="wcntr"> 123</span></span></span></span></div></li><li><div id="_toc/date-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#date-argument">Date argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-type" class="u"> Macro argument type</a><span class="metrics"><span class="wcntr"> 19</span></span></span></span></div></li><li><div id="_toc/positive-nonzero-integer-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#positive-nonzero-integer-argument">Positive nonzero integer argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-type" class="u"> Macro argument type</a><span class="metrics"><span class="wcntr"> 29</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/common-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#common-argument">Common argument</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 446</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/id-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#id-argument"><code>id</code> argument</a><span class="hover-metadata"><a href="#_toc/common-argument" class="u"> Common argument</a><span class="metrics"><span class="wcntr"> 113</span></span></span></span></div></li><li><div id="_toc/disambiguate-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#disambiguate-argument"><code>disambiguate</code> argument</a><span class="hover-metadata"><a href="#_toc/common-argument" class="u"> Common argument</a><span class="metrics"><span class="wcntr"> 324</span></span></span></span></div></li></ul><li><div id="_toc/javascript-interface-for-arguments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#javascript-interface-for-arguments">JavaScript interface for arguments</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 54</span></span></span></span></div></li><li><div id="_toc/literal-arguments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#literal-arguments">Literal arguments</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 274</span></span></span></span></div></li><li class="has-child"><div id="_toc/newline-removal"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#newline-removal">Newline removal</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 367</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/argument-leading-and-trailing-newline-removal"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#argument-leading-and-trailing-newline-removal">Argument leading and trailing newline removal</a><span class="hover-metadata"><a href="#_toc/newline-removal" class="u"> Newline removal</a><span class="metrics"><span class="wcntr"> 121</span></span></span></span></div></li><li><div id="_toc/argument-newlines-between-arguments-removal"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#argument-newlines-between-arguments-removal">Argument newlines between arguments removal</a><span class="hover-metadata"><a href="#_toc/newline-removal" class="u"> Newline removal</a><span class="metrics"><span class="wcntr"> 109</span></span></span></span></div></li><li><div id="_toc/document-trailing-newline-removal"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#document-trailing-newline-removal">Document trailing newline removal</a><span class="hover-metadata"><a href="#_toc/newline-removal" class="u"> Newline removal</a><span class="metrics"><span class="wcntr"> 20</span></span></span></span></div></li></ul><li><div id="_toc/crlf"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#crlf">CRLF</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 12</span></span></span></span></div></li><li><div id="_toc/escape-characters"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#escape-characters">Escape characters</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 222</span></span></span></span></div></li><li class="has-child"><div id="_toc/macro-argument-property"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#macro-argument-property">Macro argument property</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 529</span><span class="dcnt"> 7</span></span></span></span></div><ul><li><div id="_toc/disabled-macro-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#disabled-macro-argument">Disabled macro argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-property" class="u"> Macro argument property</a><span class="metrics"><span class="wcntr"> 47</span></span></span></span></div></li><li><div id="_toc/cannotcontains-macro-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#cannotcontains-macro-argument"><code>cannotContains</code> macro argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-property" class="u"> Macro argument property</a><span class="metrics"><span class="wcntr"> 41</span></span></span></span></div></li><li><div id="_toc/empty-macro-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#empty-macro-argument"><code>empty</code> macro argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-property" class="u"> Macro argument property</a><span class="metrics"><span class="wcntr"> 42</span></span></span></span></div></li><li><div id="_toc/inlineonly"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inlineonly"><code>inlineOnly</code></a><span class="hover-metadata"><a href="#_toc/macro-argument-property" class="u"> Macro argument property</a><span class="metrics"><span class="wcntr"> 164</span></span></span></span></div></li><li><div id="_toc/multiple-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#multiple-argument"><code>multiple</code> argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-property" class="u"> Macro argument property</a><span class="metrics"><span class="wcntr"> 91</span></span></span></span></div></li><li><div id="_toc/notempty-macro-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#notempty-macro-argument"><code>notEmpty</code> macro argument</a><span class="hover-metadata"><a href="#_toc/macro-argument-property" class="u"> Macro argument property</a><span class="metrics"><span class="wcntr"> 18</span></span></span></span></div></li><li><div id="_toc/remove-whitespace-children"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#remove-whitespace-children"><code>remove_whitespace_children</code></a><span class="hover-metadata"><a href="#_toc/macro-argument-property" class="u"> Macro argument property</a><span class="metrics"><span class="wcntr"> 99</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/pseudo-macro-argument-property"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#pseudo-macro-argument-property">Pseudo-macro argument property</a><span class="hover-metadata"><a href="#_toc/macro-argument" class="u"> Macro argument</a><span class="metrics"><span class="wcntr"> 293</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/content-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#content-argument"><code>content</code> argument</a><span class="hover-metadata"><a href="#_toc/pseudo-macro-argument-property" class="u"> Pseudo-macro argument property</a><span class="metrics"><span class="wcntr"> 172</span></span></span></span></div></li><li><div id="_toc/title-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#title-argument"><code>title</code> argument</a><span class="hover-metadata"><a href="#_toc/pseudo-macro-argument-property" class="u"> Pseudo-macro argument property</a><span class="metrics"><span class="wcntr"> 57</span></span></span></span></div></li><li><div id="_toc/description-argument"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#description-argument"><code>description</code> argument</a><span class="hover-metadata"><a href="#_toc/pseudo-macro-argument-property" class="u"> Pseudo-macro argument property</a><span class="metrics"><span class="wcntr"> 31</span></span></span></span></div></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-markup-concepts"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-markup-concepts">OurBigBook Markup concepts</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup" class="u"> OurBigBook Markup</a><span class="metrics"><span class="wcntr"> 455</span><span class="dcnt"> 10</span></span></span></span></div><ul><li><div id="_toc/auto-parent"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#auto-parent"><code>auto_parent</code> macro property</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><span class="metrics"><span class="wcntr"> 52</span></span></span></span></div></li><li class="has-child"><div id="_toc/block-vs-inline-macros"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#block-vs-inline-macros">Block vs inline macros</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><span class="metrics"><span class="wcntr"> 81</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/block-macro"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#block-macro">Block macro</a><span class="hover-metadata"><a href="#_toc/block-vs-inline-macros" class="u"> Block vs inline macros</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li><div id="_toc/inline-macro"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inline-macro">Inline macro</a><span class="hover-metadata"><a href="#_toc/block-vs-inline-macros" class="u"> Block vs inline macros</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li></ul><li><div id="_toc/known-url-protocols"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#known-url-protocols">Known URL protocols</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><span class="metrics"><span class="wcntr"> 50</span></span></span></span></div></li><li><div id="_toc/javascript-case-conversion"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#javascript-case-conversion">JavaScript case conversion</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><span class="metrics"><span class="wcntr"> 53</span></span></span></span></div></li><li><div id="_toc/javascript-regular-expression"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#javascript-regular-expression">JavaScript regular expression</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a></span></span></div></li><li><div id="_toc/git-tracked-project"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#git-tracked-project">Git tracked project</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li><li class="has-child"><div id="_toc/element-id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#element-id">Element ID</a><span class="hover-metadata"><a href="#_toc/ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><span class="metrics"><span class="wcntr"> 181</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/reserved-ids"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#reserved-ids">Reserved IDs</a><span class="hover-metadata"><a href="#_toc/element-id" class="u"> Element ID</a><span class="metrics"><span class="wcntr"> 103</span></span></span></span></div></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-cli"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-cli">OurBigBook CLI</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 12k</span><span class="dcnt"> 119</span></span></span></span></div><ul><li><div id="_toc/stdin-conversion"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#stdin-conversion">stdin conversion</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 92</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-cli-quick-start"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-cli-quick-start">OurBigBook CLI quick start</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 732</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/play-with-the-template"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#play-with-the-template">Play with the template</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-quick-start" class="u"> OurBigBook CLI quick start</a><span class="metrics"><span class="wcntr"> 267</span></span></span></span></div></li><li class="has-child"><div id="_toc/important-command-line-options"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#important-command-line-options">Important command line options</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-quick-start" class="u"> OurBigBook CLI quick start</a><span class="metrics"><span class="wcntr"> 296</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/produce-a-standalone-html-file"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#produce-a-standalone-html-file">Produce a standalone HTML file</a><span class="hover-metadata"><a href="#_toc/important-command-line-options" class="u"> Important command line options</a><span class="metrics"><span class="wcntr"> 117</span></span></span></span></div></li></ul><li><div id="_toc/useless-knowledge"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#useless-knowledge">Useless knowledge</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-quick-start" class="u"> OurBigBook CLI quick start</a><span class="metrics"><span class="wcntr"> 169</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/publish-your-content"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-your-content">Publish your content</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 271</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-vs-static-website-publishing"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-vs-static-website-publishing">OurBigBook Web vs static website publishing</a><span class="hover-metadata"><a href="#_toc/publish-your-content" class="u"> Publish your content</a><span class="metrics"><span class="wcntr"> 140</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/index-file"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#index-file">Index file</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 795</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/project-toplevel-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#project-toplevel-directory">Project toplevel directory</a><span class="hover-metadata"><a href="#_toc/index-file" class="u"> Index file</a><span class="metrics"><span class="wcntr"> 642</span><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/the-toplevel-index-file"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#the-toplevel-index-file">The toplevel index file</a><span class="hover-metadata"><a href="#_toc/project-toplevel-directory" class="u"> Project toplevel directory</a><span class="metrics"><span class="wcntr"> 430</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/the-home-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#the-home-article">The home article</a><span class="hover-metadata"><a href="#_toc/the-toplevel-index-file" class="u"> The toplevel index file</a><span class="metrics"><span class="wcntr"> 237</span></span></span></span></div></li><li><div id="_toc/the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json">The current working directory does not matter when there is a <code>ourbigbook.json</code></a><span class="hover-metadata"><a href="#_toc/the-toplevel-index-file" class="u"> The toplevel index file</a><span class="metrics"><span class="wcntr"> 178</span></span></span></span></div></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-cli-options"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-cli-options">OurBigBook CLI options</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 7k</span><span class="dcnt"> 64</span></span></span></span></div><ul><li><div id="_toc/check-db-only"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#check-db-only"><code>--check-db-only</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 29</span></span></span></span></div></li><li><div id="_toc/china"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#china"><code>--china</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 43</span></span></span></span></div></li><li class="has-child"><div id="_toc/dry-run"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#dry-run"><code>--dry-run</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 95</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/dry-run-push"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#dry-run-push"><code>--dry-run-push</code></a><span class="hover-metadata"><a href="#_toc/dry-run" class="u"> <code>--dry-run</code></a><span class="metrics"><span class="wcntr"> 37</span></span></span></span></div></li></ul><li><div id="_toc/embed-includes"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#embed-includes"><code>--embed-includes</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 244</span></span></span></span></div></li><li><div id="_toc/escape-literal"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#escape-literal"><code>--escape-literal</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 88</span></span></span></span></div></li><li><div id="_toc/embed-resources"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#embed-resources"><code>--embed-resources</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 528</span></span></span></span></div></li><li><div id="_toc/force-render"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#force-render">-<code>F</code>, <code>--force-render</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 349</span></span></span></span></div></li><li><div id="_toc/format-source"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#format-source"><code>--format-source</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 155</span></span></span></span></div></li><li><div id="_toc/generate"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#generate"><code>--generate</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 197</span></span></span></span></div></li><li><div id="_toc/help-macros"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#help-macros"><code>--help-macros</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 14</span></span></span></span></div></li><li class="has-child"><div id="_toc/log"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#log"><code>--log</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 523</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/log-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#log-headers"><code>--log headers</code></a><span class="hover-metadata"><a href="#_toc/log" class="u"> <code>--log</code></a><span class="metrics"><span class="wcntr"> 112</span></span></span></span></div></li><li><div id="_toc/log-perf"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#log-perf"><code>--log perf</code></a><span class="hover-metadata"><a href="#_toc/log" class="u"> <code>--log</code></a><span class="metrics"><span class="wcntr"> 186</span></span></span></span></div></li></ul><li><div id="_toc/no-check-db"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#no-check-db"><code>--no-check-db</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 75</span></span></span></span></div></li><li><div id="_toc/no-db"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#no-db"><code>--no-db</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li><li><div id="_toc/no-html-x-extension"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#no-html-x-extension"><code>--no-html-x-extension</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 83</span></span></span></span></div></li><li><div id="_toc/no-render"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#no-render"><code>--no-render</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 31</span></span></span></span></div></li><li><div id="_toc/no-web-render"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#no-web-render"><code>--no-web-render</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 44</span></span></span></span></div></li><li><div id="_toc/outdir"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#outdir"><code>--outdir &lt;outdir&gt;</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 98</span></span></span></span></div></li><li><div id="_toc/outfile"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#outfile"><code>--outfile &lt;outfie&gt;</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 50</span></span></span></span></div></li><li class="has-child"><div id="_toc/output-format"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#output-format"><code>-O --output-format &lt;outformat&gt;</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 587</span><span class="dcnt"> 6</span></span></span></span></div><ul><li><div id="_toc/bigb-output-format"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#bigb-output-format"><code>bigb</code> output format</a><span class="hover-metadata"><a href="#_toc/output-format" class="u"> <code>-O --output-format &lt;outformat&gt;</code></a><span class="metrics"><span class="wcntr"> 181</span></span></span></span></div></li><li><div id="_toc/html-output-format"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#html-output-format"><code>html</code> output format</a><span class="hover-metadata"><a href="#_toc/output-format" class="u"> <code>-O --output-format &lt;outformat&gt;</code></a><span class="metrics"><span class="wcntr"> 6</span></span></span></span></div></li><li class="has-child"><div id="_toc/id-output-format"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#id-output-format"><code>id</code> output format</a><span class="hover-metadata"><a href="#_toc/output-format" class="u"> <code>-O --output-format &lt;outformat&gt;</code></a><span class="metrics"><span class="wcntr"> 398</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/x-id-output-format"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#x-id-output-format"><code>\x</code> <code>id</code> output format</a><span class="hover-metadata"><a href="#_toc/id-output-format" class="u"> <code>id</code> output format</a><span class="metrics"><span class="wcntr"> 142</span></span></span></span></div></li><li class="has-child"><div id="_toc/unimplemented-output-formats"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#unimplemented-output-formats">Unimplemented output formats</a><span class="hover-metadata"><a href="#_toc/id-output-format" class="u"> <code>id</code> output format</a><span class="metrics"><span class="wcntr"> 6</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/latex-output-format"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#latex-output-format"><code>latex</code> output format</a><span class="hover-metadata"><a href="#_toc/unimplemented-output-formats" class="u"> Unimplemented output formats</a><span class="metrics"><span class="wcntr"> 6</span></span></span></span></div></li></ul></li></ul></li></ul><li><div id="_toc/p-publish"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#p-publish"><code>-p</code>, <code>--publish</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 155</span></span></span></span></div></li><li><div id="_toc/publish-commit"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-commit"><code>-P, --publish-commit &lt;commit-message&gt;</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 65</span></span></span></span></div></li><li><div id="_toc/publish-no-convert"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-no-convert"><code>--publish-no-convert</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 59</span></span></span></span></div></li><li class="has-child"><div id="_toc/publish-target"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-target"><code>--publish-target</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 291</span><span class="dcnt"> 6</span></span></span></span></div><ul><li><div id="_toc/publish-target-github-pages"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-target-github-pages"><code>--publish-target github-pages</code></a><span class="hover-metadata"><a href="#_toc/publish-target" class="u"> <code>--publish-target</code></a><span class="metrics"><span class="wcntr"> 6</span></span></span></span></div></li><li><div id="_toc/publish-target-local"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-target-local"><code>--publish-target local</code></a><span class="hover-metadata"><a href="#_toc/publish-target" class="u"> <code>--publish-target</code></a><span class="metrics"><span class="wcntr"> 68</span></span></span></span></div></li><li class="has-child"><div id="_toc/publish-to-github-pages"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-to-github-pages">Publish to GitHub Pages</a><span class="hover-metadata"><a href="#_toc/publish-target" class="u"> <code>--publish-target</code></a><span class="metrics"><span class="wcntr"> 197</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/publish-to-github-pages-root-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publish-to-github-pages-root-page">Publish to GitHub pages root page</a><span class="hover-metadata"><a href="#_toc/publish-to-github-pages" class="u"> Publish to GitHub Pages</a><span class="metrics"><span class="wcntr"> 148</span></span></span></span></div></li><li><div id="_toc/github-directory-is-ignored-on-github-pages"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#github-directory-is-ignored-on-github-pages"><code>.github</code> directory is ignored on GitHub Pages</a><span class="hover-metadata"><a href="#_toc/publish-to-github-pages" class="u"> Publish to GitHub Pages</a><span class="metrics"><span class="wcntr"> 24</span></span></span></span></div></li><li><div id="_toc/raw-files-are-downloaded-rather-than-displayed-in-browser-for-certain-file-extensions-on-github-pages"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#raw-files-are-downloaded-rather-than-displayed-in-browser-for-certain-file-extensions-on-github-pages"><code>_raw</code> files are downloaded rather than displayed in browser for certain file extensions on GitHub Pages</a><span class="hover-metadata"><a href="#_toc/publish-to-github-pages" class="u"> Publish to GitHub Pages</a><span class="metrics"><span class="wcntr"> 5</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/split-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 502</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/internal-link-targets-in-split-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#internal-link-targets-in-split-headers">Internal link targets in split headers</a><span class="hover-metadata"><a href="#_toc/split-headers" class="u"> <code>-S</code>, <code>--split-headers</code></a><span class="metrics"><span class="wcntr"> 136</span></span></span></span></div></li></ul><li><div id="_toc/stdout"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#stdout"><code>--stdout</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 32</span></span></span></span></div></li><li class="has-child"><div id="_toc/template"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#template"><code>--template</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-liquid-html"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-liquid-html">ourbigbook.liquid.html</a><span class="hover-metadata"><a href="#_toc/template" class="u"> <code>--template</code></a><span class="metrics"><span class="wcntr"> 111</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/rel-canonical"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#rel-canonical"><code>rel="canonical"</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-liquid-html" class="u"> ourbigbook.liquid.html</a><span class="metrics"><span class="wcntr"> 98</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/template-variable"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#template-variable">Template variable</a><span class="hover-metadata"><a href="#_toc/template" class="u"> <code>--template</code></a><span class="metrics"><span class="wcntr"> 763</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/publishtargetiswebsite"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publishtargetiswebsite"><code>publishTargetIsWebsite</code></a><span class="hover-metadata"><a href="#_toc/template-variable" class="u"> Template variable</a><span class="metrics"><span class="wcntr"> 64</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/title-to-id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#title-to-id"><code>--title-to-id</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 126</span></span></span></span></div></li><li><div id="_toc/unsafe-ace"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#unsafe-ace"><code>--unsafe-ace</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 23</span></span></span></span></div></li><li><div id="_toc/watch"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#watch"><code>-w</code>, <code>--watch</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 162</span></span></span></span></div></li><li class="has-child"><div id="_toc/web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web"><code>-W</code>, <code>--web</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 455</span><span class="dcnt"> 2</span></span></span></span></div><ul><li class="has-child"><div id="_toc/local-header-deletion-on-web-upload"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#local-header-deletion-on-web-upload">Local header deletion on web upload</a><span class="hover-metadata"><a href="#_toc/web" class="u"> <code>-W</code>, <code>--web</code></a><span class="metrics"><span class="wcntr"> 174</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-unlisted-articles"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-unlisted-articles">OurBigBook Web unlisted articles</a><span class="hover-metadata"><a href="#_toc/local-header-deletion-on-web-upload" class="u"> Local header deletion on web upload</a><span class="metrics"><span class="wcntr"> 92</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/web-ask-password"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-ask-password"><code>--web-ask-password</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 37</span></span></span></span></div></li><li><div id="_toc/web-dry"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-dry"><code>--web-dry</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li><li><div id="_toc/web-id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-id"><code>--web-id</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 27</span></span></span></span></div></li><li><div id="_toc/web-force-id-extraction"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-force-id-extraction"><code>--web-force-id-extraction</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 57</span></span></span></span></div></li><li><div id="_toc/web-force-render"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-force-render"><code>--web-force-render</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 61</span></span></span></span></div></li><li><div id="_toc/web-max-renders"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-max-renders"><code>--web-max-renders</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 23</span></span></span></span></div></li><li><div id="_toc/web-nested-set-option"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-nested-set-option"><code>--web-nested-set</code> (option)</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 23</span></span></span></span></div></li><li><div id="_toc/no-web-nested-set-bulk"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#no-web-nested-set-bulk"><code>--no-web-nested-set-bulk</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 164</span></span></span></span></div></li><li><div id="_toc/web-password"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-password"><code>--web-password</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 19</span></span></span></span></div></li><li><div id="_toc/web-test"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-test"><code>--web-test</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 45</span></span></span></span></div></li><li><div id="_toc/web-url"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-url"><code>--web-url</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 35</span></span></span></span></div></li><li><div id="_toc/web-user"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-user"><code>--web-user</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><span class="metrics"><span class="wcntr"> 59</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-json"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json"><code>ourbigbook.json</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 3k</span><span class="dcnt"> 35</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-json/dontignore"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/dontignore"><code>dontIgnore</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 72</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/dontignoreconvert"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/dontignoreconvert"><code>dontIgnoreConvert</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 8</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/generatesitemap"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/generatesitemap"><code>generateSitemap</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 25</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/ignore"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/ignore"><code>ignore</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 154</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/ignorerender"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/ignorerender"><code>ignoreRender</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 58</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-json/id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/id"><code>ourbigbook.json</code> <code>id</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 280</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-json/id-normalize-latin"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/id-normalize-latin"><code>id</code> <code>normalize</code> <code>latin</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/id" class="u"> <code>ourbigbook.json</code> <code>id</code></a><span class="metrics"><span class="wcntr"> 209</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-json/latin-normalization"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/latin-normalization">Latin normalization</a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/id-normalize-latin" class="u"> <code>id</code> <code>normalize</code> <code>latin</code></a><span class="metrics"><span class="wcntr"> 199</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-json/id-normalize-punctuation"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/id-normalize-punctuation"><code>id</code> <code>normalize</code> <code>punctuation</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/id" class="u"> <code>ourbigbook.json</code> <code>id</code></a><span class="metrics"><span class="wcntr"> 65</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-json/punctuation-normalization"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/punctuation-normalization">Punctuation normalization</a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/id-normalize-punctuation" class="u"> <code>id</code> <code>normalize</code> <code>punctuation</code></a><span class="metrics"><span class="wcntr"> 55</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-json/lint"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/lint"><code>lint</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 134</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-json/lint-h-parent"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/lint-h-parent"><code>lint</code> <code>h-parent</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/lint" class="u"> <code>lint</code></a><span class="metrics"><span class="wcntr"> 76</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/lint-h-tag"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/lint-h-tag"><code>lint</code> <code>h-tag</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/lint" class="u"> <code>lint</code></a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-json/h"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/h"><code>h</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 321</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-json/h/numbered"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/h/numbered"><code>numbered</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/h" class="u"> <code>h</code></a><span class="metrics"><span class="wcntr"> 106</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/h/splitdefault"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/h/splitdefault"><code>splitDefault</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/h" class="u"> <code>h</code></a><span class="metrics"><span class="wcntr"> 16</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/h/splitdefaultnottoplevel"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/h/splitdefaultnottoplevel"><code>splitDefaultNotToplevel</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/h" class="u"> <code>h</code></a><span class="metrics"><span class="wcntr"> 192</span></span></span></span></div></li></ul><li><div id="_toc/ourbigbook-json/htmlxextension"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/htmlxextension"><code>htmlXExtension</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 14</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/media-providers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/media-providers"><code>media-providers</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 400</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/openlinksonnewtabs"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/openlinksonnewtabs"><code>openLinksOnNewTabs</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a></span></span></div></li><li><div id="_toc/ourbigbook-json/outputoutoftree"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/outputoutoftree"><code>outputOutOfTree</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 111</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/prepublish"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/prepublish"><code>prepublish</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 90</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/publishcommitdate"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/publishcommitdate"><code>publishCommitDate</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 31</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/publishoptions"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/publishoptions"><code>publishOptions</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 62</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/publishremoteurl"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/publishremoteurl"><code>publishRemoteUrl</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 35</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/publishrooturl"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/publishrooturl"><code>publishRootUrl</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 13</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/redirects"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/redirects"><code>redirects</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 188</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/template"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/template"><code>template</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 52</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/tosplitheaders"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/tosplitheaders"><code>toSplitHeaders</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 80</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-json/web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/web"><code>web</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 199</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-json/web/host"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/web/host"><code>host</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/web" class="u"> <code>web</code></a><span class="metrics"><span class="wcntr"> 27</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/web/hostcapitalized"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/web/hostcapitalized"><code>hostCapitalized</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/web" class="u"> <code>web</code></a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/web/linkfromstaticheadermetatoweb"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/web/linkfromstaticheadermetatoweb"><code>linkFromStaticHeaderMetaToWeb</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/web" class="u"> <code>web</code></a><span class="metrics"><span class="wcntr"> 123</span></span></span></span></div></li><li><div id="_toc/ourbigbook-json/web/username"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/web/username"><code>username</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json/web" class="u"> <code>web</code></a><span class="metrics"><span class="wcntr"> 11</span></span></span></span></div></li></ul><li><div id="_toc/ourbigbook-json/xprefix"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-json/xprefix"><code>xPrefix</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><span class="metrics"><span class="wcntr"> 133</span></span></span></span></div></li></ul><li><div id="_toc/make-all-links-of-a-static-website-point-to-another-deployment-of-the-website"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#make-all-links-of-a-static-website-point-to-another-deployment-of-the-website">Make all links of a static website point to another deployment of the website</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 138</span></span></span></span></div></li><li class="has-child"><div id="_toc/ignored-files"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ignored-files">Ignored files</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 84</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ignore-from-gitignore"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ignore-from-gitignore">Ignore from <code>.gitignore</code></a><span class="hover-metadata"><a href="#_toc/ignored-files" class="u"> Ignored files</a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li></ul><li><div id="_toc/parallel-build"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#parallel-build">Parallel build</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 108</span></span></span></span></div></li><li><div id="_toc/ourbigbook-cli-test-matrix"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-cli-test-matrix">OurBigBook CLI test matrix</a><span class="hover-metadata"><a href="#_toc/ourbigbook-cli" class="u"> OurBigBook CLI</a><span class="metrics"><span class="wcntr"> 38</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-library"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-library">OurBigBook Library</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 181</span><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-library-environemnt-variable"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-library-environemnt-variable">OurBigBook Library environemnt variable</a><span class="hover-metadata"><a href="#_toc/ourbigbook-library" class="u"> OurBigBook Library</a><span class="metrics"><span class="wcntr"> 44</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-environment-variable-true"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-environment-variable-true">OurBigBook environment variable true</a><span class="hover-metadata"><a href="#_toc/ourbigbook-library-environemnt-variable" class="u"> OurBigBook Library environemnt variable</a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li></ul><li><div id="_toc/convert-function"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#convert-function"><code>convert</code> function</a><span class="hover-metadata"><a href="#_toc/ourbigbook-library" class="u"> OurBigBook Library</a><span class="metrics"><span class="wcntr"> 34</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web">OurBigBook Web</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 12k</span><span class="dcnt"> 112</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-web-user-manual"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-user-manual">OurBigBook Web user manual</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web" class="u"> OurBigBook Web</a><span class="metrics"><span class="wcntr"> 4k</span><span class="dcnt"> 29</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-web-topics"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-topics">OurBigBook Web topics</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 557</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/create-your-own-article-about-a-topic-in-ourbigbook-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#create-your-own-article-about-a-topic-in-ourbigbook-web">Create your own article about a topic in OurBigBook Web</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-topics" class="u"> OurBigBook Web topics</a><span class="metrics"><span class="wcntr"> 134</span></span></span></span></div></li><li><div id="_toc/automatic-topic-linking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#automatic-topic-linking">Automatic topic linking</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-topics" class="u"> OurBigBook Web topics</a><span class="metrics"><span class="wcntr"> 193</span></span></span></span></div></li></ul><li><div id="_toc/ourbigbook-web-dynamic-article-tree"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-dynamic-article-tree">OurBigBook Web dynamic article tree</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 564</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-discussions"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-discussions">OurBigBook Web discussions</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 132</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-search"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-search">OurBigBook Web search</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 51</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-editor"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-editor">OurBigBook Web editor</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 149</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/create-a-child-article-in-ourbigbook-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#create-a-child-article-in-ourbigbook-web">Create a child article in OurBigBook Web</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-editor" class="u"> OurBigBook Web editor</a><span class="metrics"><span class="wcntr"> 92</span></span></span></span></div></li></ul><li><div id="_toc/article-announcement"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#article-announcement">Article announcement</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 122</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-page-renaming"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-page-renaming">OurBigBook Web page renaming</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 147</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-keyboard-shortcuts"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-keyboard-shortcuts">OurBigBook Web keyboard shortcuts</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 85</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-restrictions-compared-to-cli"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-restrictions-compared-to-cli">OurBigBook Web restrictions compared to CLI</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 53</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-page">OurBigBook Web page</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 86</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/user-settings-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#user-settings-page">User settings page</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-page" class="u"> OurBigBook Web page</a><span class="metrics"><span class="wcntr"> 41</span></span></span></span></div></li><li><div id="_toc/site-settings-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#site-settings-page">Site settings page</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-page" class="u"> OurBigBook Web page</a><span class="metrics"><span class="wcntr"> 45</span></span></span></span></div></li></ul><li><div id="_toc/ourbigbook-web-user-settings"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-user-settings">OurBigBook Web user settings</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a></span></span></div></li><li><div id="_toc/ourbigbook-web-hide-article-dates"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-hide-article-dates">OurBigBook Web hide article dates</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 104</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-moderation"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-moderation">OurBigBook Web moderation</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 481</span><span class="dcnt"> 5</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-web-admin"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-admin">OurBigBook Web admin</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-moderation" class="u"> OurBigBook Web moderation</a><span class="metrics"><span class="wcntr"> 192</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/account-locking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#account-locking">Account locking</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-admin" class="u"> OurBigBook Web admin</a><span class="metrics"><span class="wcntr"> 45</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/database-access-only-admin"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#database-access-only-admin">Database access-only admin</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-moderation" class="u"> OurBigBook Web moderation</a><span class="metrics"><span class="wcntr"> 289</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-signup-ip-blacklist"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-signup-ip-blacklist">OurBigBook Web signup IP blacklist</a><span class="hover-metadata"><a href="#_toc/database-access-only-admin" class="u"> Database access-only admin</a><span class="metrics"><span class="wcntr"> 84</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-analytics"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-analytics">OurBigBook Web analytics</a><span class="hover-metadata"><a href="#_toc/database-access-only-admin" class="u"> Database access-only admin</a><span class="metrics"><span class="wcntr"> 171</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-com"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-com">OurBigBook.com</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 5</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-com-policies"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-com-policies">OurBigBook.com policies</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com" class="u"> OurBigBook.com</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-com-content-license"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-com-content-license">OurBigBook.com content license</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><span class="metrics"><span class="wcntr"> 795</span></span></span></span></div></li><li><div id="_toc/what-content-can-i-publish-on-ourbigbook-com"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#what-content-can-i-publish-on-ourbigbook-com">What content can I publish on OurBigBook.com?</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><span class="metrics"><span class="wcntr"> 242</span></span></span></span></div></li><li><div id="_toc/can-my-ourbigbook-com-content-be-edited-or-removed-by-other-users"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#can-my-ourbigbook-com-content-be-edited-or-removed-by-other-users">Can my OurBigBook.com content be edited or removed by other users?</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><span class="metrics"><span class="wcntr"> 109</span></span></span></span></div></li><li><div id="_toc/if-ourbigbook-com-shuts-down-will-i-lose-all-my-content"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#if-ourbigbook-com-shuts-down-will-i-lose-all-my-content">If OurBigBook.com shuts down, will I lose all my content?</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><span class="metrics"><span class="wcntr"> 72</span></span></span></span></div></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-development"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-development">OurBigBook Web development</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web" class="u"> OurBigBook Web</a><span class="metrics"><span class="wcntr"> 8k</span><span class="dcnt"> 81</span></span></span></span></div><ul><li><div id="_toc/local-development-server"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#local-development-server">Local development server</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 504</span></span></span></span></div></li><li class="has-child"><div id="_toc/generated-data"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#generated-data">Generated data</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/wikipedia-bot"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#wikipedia-bot">Wikipedia bot</a><span class="hover-metadata"><a href="#_toc/generated-data" class="u"> Generated data</a><span class="metrics"><span class="wcntr"> 726</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/wikibot-llm-body-population"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#wikibot-llm-body-population">Wikibot LLM body population</a><span class="hover-metadata"><a href="#_toc/wikipedia-bot" class="u"> Wikipedia bot</a><span class="metrics"><span class="wcntr"> 256</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/demo-data"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#demo-data">Demo data</a><span class="hover-metadata"><a href="#_toc/generated-data" class="u"> Generated data</a><span class="metrics"><span class="wcntr"> 343</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/demo-data-local-file-output"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#demo-data-local-file-output">Demo data local file output</a><span class="hover-metadata"><a href="#_toc/demo-data" class="u"> Demo data</a><span class="metrics"><span class="wcntr"> 120</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/log-database-queries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#log-database-queries">Log database queries</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 409</span><span class="dcnt"> 6</span></span></span></span></div><ul><li><div id="_toc/log-all-database-queries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#log-all-database-queries">Log all database queries</a><span class="hover-metadata"><a href="#_toc/log-database-queries" class="u"> Log database queries</a><span class="metrics"><span class="wcntr"> 6</span></span></span></span></div></li><li><div id="_toc/debug-sql"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#debug-sql">DEBUG sql</a><span class="hover-metadata"><a href="#_toc/log-database-queries" class="u"> Log database queries</a><span class="metrics"><span class="wcntr"> 149</span></span></span></span></div></li><li><div id="_toc/ourbigbook-log-db"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-log-db"><code>OURBIGBOOK_LOG_DB</code></a><span class="hover-metadata"><a href="#_toc/log-database-queries" class="u"> Log database queries</a><span class="metrics"><span class="wcntr"> 129</span></span></span></span></div></li><li><div id="_toc/postgresql-log"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#postgresql-log">PostgreSQL log</a><span class="hover-metadata"><a href="#_toc/log-database-queries" class="u"> Log database queries</a><span class="metrics"><span class="wcntr"> 50</span></span></span></span></div></li><li><div id="_toc/log-specific-database-queries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#log-specific-database-queries">Log specific database queries</a><span class="hover-metadata"><a href="#_toc/log-database-queries" class="u"> Log database queries</a><span class="metrics"><span class="wcntr"> 50</span></span></span></span></div></li><li><div id="_toc/pretty-print-sql-queries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#pretty-print-sql-queries">Pretty print SQL queries</a><span class="hover-metadata"><a href="#_toc/log-database-queries" class="u"> Log database queries</a><span class="metrics"><span class="wcntr"> 25</span></span></span></span></div></li></ul><li><div id="_toc/local-optimized-frontend"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#local-optimized-frontend">Local optimized frontend</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 210</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-postgresql"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-postgresql">OurBigBook Web PostgreSQL</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 478</span><span class="dcnt"> 9</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-postgresql-setup"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-postgresql-setup">OurBigBook Web PostgreSQL setup</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><span class="metrics"><span class="wcntr"> 32</span></span></span></span></div></li><li><div id="_toc/local-run-as-identical-to-deployment-as-possible"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#local-run-as-identical-to-deployment-as-possible">Local run as identical to deployment as possible</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><span class="metrics"><span class="wcntr"> 99</span></span></span></span></div></li><li><div id="_toc/local-development-run-with-postgresql"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#local-development-run-with-postgresql">Local development run with PostgreSQL</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><span class="metrics"><span class="wcntr"> 70</span></span></span></span></div></li><li><div id="_toc/use-a-secondary-postgresql-database-locally"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#use-a-secondary-postgresql-database-locally">Use a secondary PostgresQL database locally</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><span class="metrics"><span class="wcntr"> 48</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-postgresql-utils"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-postgresql-utils">OurBigBook Web PostgreSQL utils</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><span class="metrics"><span class="wcntr"> 141</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/_file/web/bin/pg-kill-queries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/pg-kill-queries">web/bin/pg-kill-queries</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><span class="metrics"><span class="wcntr"> 25</span></span></span></span></div></li><li><div id="_toc/save-and-restore-local-postgresql-development-database"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#save-and-restore-local-postgresql-development-database">Save and restore local PostgreSQL development database</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><span class="metrics"><span class="wcntr"> 21</span></span></span></span></div></li><li><div id="_toc/_file/web/bin/psql"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/psql">web/bin/psql</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><span class="metrics"><span class="wcntr"> 70</span></span></span></span></div></li><li><div id="_toc/_file/web/bin/pg-ls-queries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/pg-ls-queries">web/bin/pg-ls-queries</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><span class="metrics"><span class="wcntr"> 25</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/ourbigbook-web-without-next-js"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-without-next-js">OurBigBook Web without Next.js</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 24</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-step-debug"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-step-debug">OurBigBook Web step debug</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 45</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-unit-tests"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-unit-tests">OurBigBook Web unit tests</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 646</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-run-unit-tests-in-postgresql"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-run-unit-tests-in-postgresql">OurBigBook Web run unit tests in PostgreSQL</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-unit-tests" class="u"> OurBigBook Web unit tests</a><span class="metrics"><span class="wcntr"> 114</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-next-js-unit-tests"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-next-js-unit-tests">OurBigBook Web Next.js unit tests</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-unit-tests" class="u"> OurBigBook Web unit tests</a><span class="metrics"><span class="wcntr"> 425</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-static-analysis"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-static-analysis">OurBigBook Web static analysis</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 85</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-typescript-type-checking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-typescript-type-checking">OurBigBook Web TypeScript type checking</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-static-analysis" class="u"> OurBigBook Web static analysis</a><span class="metrics"><span class="wcntr"> 56</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-typescript-type-linting"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-typescript-type-linting">OurBigBook Web TypeScript type linting</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-static-analysis" class="u"> OurBigBook Web static analysis</a><span class="metrics"><span class="wcntr"> 29</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-environment-variable"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-environment-variable">OurBigBook Web environment variable</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 23</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-dev-ip"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-dev-ip"><code>OURBIGBOOK_DEV_IP</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-environment-variable" class="u"> OurBigBook Web environment variable</a><span class="metrics"><span class="wcntr"> 21</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-deployment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-deployment">OurBigBook Web deployment</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 2k</span><span class="dcnt"> 25</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-web-database"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-database">OurBigBook Web database</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><span class="metrics"><span class="wcntr"> 691</span><span class="dcnt"> 8</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-database-normalization"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-database-normalization">OurBigBook Web database normalization</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database" class="u"> OurBigBook Web database</a><span class="metrics"><span class="wcntr"> 62</span></span></span></span></div></li><li><div id="_toc/nested-set"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#nested-set">Nested set</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database" class="u"> OurBigBook Web database</a><span class="metrics"><span class="wcntr"> 171</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-database-table"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-database-table">OurBigBook Web database table</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database" class="u"> OurBigBook Web database</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-ref-database-table"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-ref-database-table">OurBigBook Web <code>Ref</code> database table</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database-table" class="u"> OurBigBook Web database table</a></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-database-migration-setup"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-database-migration-setup">OurBigBook Web database migration setup</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database" class="u"> OurBigBook Web database</a><span class="metrics"><span class="wcntr"> 415</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/test-migration"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#test-migration">test-migration</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database-migration-setup" class="u"> OurBigBook Web database migration setup</a><span class="metrics"><span class="wcntr"> 225</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-nuke-db-instead-of-migrating"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-nuke-db-instead-of-migrating">OurBigBook Web nuke DB instead of migrating</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database-migration-setup" class="u"> OurBigBook Web database migration setup</a><span class="metrics"><span class="wcntr"> 63</span></span></span></span></div></li></ul><li><div id="_toc/ourbigbook-web-useful-queries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-useful-queries">OurBigBook Web useful queries</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-database" class="u"> OurBigBook Web database</a><span class="metrics"><span class="wcntr"> 43</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-email-sending"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-email-sending">OurBigBook Web email sending</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><span class="metrics"><span class="wcntr"> 551</span><span class="dcnt"> 5</span></span></span></span></div><ul><li><div id="_toc/web-bin-send-email"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-bin-send-email">web/bin/send-email</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-email-sending" class="u"> OurBigBook Web email sending</a><span class="metrics"><span class="wcntr"> 49</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-email-sending-with"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-email-sending-with">OurBigBook Web email sending with</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-email-sending" class="u"> OurBigBook Web email sending</a><span class="metrics"><span class="wcntr"> 410</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-email-sending-with-aws-ses"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-email-sending-with-aws-ses">OurBigBook Web email sending with AWS SES</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-email-sending-with" class="u"> OurBigBook Web email sending with</a><span class="metrics"><span class="wcntr"> 74</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-email-sending-with-cloudmailin"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-email-sending-with-cloudmailin">OurBigBook Web email sending with cloudmailin</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-email-sending-with" class="u"> OurBigBook Web email sending with</a><span class="metrics"><span class="wcntr"> 89</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-email-sending-with-sendgrid"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-email-sending-with-sendgrid">OurBigBook Web email sending with Sendgrid</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-email-sending-with" class="u"> OurBigBook Web email sending with</a><span class="metrics"><span class="wcntr"> 247</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/ourbigbook-web-recaptcha-setup"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-recaptcha-setup">OurBigBook Web reCAPTCHA setup</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><span class="metrics"><span class="wcntr"> 98</span></span></span></span></div></li><li><div id="_toc/ourbigbook-vpn-blocking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-vpn-blocking">OurBigBook VPN blocking</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><span class="metrics"><span class="wcntr"> 75</span></span></span></span></div></li><li class="has-child"><div id="_toc/heroku-deployment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#heroku-deployment">Heroku deployment</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 7</span></span></span></span></div><ul><li><div id="_toc/_file/heroku"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/heroku">heroku</a><span class="hover-metadata"><a href="#_toc/heroku-deployment" class="u"> Heroku deployment</a><span class="metrics"><span class="wcntr"> 26</span></span></span></span></div></li><li><div id="_toc/upgrade-postgresql-database"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#upgrade-postgresql-database">Upgrade PostgreSQL database</a><span class="hover-metadata"><a href="#_toc/heroku-deployment" class="u"> Heroku deployment</a><span class="metrics"><span class="wcntr"> 18</span></span></span></span></div></li><li><div id="_toc/custom-domain-name-setup"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#custom-domain-name-setup">Custom domain name setup</a><span class="hover-metadata"><a href="#_toc/heroku-deployment" class="u"> Heroku deployment</a><span class="metrics"><span class="wcntr"> 175</span></span></span></span></div></li><li><div id="_toc/staging-deployment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#staging-deployment">Staging deployment</a><span class="hover-metadata"><a href="#_toc/heroku-deployment" class="u"> Heroku deployment</a><span class="metrics"><span class="wcntr"> 137</span></span></span></span></div></li><li class="has-child"><div id="_toc/heroku-debugging"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#heroku-debugging">Heroku debugging</a><span class="hover-metadata"><a href="#_toc/heroku-deployment" class="u"> Heroku deployment</a><span class="metrics"><span class="wcntr"> 171</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/download-heroku-database-and-restore-it-locally"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#download-heroku-database-and-restore-it-locally">Download Heroku database and restore it locally</a><span class="hover-metadata"><a href="#_toc/heroku-debugging" class="u"> Heroku debugging</a><span class="metrics"><span class="wcntr"> 142</span></span></span></span></div></li></ul><li><div id="_toc/dependency-organization"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#dependency-organization">Dependency organization</a><span class="hover-metadata"><a href="#_toc/heroku-deployment" class="u"> Heroku deployment</a><span class="metrics"><span class="wcntr"> 227</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-performance-benchmarking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-performance-benchmarking">OurBigBook Web performance benchmarking</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 420</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/next-js-web-vitals"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#next-js-web-vitals">Next.js web vitals</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-performance-benchmarking" class="u"> OurBigBook Web performance benchmarking</a><span class="metrics"><span class="wcntr"> 58</span></span></span></span></div></li><li><div id="_toc/ourbigbook-log-perf"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-log-perf"><code>OURBIGBOOK_LOG_PERF</code></a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-performance-benchmarking" class="u"> OurBigBook Web performance benchmarking</a><span class="metrics"><span class="wcntr"> 20</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-performance-log"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-performance-log">OurBigBook Web performance log</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-performance-benchmarking" class="u"> OurBigBook Web performance benchmarking</a><span class="metrics"><span class="wcntr"> 322</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-architecture"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-architecture">OurBigBook Web architecture</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-development" class="u"> OurBigBook Web development</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 16</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-security"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-security">OurBigBook Web security</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a></span></span></div></li><li><div id="_toc/ourbigbook-web-csrf-security"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-csrf-security">OurBigBook Web CSRF security</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><span class="metrics"><span class="wcntr"> 152</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-tech-stack"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-tech-stack">OurBigBook Web tech stack</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><span class="metrics"><span class="wcntr"> 33</span></span></span></span></div></li><li class="has-child"><div id="_toc/ourbigbook-web-ui-guidelines"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-ui-guidelines">OurBigBook Web UI guidelines</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><span class="metrics"><span class="wcntr"> 282</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-with-javascript-disabled"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-with-javascript-disabled">OurBigBook Web with JavaScript disabled</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-ui-guidelines" class="u"> OurBigBook Web UI guidelines</a><span class="metrics"><span class="wcntr"> 120</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-url-standards"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-url-standards">OurBigBook Web URL standards</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><span class="metrics"><span class="wcntr"> 414</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-web-url-standards-get-param-vs-url-component"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-url-standards-get-param-vs-url-component">OurBigBook Web URL standards: GET param vs url component</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-url-standards" class="u"> OurBigBook Web URL standards</a><span class="metrics"><span class="wcntr"> 151</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-url-standards-article-id-comes-last-due-to-slash"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-url-standards-article-id-comes-last-due-to-slash">OurBigBook Web URL standards: article ID comes last due to slash</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-url-standards" class="u"> OurBigBook Web URL standards</a><span class="metrics"><span class="wcntr"> 63</span></span></span></span></div></li><li><div id="_toc/ourbigbook-web-api-standards"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-api-standards">OurBigBook Web API standards</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-url-standards" class="u"> OurBigBook Web URL standards</a><span class="metrics"><span class="wcntr"> 102</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-web-directory-structure"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-web-directory-structure">OurBigBook Web directory structure</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><span class="metrics"><span class="wcntr"> 427</span><span class="dcnt"> 6</span></span></span></span></div><ul><li class="has-child"><div id="_toc/web-cli-utils"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-cli-utils">Web CLI utils</a><span class="hover-metadata"><a href="#_toc/ourbigbook-web-directory-structure" class="u"> OurBigBook Web directory structure</a><span class="metrics"><span class="wcntr"> 302</span><span class="dcnt"> 5</span></span></span></span></div><ul><li><div id="_toc/_file/web/bin/normalize"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/normalize">web/bin/normalize</a><span class="hover-metadata"><a href="#_toc/web-cli-utils" class="u"> Web CLI utils</a><span class="metrics"><span class="wcntr"> 60</span></span></span></span></div></li><li><div id="_toc/_file/web/bin/rerender-articles.js"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/rerender-articles.js">web/bin/rerender-articles.js</a><span class="hover-metadata"><a href="#_toc/web-cli-utils" class="u"> Web CLI utils</a><span class="metrics"><span class="wcntr"> 167</span></span></span></span></div></li><li><div id="_toc/_file/web/bin/rerender-issues.js"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/rerender-issues.js">web/bin/rerender-issues.js</a><span class="hover-metadata"><a href="#_toc/web-cli-utils" class="u"> Web CLI utils</a><span class="metrics"><span class="wcntr"> 5</span></span></span></span></div></li><li><div id="_toc/_file/web/bin/rerender-comments.js"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/rerender-comments.js">web/bin/rerender-comments.js</a><span class="hover-metadata"><a href="#_toc/web-cli-utils" class="u"> Web CLI utils</a><span class="metrics"><span class="wcntr"> 5</span></span></span></span></div></li><li><div id="_toc/_file/web/bin/set-password"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#_file/web/bin/set-password">web/bin/set-password</a><span class="hover-metadata"><a href="#_toc/web-cli-utils" class="u"> Web CLI utils</a><span class="metrics"><span class="wcntr"> 33</span></span></span></span></div></li></ul></li></ul></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/runtime-feature"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#runtime-feature">Runtime feature</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 185</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/javascript-redirect-to-split-on-missing-id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#javascript-redirect-to-split-on-missing-id">JavaScript redirect to split on missing ID</a><span class="hover-metadata"><a href="#_toc/runtime-feature" class="u"> Runtime feature</a><span class="metrics"><span class="wcntr"> 146</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/tooling"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#tooling">Tooling</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 3k</span><span class="dcnt"> 15</span></span></span></span></div><ul><li><div id="_toc/conversion-to-from-other-formats"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#conversion-to-from-other-formats">Conversion to/from other formats</a><span class="hover-metadata"><a href="#_toc/tooling" class="u"> Tooling</a><span class="metrics"><span class="wcntr"> 43</span></span></span></span></div></li><li class="has-child"><div id="_toc/editor-support"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#editor-support">Editor support</a><span class="hover-metadata"><a href="#_toc/tooling" class="u"> Tooling</a><span class="metrics"><span class="wcntr"> 2k</span><span class="dcnt"> 11</span></span></span></span></div><ul><li class="has-child"><div id="_toc/visual-studio-code"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#visual-studio-code">Visual Studio Code</a><span class="hover-metadata"><a href="#_toc/editor-support" class="u"> Editor support</a><span class="metrics"><span class="wcntr"> 2k</span><span class="dcnt"> 6</span></span></span></span></div><ul><li><div id="_toc/visual-studio-code-quick-start"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#visual-studio-code-quick-start">Visual Studio Code quick start</a><span class="hover-metadata"><a href="#_toc/visual-studio-code" class="u"> Visual Studio Code</a><span class="metrics"><span class="wcntr"> 241</span></span></span></span></div></li><li class="has-child"><div id="_toc/visual-studio-code-documentation"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#visual-studio-code-documentation">Visual Studio Code documentation</a><span class="hover-metadata"><a href="#_toc/visual-studio-code" class="u"> Visual Studio Code</a><span class="metrics"><span class="wcntr"> 919</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/visual-studio-code-options"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#visual-studio-code-options">Visual Studio Code options</a><span class="hover-metadata"><a href="#_toc/visual-studio-code-documentation" class="u"> Visual Studio Code documentation</a></span></span></div></li><li><div id="_toc/gitautocommitafterbuild"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#gitautocommitafterbuild"><code>gitAutoCommitAfterBuild</code></a><span class="hover-metadata"><a href="#_toc/visual-studio-code-documentation" class="u"> Visual Studio Code documentation</a><span class="metrics"><span class="wcntr"> 40</span></span></span></span></div></li></ul><li><div id="_toc/developing-the-visual-studio-code-extension"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#developing-the-visual-studio-code-extension">Developing the Visual Studio Code extension</a><span class="hover-metadata"><a href="#_toc/visual-studio-code" class="u"> Visual Studio Code</a><span class="metrics"><span class="wcntr"> 148</span></span></span></span></div></li><li><div id="_toc/making-concurrent-changes-to-ourbigbook-and-the-extension"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#making-concurrent-changes-to-ourbigbook-and-the-extension">Making concurrent changes to ourbigbook and the extension</a><span class="hover-metadata"><a href="#_toc/visual-studio-code" class="u"> Visual Studio Code</a><span class="metrics"><span class="wcntr"> 217</span></span></span></span></div></li></ul><li><div id="_toc/vim"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#vim">Vim</a><span class="hover-metadata"><a href="#_toc/editor-support" class="u"> Editor support</a><span class="metrics"><span class="wcntr"> 423</span></span></span></span></div></li><li class="has-child"><div id="_toc/browser-editor-with-preview"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#browser-editor-with-preview">Browser editor with preview</a><span class="hover-metadata"><a href="#_toc/editor-support" class="u"> Editor support</a><span class="metrics"><span class="wcntr"> 349</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/static-editor"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#static-editor">Static editor</a><span class="hover-metadata"><a href="#_toc/browser-editor-with-preview" class="u"> Browser editor with preview</a><span class="metrics"><span class="wcntr"> 120</span></span></span></span></div></li><li><div id="_toc/web-editor"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#web-editor">Web editor</a><span class="hover-metadata"><a href="#_toc/browser-editor-with-preview" class="u"> Browser editor with preview</a><span class="metrics"><span class="wcntr"> 36</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/error-reporting"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#error-reporting">Error reporting</a><span class="hover-metadata"><a href="#_toc/tooling" class="u"> Tooling</a><span class="metrics"><span class="wcntr"> 366</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/order-of-reported-errors"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#order-of-reported-errors">Order of reported errors</a><span class="hover-metadata"><a href="#_toc/error-reporting" class="u"> Error reporting</a><span class="metrics"><span class="wcntr"> 284</span></span></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/security"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#security">Security</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 206</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/arbitrary-code-execution"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#arbitrary-code-execution">Arbitrary code execution</a><span class="hover-metadata"><a href="#_toc/security" class="u"> Security</a><span class="metrics"><span class="wcntr"> 97</span></span></span></span></div></li><li><div id="_toc/unsafexss"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#unsafexss">unsafeXss</a><span class="hover-metadata"><a href="#_toc/security" class="u"> Security</a><span class="metrics"><span class="wcntr"> 109</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/contact"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#contact">Contact</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 11</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-issue-tracker"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-issue-tracker">OurBigBook issue tracker</a><span class="hover-metadata"><a href="#_toc/contact" class="u"> Contact</a></span></span></div></li></ul><li class="has-child"><div id="_toc/developing-ourbigbook"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#developing-ourbigbook">Developing OurBigBook</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 12k</span><span class="dcnt"> 100</span></span></span></span></div><ul><li class="has-child"><div id="_toc/license"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#license">License</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 289</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/contributor-license-agreement"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#contributor-license-agreement">Contributor License Agreement</a><span class="hover-metadata"><a href="#_toc/license" class="u"> License</a><span class="metrics"><span class="wcntr"> 234</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/run-ourbigbook-master"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#run-ourbigbook-master">Run OurBigBook master</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 275</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/run-an-isolated-ourbigbook-master"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#run-an-isolated-ourbigbook-master">Run an isolated OurBigBook master</a><span class="hover-metadata"><a href="#_toc/run-ourbigbook-master" class="u"> Run OurBigBook master</a><span class="metrics"><span class="wcntr"> 72</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/test-system"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#test-system">Test system</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 797</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/inspect-the-database-after-a-test"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#inspect-the-database-after-a-test">Inspect the database after a test</a><span class="hover-metadata"><a href="#_toc/test-system" class="u"> Test system</a><span class="metrics"><span class="wcntr"> 80</span></span></span></span></div></li><li><div id="_toc/step-debug-when-running-a-test"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#step-debug-when-running-a-test">Step debug when running a test</a><span class="hover-metadata"><a href="#_toc/test-system" class="u"> Test system</a><span class="metrics"><span class="wcntr"> 154</span></span></span></span></div></li><li><div id="_toc/lib-vs-cli-tests"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#lib-vs-cli-tests"><code>lib:</code> vs <code>cli:</code> tests</a><span class="hover-metadata"><a href="#_toc/test-system" class="u"> Test system</a><span class="metrics"><span class="wcntr"> 373</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/overview-of-files-in-this-repository"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#overview-of-files-in-this-repository">Overview of files in this repository</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 407</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/generated-files"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#generated-files">Generated files</a><span class="hover-metadata"><a href="#_toc/overview-of-files-in-this-repository" class="u"> Overview of files in this repository</a><span class="metrics"><span class="wcntr"> 280</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/dist-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#dist-directory"><code>dist</code> directory</a><span class="hover-metadata"><a href="#_toc/generated-files" class="u"> Generated files</a><span class="metrics"><span class="wcntr"> 241</span></span></span></span></div></li><li><div id="_toc/obb-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#obb-directory"><code>_obb</code> directory</a><span class="hover-metadata"><a href="#_toc/generated-files" class="u"> Generated files</a><span class="metrics"><span class="wcntr"> 39</span></span></span></span></div></li></ul><li><div id="_toc/the-out-directory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#the-out-directory">The <code>_out</code> directory</a><span class="hover-metadata"><a href="#_toc/overview-of-files-in-this-repository" class="u"> Overview of files in this repository</a><span class="metrics"><span class="wcntr"> 72</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/conversion-process-overview"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#conversion-process-overview">Conversion process overview</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 1k</span><span class="dcnt"> 4</span></span></span></span></div><ul><li><div id="_toc/id-extraction"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#id-extraction">ID extraction</a><span class="hover-metadata"><a href="#_toc/conversion-process-overview" class="u"> Conversion process overview</a><span class="metrics"><span class="wcntr"> 21</span></span></span></span></div></li><li><div id="_toc/abstract-syntax-tree"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#abstract-syntax-tree">Abstract syntax tree</a><span class="hover-metadata"><a href="#_toc/conversion-process-overview" class="u"> Conversion process overview</a><span class="metrics"><span class="wcntr"> 265</span></span></span></span></div></li><li class="has-child"><div id="_toc/autogenerated-tests"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#autogenerated-tests">Autogenerated tests</a><span class="hover-metadata"><a href="#_toc/conversion-process-overview" class="u"> Conversion process overview</a><span class="metrics"><span class="wcntr"> 59</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/generate-paragraphs"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#generate-paragraphs">generate-paragraphs</a><span class="hover-metadata"><a href="#_toc/autogenerated-tests" class="u"> Autogenerated tests</a><span class="metrics"><span class="wcntr"> 15</span></span></span></span></div></li></ul></li></ul><li><div id="_toc/pretty-print-html"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#pretty-print-html">Pretty print HTML</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 42</span></span></span></span></div></li><li class="has-child"><div id="_toc/performance"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#performance">Performance</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 503</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/speed-comparison-to-other-markup-language-implementations"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#speed-comparison-to-other-markup-language-implementations">Speed comparison to other markup language implementations</a><span class="hover-metadata"><a href="#_toc/performance" class="u"> Performance</a><span class="metrics"><span class="wcntr"> 130</span></span></span></span></div></li><li><div id="_toc/performance-log"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#performance-log">Performance log</a><span class="hover-metadata"><a href="#_toc/performance" class="u"> Performance</a><span class="metrics"><span class="wcntr"> 366</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/internals-api"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#internals-api">Internals API</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 327</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/toplevel"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#toplevel">The <code>\Toplevel</code> implicit macro</a><span class="hover-metadata"><a href="#_toc/internals-api" class="u"> Internals API</a><span class="metrics"><span class="wcntr"> 103</span></span></span></span></div></li><li><div id="_toc/html-document-title"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#html-document-title">HTML document title</a><span class="hover-metadata"><a href="#_toc/internals-api" class="u"> Internals API</a><span class="metrics"><span class="wcntr"> 31</span></span></span></span></div></li><li><div id="_toc/adding-your-first-macro"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#adding-your-first-macro">Adding your first macro</a><span class="hover-metadata"><a href="#_toc/internals-api" class="u"> Internals API</a><span class="metrics"><span class="wcntr"> 148</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/css"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#css">CSS</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 134</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-common-scss"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-common-scss"><code>ourbigbook.common.scss</code></a><span class="hover-metadata"><a href="#_toc/css" class="u"> CSS</a><span class="metrics"><span class="wcntr"> 42</span></span></span></span></div></li><li><div id="_toc/mobile-guidelines"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#mobile-guidelines">Mobile guidelines</a><span class="hover-metadata"><a href="#_toc/css" class="u"> CSS</a><span class="metrics"><span class="wcntr"> 26</span></span></span></span></div></li></ul><li><div id="_toc/database-guidelines"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#database-guidelines">Database guidelines</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 20</span></span></span></span></div></li><li><div id="_toc/formal-grammar"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#formal-grammar">Formal grammar</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 15</span></span></span></span></div></li><li class="has-child"><div id="_toc/release-procedure"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#release-procedure">Release procedure</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 355</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/do-the-release"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#do-the-release">Do the release</a><span class="hover-metadata"><a href="#_toc/release-procedure" class="u"> Release procedure</a><span class="metrics"><span class="wcntr"> 177</span></span></span></span></div></li><li><div id="_toc/out-of-box-testing"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#out-of-box-testing">Out-of-box testing</a><span class="hover-metadata"><a href="#_toc/release-procedure" class="u"> Release procedure</a><span class="metrics"><span class="wcntr"> 57</span></span></span></span></div></li><li><div id="_toc/visual-studio-code-extension-release-procedure"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#visual-studio-code-extension-release-procedure">Visual Studio Code extension release procedure</a><span class="hover-metadata"><a href="#_toc/release-procedure" class="u"> Release procedure</a><span class="metrics"><span class="wcntr"> 121</span></span></span></span></div></li></ul><li><div id="_toc/ourbigbook-media-repository"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-media-repository">OurBigBook media repository</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 52</span></span></span></span></div></li><li class="has-child"><div id="_toc/project-governance"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#project-governance">Project governance</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 287</span><span class="dcnt"> 8</span></span></span></span></div><ul><li class="has-child"><div id="_toc/team"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#team">Team</a><span class="hover-metadata"><a href="#_toc/project-governance" class="u"> Project governance</a><span class="metrics"><span class="wcntr"> 95</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ciro-santilli"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ciro-santilli">Ciro Santilli</a><span class="hover-metadata"><a href="#_toc/team" class="u"> Team</a><span class="metrics"><span class="wcntr"> 95</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-admin"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-admin">OurBigBook Admin</a><span class="hover-metadata"><a href="#_toc/project-governance" class="u"> Project governance</a><span class="metrics"><span class="wcntr"> 101</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/pinned-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#pinned-article">Pinned article</a><span class="hover-metadata"><a href="#_toc/ourbigbook-admin" class="u"> OurBigBook Admin</a><span class="metrics"><span class="wcntr"> 85</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/contributors"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#contributors">Contributors</a><span class="hover-metadata"><a href="#_toc/project-governance" class="u"> Project governance</a><span class="metrics"><span class="wcntr"> 44</span><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/sidstuff"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#sidstuff">sidstuff</a><span class="hover-metadata"><a href="#_toc/contributors" class="u"> Contributors</a><span class="metrics"><span class="wcntr"> 2</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/implemented-by-sidstuff"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#implemented-by-sidstuff">Implemented by sidstuff</a><span class="hover-metadata"><a href="#_toc/sidstuff" class="u"> sidstuff</a></span></span></div></li><li><div id="_toc/proposed-by-sidstuff"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#proposed-by-sidstuff">Proposed by sidstuff</a><span class="hover-metadata"><a href="#_toc/sidstuff" class="u"> sidstuff</a></span></span></div></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/publicity"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#publicity">Publicity</a><span class="hover-metadata"><a href="#_toc/developing-ourbigbook" class="u"> Developing OurBigBook</a><span class="metrics"><span class="wcntr"> 7k</span><span class="dcnt"> 54</span></span></span></span></div><ul><li class="has-child"><div id="_toc/official-accounts"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#official-accounts">Official accounts</a><span class="hover-metadata"><a href="#_toc/publicity" class="u"> Publicity</a><span class="metrics"><span class="wcntr"> 51</span><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/twitter-com-ourbigbook"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#twitter-com-ourbigbook">twitter.com/OurBigBook</a><span class="hover-metadata"><a href="#_toc/official-accounts" class="u"> Official accounts</a><span class="metrics"><span class="wcntr"> 2</span></span></span></span></div></li><li><div id="_toc/mastodon-social-at-ourbigbook"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#mastodon-social-at-ourbigbook">mastodon.social/@OurBigBook</a><span class="hover-metadata"><a href="#_toc/official-accounts" class="u"> Official accounts</a></span></span></div></li></ul><li class="has-child"><div id="_toc/merchandise"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#merchandise">Merchandise</a><span class="hover-metadata"><a href="#_toc/publicity" class="u"> Publicity</a><span class="metrics"><span class="wcntr"> 591</span><span class="dcnt"> 7</span></span></span></span></div><ul><li class="has-child"><div id="_toc/clothing"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#clothing">Clothing</a><span class="hover-metadata"><a href="#_toc/merchandise" class="u"> Merchandise</a><span class="metrics"><span class="wcntr"> 339</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/tshirtstudio-com"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#tshirtstudio-com">tshirtstudio.com</a><span class="hover-metadata"><a href="#_toc/clothing" class="u"> Clothing</a><span class="metrics"><span class="wcntr"> 262</span></span></span></span></div></li></ul><li class="has-child"><div id="_toc/sticker"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#sticker">Sticker</a><span class="hover-metadata"><a href="#_toc/merchandise" class="u"> Merchandise</a><span class="metrics"><span class="wcntr"> 252</span><span class="dcnt"> 4</span></span></span></span></div><ul><li class="has-child"><div id="_toc/sticker-alternative-research"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#sticker-alternative-research">Sticker alternative research</a><span class="hover-metadata"><a href="#_toc/sticker" class="u"> Sticker</a><span class="metrics"><span class="wcntr"> 67</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/cafepress"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#cafepress">Cafepress</a><span class="hover-metadata"><a href="#_toc/sticker-alternative-research" class="u"> Sticker alternative research</a><span class="metrics"><span class="wcntr"> 28</span></span></span></span></div></li><li><div id="_toc/teesprint"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#teesprint">Teesprint</a><span class="hover-metadata"><a href="#_toc/sticker-alternative-research" class="u"> Sticker alternative research</a><span class="metrics"><span class="wcntr"> 21</span></span></span></span></div></li><li><div id="_toc/zazzle"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#zazzle">Zazzle</a><span class="hover-metadata"><a href="#_toc/sticker-alternative-research" class="u"> Sticker alternative research</a><span class="metrics"><span class="wcntr"> 18</span></span></span></span></div></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/project-identity"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#project-identity">Project identity</a><span class="hover-metadata"><a href="#_toc/publicity" class="u"> Publicity</a><span class="metrics"><span class="wcntr"> 819</span><span class="dcnt"> 5</span></span></span></span></div><ul><li class="has-child"><div id="_toc/project-logo"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#project-logo">Project logo</a><span class="hover-metadata"><a href="#_toc/project-identity" class="u"> Project identity</a><span class="metrics"><span class="wcntr"> 596</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/text-logo"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#text-logo">Text logo</a><span class="hover-metadata"><a href="#_toc/project-logo" class="u"> Project logo</a><span class="metrics"><span class="wcntr"> 220</span></span></span></span></div></li></ul><li><div id="_toc/project-slogan"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#project-slogan">Project slogan</a><span class="hover-metadata"><a href="#_toc/project-identity" class="u"> Project identity</a><span class="metrics"><span class="wcntr"> 33</span></span></span></span></div></li><li><div id="_toc/project-name"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#project-name">Project name</a><span class="hover-metadata"><a href="#_toc/project-identity" class="u"> Project identity</a><span class="metrics"><span class="wcntr"> 41</span></span></span></span></div></li><li><div id="_toc/project-banner"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#project-banner">Project banner</a><span class="hover-metadata"><a href="#_toc/project-identity" class="u"> Project identity</a><span class="metrics"><span class="wcntr"> 149</span></span></span></span></div></li></ul><li><div id="_toc/demo-videos"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#demo-videos">Demo videos</a><span class="hover-metadata"><a href="#_toc/publicity" class="u"> Publicity</a><span class="metrics"><span class="wcntr"> 401</span></span></span></span></div></li><li class="has-child"><div id="_toc/news"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news">News</a><span class="hover-metadata"><a href="#_toc/publicity" class="u"> Publicity</a><span class="metrics"><span class="dcnt"> 31</span></span></span></span></div><ul><li><div id="_toc/news/file-upload-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#file-upload-on-web">File upload on Web</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/llm-generated-wikibot-abstracts"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#llm-generated-wikibot-abstracts">LLM-generated wikibot abstracts</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/automatic-topic-linking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#automatic-topic-linking">Automatic topic linking</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/signup-ip-blacklist-vpn-detection-and-account-locking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#signup-ip-blacklist-vpn-detection-and-account-locking">Signup IP blacklist, VPN detection and account locking</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/web-searches-find-words-inside-title-on-postgresql"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#web-searches-find-words-inside-title-on-postgresql">Web searches find words inside title on PostgreSQL</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/article-announcement"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#article-announcement">Article announcement</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/web-navigation-two-level-tab-cleanup"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#web-navigation-two-level-tab-cleanup">Web navigation two level tab cleanup</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/scope-ancestors-show-on-toplevel-header-and-page-title"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#scope-ancestors-show-on-toplevel-header-and-page-title">Scope ancestors show on toplevel header and page title</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/topic-id-shows-on-web-editor-when-creating-a-new-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#topic-id-shows-on-web-editor-when-creating-a-new-article">Topic ID shows on web editor when creating a new article</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/create-new-articles-from-table-of-contents"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#create-new-articles-from-table-of-contents">Create new articles from table of contents</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/profile-picture-upload"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#profile-picture-upload">Profile picture upload</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/disambiguate-shows-on-navigation"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#disambiguate-shows-on-navigation">Disambiguate shows on navigation</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/tagged-articles-and-other-article-lists-added-to-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#tagged-articles-and-other-article-lists-added-to-web">Tagged articles and other article lists added to Web</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/static-toc-search"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#static-toc-search">Static ToC search</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/article-and-topic-id-prefix-search"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#article-and-topic-id-prefix-search">Article and topic ID prefix search</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/tagged-headers-show-under-non-toplevel-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#tagged-headers-show-under-non-toplevel-headers">Tagged headers show under non-toplevel headers</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/ourbigbook-cli-enforces-consistent-header-tree-by-default"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#ourbigbook-cli-enforces-consistent-header-tree-by-default">OurBigBook CLI enforces consistent header tree by default</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/ourbigbook-com-cirosantilli-loads-2x-as-fast-after-database-optimizations"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#ourbigbook-com-cirosantilli-loads-2x-as-fast-after-database-optimizations">ourbigbook.com/cirosantilli loads 2x as fast after database optimizations</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/visual-studio-code-extension-overhaul"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#visual-studio-code-extension-overhaul">Visual Studio Code extension overhaul</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/body-preview-on-all-article-lists"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#body-preview-on-all-article-lists">Body preview on all article lists</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/unlisted-articles-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#unlisted-articles-on-web">Unlisted articles on web</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/a-few-articles-in-same-topic-are-shown-at-the-bottom-of-every-article-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#a-few-articles-in-same-topic-are-shown-at-the-bottom-of-every-article-page">A few articles in same topic are shown at the bottom of every article page</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/short-url-fragments-on-ourbigbook-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#short-url-fragments-on-ourbigbook-web">Short URL fragments on OurBigBook Web</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/hr-horizontal-rule-macro-created"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#hr-horizontal-rule-macro-created"><code>\Hr</code> horizontal rule macro created</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/gray-on-gray-color-replaces-green-on-black-and-many-other-css-improvements"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#gray-on-gray-color-replaces-green-on-black-and-many-other-css-improvements">Gray on gray color replaces green on black and many other CSS improvements</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/intro-to-ourbigbook-video"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#intro-to-ourbigbook-video">Intro to OurBigBook video</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/pinned-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#pinned-article">Pinned article</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/automatically-create-file-pages-for-every-file"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#automatically-create-file-pages-for-every-file">Automatically create <code>_file</code> pages for every file</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/always-show-large-text-files-on-file-split-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#always-show-large-text-files-on-file-split-headers">Always show large text files on <code>_file</code> split headers</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/optimize-generated-html-size-by-adding-on-the-fly-elements"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#optimize-generated-html-size-by-adding-on-the-fly-elements">Optimize generated HTML size by adding on-the-fly elements</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li><li><div id="_toc/news/suggest-article-creation-for-topics-that-don-t-exist"><div class="arrow"><div></div></div><span class="not-arrow"><a href="news#suggest-article-creation-for-topics-that-don-t-exist">Suggest article creation for topics that don't exist</a><span class="hover-metadata"><a href="#_toc/news" class="u"> News</a></span></span></div></li></ul><li class="has-child"><div id="_toc/ourbigbook-com-fellowship"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-com-fellowship">OurBigBook.com Fellowship</a><span class="hover-metadata"><a href="#_toc/publicity" class="u"> Publicity</a><span class="metrics"><span class="wcntr"> 931</span><span class="dcnt"> 3</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-com-fellows"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-com-fellows">OurBigBook.com Fellows</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com-fellowship" class="u"> OurBigBook.com Fellowship</a><span class="metrics"><span class="wcntr"> 194</span><span class="dcnt"> 2</span></span></span></span></div><ul><li class="has-child"><div id="_toc/ourbigbook-com-fellows/2022"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-com-fellows/2022">2022</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com-fellows" class="u"> OurBigBook.com Fellows</a><span class="metrics"><span class="wcntr"> 122</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/ourbigbook-com-fellows/leticia-maria-paz-de-lima"><div class="arrow"><div></div></div><span class="not-arrow"><a href="#ourbigbook-com-fellows/leticia-maria-paz-de-lima">Letícia Maria Paz De Lima</a><span class="hover-metadata"><a href="#_toc/ourbigbook-com-fellows/2022" class="u"> 2022</a><span class="metrics"><span class="wcntr"> 122</span></span></span></span></div></li></ul></li></ul></li></ul></li></ul></li></ul><li class="has-child"><div id="_toc/todo"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo">TODO</a><span class="hover-metadata"><a href="#_toc" class="u"> OurBigBook Project</a><span class="metrics"><span class="wcntr"> 8k</span><span class="dcnt"> 179</span></span></span></span></div><ul><li class="has-child"><div id="_toc/todo/issues"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#issues">Issues</a><span class="hover-metadata"><a href="#_toc/todo" class="u"> TODO</a><span class="metrics"><span class="dcnt"> 56</span></span></span></span></div><ul><li><div id="_toc/todo/encrypted-client-hello"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#encrypted-client-hello">Encrypted client hello</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/add-button-on-web-to-move-article-to-trash-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#add-button-on-web-to-move-article-to-trash-on-web">Add button on web to move article to trash on web</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/convert-ordered-list-ol-to-a-boolean-argument-of-unordered-lists-ul"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#convert-ordered-list-ol-to-a-boolean-argument-of-unordered-lists-ul">Convert ordered list Ol to a boolean argument of unordered lists Ul</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/allow-linking-to-auto-generated-files"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#allow-linking-to-auto-generated-files">Allow linking to auto-generated files</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/link-to-file-rather-than-raw-if-there-s-split-pages"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#link-to-file-rather-than-raw-if-there-s-split-pages">Link to _file rather than _raw if there's split pages</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/show-directory-listings-on-file-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#show-directory-listings-on-file-headers">Show directory listings on <code>{file}</code> headers</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/5"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#5">Nested set index corruption</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/like-and-unlike-requests-are-very-slow"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#like-and-unlike-requests-are-very-slow">Like and unlike requests are very slow</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/incoming-links-and-tagged-metadata-does-not-show-synonyms"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#incoming-links-and-tagged-metadata-does-not-show-synonyms">Incoming links and tagged metadata does not show synonyms</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/image-title-with-x-to-image-with-content-incorrectly-disallowed"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#image-title-with-x-to-image-with-content-incorrectly-disallowed">Image title with x to image with content incorrectly disallowed</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/lint-tables-for-correct-number-of-columns"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#lint-tables-for-correct-number-of-columns">Lint tables for correct number of columns</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/remove-synonym-from-json-use-ref-type-synonym-instead"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#remove-synonym-from-json-use-ref-type-synonym-instead">Remove synonym from JSON, use Ref.type = synonym instead</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/forbid-uppercase-ids-on-web-and-cli-by-default"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#forbid-uppercase-ids-on-web-and-cli-by-default">Forbid uppercase IDs on web and CLI by default</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/option-to-add-view-on-ourbigbook-link-on-header-metadata-of-cli-static-renders"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#option-to-add-view-on-ourbigbook-link-on-header-metadata-of-cli-static-renders">Option to add view on ourbigbook link on header metadata of CLI static renders</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/4"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#4">Reorder convert to move Article.destroySideEffect before File.destroy</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/list-synonyms-on-metadata-section"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#list-synonyms-on-metadata-section">List synonyms on metadata section</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/web-header-metadata-to-widgets"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#web-header-metadata-to-widgets">Move all header metadata from source to HTML in Web</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/fix-parentid-and-previoussiblingid-on-articles-api"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#fix-parentid-and-previoussiblingid-on-articles-api">Fix parentId and previousSiblingId on articles API</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/ref-file-normalization"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#ref-file-normalization">Id, Ref and File foreign normalization</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/web-create-multiple-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#web-create-multiple-headers">Allow creation of multiple headers in one go on web</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/option-to-add-zip-of-local-conversion-to-converted-github-pages-website"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#option-to-add-zip-of-local-conversion-to-converted-github-pages-website">Option to add zip of local conversion to converted GitHub pages website</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/3"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#3">Cross source file word count is always 0 on ToC hover</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/1"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#1">Internal cross reference to non-existent ID is not checked before render the second time we try to convert</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/add-a-file-prefix-to-file-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#add-a-file-prefix-to-file-headers">Add a <code>File:</code> prefix to <code>{file}</code> headers</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/allow-parent-to-point-to-file-header"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#allow-parent-to-point-to-file-header">Allow <code>{parent}</code> to point to <code>{file}</code> header</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/show-likers-list-on-article-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#show-likers-list-on-article-page">Show likers list on article page</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/show-like-and-follow-date-on-user-like-follow-lists"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#show-like-and-follow-date-on-user-like-follow-lists">Show like and follow date on user like follow lists</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/handle-email-replies-to-notification-at-ourbigbook-com"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#handle-email-replies-to-notification-at-ourbigbook-com">Handle email replies to notification@ourbigbook.com</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/firefox-tab-lists-don-t-wrap"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#firefox-tab-lists-don-t-wrap">Firefox tab lists don't wrap</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/follow-topic"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#follow-topic">Follow topic</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/at-mention-and-topics-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#at-mention-and-topics-on-web">At mention and topics on web</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/at-mention-and-topics-locally"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#at-mention-and-topics-locally">At mention and topics locally</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/view-article-and-issue-likers-and-followers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#view-article-and-issue-likers-and-followers">View article and issue likers and followers</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/like-comments"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#like-comments">Like comments</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/use-same-parent-title-if-the-current-user-has-a-matching-article-when-clicking-create-my-own-version-of-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#use-same-parent-title-if-the-current-user-has-a-matching-article-when-clicking-create-my-own-version-of-article">Use same parent title if the current user has a matching article when clicking "Create my own version of article" </a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/delete-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#delete-article">Delete article</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/serialize-parsed-build-in-katex-macros"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#serialize-parsed-build-in-katex-macros">Serialize parsed build-in KaTeX macros</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/handle-web-upload-after-local-article-renaming-with-synonym-redirection-set"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#handle-web-upload-after-local-article-renaming-with-synonym-redirection-set">Handle web upload after local article renaming with synonym redirection set</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/photos-of-the-merchandise"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#photos-of-the-merchandise">Photos of the merchandise!</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/flyers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#flyers">Flyers</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/ourbigbook-com-web-uploads-sometimes-fail-with-etimedout-or-econnreset"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#ourbigbook-com-web-uploads-sometimes-fail-with-etimedout-or-econnreset">ourbigbook.com --web uploads sometimes fail with ETIMEDOUT or ECONNRESET</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/header-followed-by-paragraph-without-blank-line-does-not-split-correctly"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#header-followed-by-paragraph-without-blank-line-does-not-split-correctly">Header followed by paragraph without blank line does not split correctly</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/store-sha-of-each-article-plus-descendants-and-skip-api-re-renders-for-entire-subtrees"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#store-sha-of-each-article-plus-descendants-and-skip-api-re-renders-for-entire-subtrees">Store SHA of each article + descendants and skip API re-renders for entire subtrees</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/multiheader-editing"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#multiheader-editing">Multiheader editing</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/make-open-and-close-arrows-have-the-same-height-on-toc"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#make-open-and-close-arrows-have-the-same-height-on-toc">Make open and close arrows have the same height on ToC</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/add-sibling-add-child-buttons-next-to-toc-entries-of-articles-owned-by-the-current-user"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#add-sibling-add-child-buttons-next-to-toc-entries-of-articles-owned-by-the-current-user">Add sibling/add child buttons next to toc entries of articles owned by the current user</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/progress-spinner-after-submit"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#progress-spinner-after-submit">Progress spinner after submit</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/hide-unconfirmed-users"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#hide-unconfirmed-users">Hide unconfirmed users</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/fragment-redirects-not-working-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#fragment-redirects-not-working-on-web">Fragment redirects not working on web</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/wysiwyg"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#wysiwyg">WYSIWYG</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/live-error-checking-as-you-type-on-editor-if-chosen-previous-sibling-is-not-a-child-of-the-selected-parent-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#live-error-checking-as-you-type-on-editor-if-chosen-previous-sibling-is-not-a-child-of-the-selected-parent-article">Live error checking as you type on editor if chosen previous sibling is not a child of the selected parent article</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/reach-the-same-performance-as-static-website-with-dynamic-tree"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#reach-the-same-performance-as-static-website-with-dynamic-tree">Reach the same performance as static website with dynamic tree</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/inject-react-header-metadata-on-each-header-separately"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#inject-react-header-metadata-on-each-header-separately">Inject React header metadata on each header separately</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/include-should-work-transparently-with-readme-in-subdirectory"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#include-should-work-transparently-with-readme-in-subdirectory">Include should work transparently with README in subdirectory</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/remove-the-path-parameter-from-the-article-creation-api"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#remove-the-path-parameter-from-the-article-creation-api">Remove the path parameter from the article creation API</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li><li><div id="_toc/todo/statically-render-links-to-issues-and-topic-under-each-header-for-better-seo"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#statically-render-links-to-issues-and-topic-under-each-header-for-better-seo">Statically render links to issues and topic under each header for better SEO</a><span class="hover-metadata"><a href="#_toc/todo/issues" class="u"> Issues</a></span></span></div></li></ul><li><div id="_toc/todo/make-rendered-issue-and-comment-fragments-as-short-as-possible"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#make-rendered-issue-and-comment-fragments-as-short-as-possible">Make rendered issue and comment fragments as short as possible</a><span class="hover-metadata"><a href="#_toc/todo" class="u"> TODO</a></span></span></div></li><li class="has-child"><div id="_toc/todo/cannot-link-from-comment-to-article"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#cannot-link-from-comment-to-article">Cannot link from comment to article</a><span class="hover-metadata"><a href="#_toc/todo" class="u"> TODO</a><span class="metrics"><span class="dcnt"> 12</span></span></span></span></div><ul><li><div id="_toc/todo/clicking-on-the-comment-header-does-not-highlight-the-header-line"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#clicking-on-the-comment-header-does-not-highlight-the-header-line">Clicking on the comment header does not highlight the header line</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/comment-h1-self-link-is-empty-and-thus-refreshes-the-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#comment-h1-self-link-is-empty-and-thus-refreshes-the-page">Comment h1 self link is empty and thus refreshes the page</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/remove-all-unnecessary-newlines-from-html-output"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#remove-all-unnecessary-newlines-from-html-output">Remove all unnecessary newlines from HTML output</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/toc-link-on-headers-not-opening-collapsed-toc-entries"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#toc-link-on-headers-not-opening-collapsed-toc-entries">ToC link on headers not opening collapsed toc entries</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/parentid-dropdown-autocomplete"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#parentid-dropdown-autocomplete">parentId dropdown autocomplete</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/like-metadata-on-join-on"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#like-metadata-on-join-on">LIKE metadata on JOIN on</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/load-more-articles"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#load-more-articles">Load more articles</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/load-more-toc-entrie"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#load-more-toc-entrie">Load more ToC entrie</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/word-count-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#word-count-on-web">Word count on web</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/monaco-editor-requires-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#monaco-editor-requires-web">Monaco editor requires web</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/respect-ourbigbook-json-htmlxextension-on-ourbigbook-json-redirects"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#respect-ourbigbook-json-htmlxextension-on-ourbigbook-json-redirects">Respect ourbigbook.json <code>htmlXExtension</code> on ourbigbook.json redirects</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li><li><div id="_toc/todo/iframe-macro"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#iframe-macro">iframe macro</a><span class="hover-metadata"><a href="#_toc/todo/cannot-link-from-comment-to-article" class="u"> Cannot link from comment to article</a></span></span></div></li></ul><li class="has-child"><div id="_toc/todo/closed-issues"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#closed-issues">Closed issues</a><span class="hover-metadata"><a href="#_toc/todo" class="u"> TODO</a><span class="metrics"><span class="wcntr"> 154</span><span class="dcnt"> 72</span></span></span></span></div><ul><li><div id="_toc/todo/allow-disambiguate-and-id-header-arguments-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#allow-disambiguate-and-id-header-arguments-on-web">Allow disambiguate and id header arguments on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/remove-scope-from-toc-entry-ids"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#remove-scope-from-toc-entry-ids">Remove scope from toc entry IDs</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/split-and-nosplit-links-missing-from-cirosantilli-com"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#split-and-nosplit-links-missing-from-cirosantilli-com">split and nosplit links missing from cirosantilli.com</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/move-articles-deleted-locally-to-under-a-trash-article-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#move-articles-deleted-locally-to-under-a-trash-article-on-web">Move articles deleted locally to under a trash article on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/vs-code-symbol-provider"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#vs-code-symbol-provider">Vs Code symbol provider</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/allow-creating-new-pages-under-scope-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#allow-creating-new-pages-under-scope-on-web">Allow creating new pages under scope on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/show-tagged-list-of-non-toplevel-pages"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#show-tagged-list-of-non-toplevel-pages">Show tagged list of non toplevel pages</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/shorthand-block-quotes"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#shorthand-block-quotes">Shorthand block quotes</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/toc-js-folding-broken-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#toc-js-folding-broken-on-web">ToC Js folding broken on Web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/allow-user-to-edit-other-user-s-articles"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#allow-user-to-edit-other-user-s-articles">Allow user to edit other user's articles</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/blowup-with-unclosed-image-followed-by-math"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#blowup-with-unclosed-image-followed-by-math">Blowup with unclosed image followed by math</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/ordered-list-lost-when-rendering-to-bigb-output-format"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#ordered-list-lost-when-rendering-to-bigb-output-format">Ordered list lost when rendering to bigb output format</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/render-large-files-on-split-headers"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#render-large-files-on-split-headers">Render large files on split headers</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/remove-synthetic-asts"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#remove-synthetic-asts">Don't use helper synthetic AST nodes, render at render time instead</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/view-article-source-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#view-article-source-on-web">View article source on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/benchmark-and-optimize-output-size"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#benchmark-and-optimize-output-size">Benchmark and optimize output size</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/web-upload-fails-when-renaming-a-header-to-a-synonym"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#web-upload-fails-when-renaming-a-header-to-a-synonym">Web upload fails when renaming a header to a synonym</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/render-ancestors-incoming-links-and-tagged-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#render-ancestors-incoming-links-and-tagged-on-web">Render ancestors, incoming links and tagged on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/vertical-scrollbar-when-image-title-contains-math-underscore"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#vertical-scrollbar-when-image-title-contains-math-underscore">Vertical scrollbar when image title contains math underscore</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/make-articles-removed-locally-empty-on-web-upload"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#make-articles-removed-locally-empty-on-web-upload">Make articles removed locally empty on web upload</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/don-t-skip-parent-previous-sibling-updates-on-web-uploads"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#don-t-skip-parent-previous-sibling-updates-on-web-uploads">Don't skip parent/previous sibling updates on --web uploads</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/cli-nosplit-points-to-self"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#cli-nosplit-points-to-self">CLI nosplit points to self</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/pass-previoussiblingid-on-web-upload"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#pass-previoussiblingid-on-web-upload">Pass previousSiblingId on web upload</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/links-to-synonym-header-have-fragment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#links-to-synonym-header-have-fragment">Links to synonym header have fragment</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/put-raw-files-in-a-separate-magic-prefix"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#put-raw-files-in-a-separate-magic-prefix">Put raw files in a separate magic prefix</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/synonym-redirects-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#synonym-redirects-on-web">Synonym redirects on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/start-a-basic-notification-system"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#start-a-basic-notification-system">Start a basic notification system</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/2"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#2">Find a way to show index.html raw files that get overriden by directory listings</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/automatically-add-source-to-archive-org-images"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#automatically-add-source-to-archive-org-images">Automatically add <code>source</code> to archive.org images</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/put-files-in-a-separate-namespace"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#put-files-in-a-separate-namespace">Put files in a separate namespace</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/following-and-followed-tabs-are-swapped"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#following-and-followed-tabs-are-swapped">Following and followed tabs are swapped</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/undefined-tag-error-message-for-directory-conversion-says-header-id-is-not-defined-instead-of-tag-id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#undefined-tag-error-message-for-directory-conversion-says-header-id-is-not-defined-instead-of-tag-id">Undefined tag error message for directory conversion says header ID is not defined instead of tag ID</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/design-a-project-banner"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#design-a-project-banner">Design a project banner</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/subsections-missing-on-web-dynamic-tree"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#subsections-missing-on-web-dynamic-tree">Subsections missing on web dynamic tree</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/enable-web-math-defines-default-on-non-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#enable-web-math-defines-default-on-non-web">Enable web math defines default on non-web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/enable-web-math-defines-on-web-editor"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#enable-web-math-defines-on-web-editor">Enable web math defines on web editor</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/store-auto-formated-bigb-source-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#store-auto-formated-bigb-source-on-web">Store auto-formated bigb source on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/split-out-bigb-and-out-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#split-out-bigb-and-out-web">Split _out/bigb and _out/web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/skip-re-render-from-api-if-article-was-unchanged"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#skip-re-render-from-api-if-article-was-unchanged">Skip re-render from API if article was unchanged</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/computer-sticker"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#computer-sticker">Computer sticker</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/prevent-full-page-reload-on-links-using-our-existing-link-capture"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#prevent-full-page-reload-on-links-using-our-existing-link-capture">Prevent full page reload on links using our existing link capture</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/second-meta-line-showing-up-on-index-page-even-if-empty"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#second-meta-line-showing-up-on-index-page-even-if-empty">Second meta line showing up on index page even if empty</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li class="has-child"><div id="_toc/todo/article-create-and-update-slow-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#article-create-and-update-slow-on-web">Article create and update slow on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/todo/article-create-and-update-slow-on-web-update-1"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#article-create-and-update-slow-on-web-update-1">Article create and update slow on web update 1</a><span class="hover-metadata"><a href="#_toc/todo/article-create-and-update-slow-on-web" class="u"> Article create and update slow on web</a></span></span></div></li></ul><li><div id="_toc/todo/donate-button-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#donate-button-on-web">Donate button on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/beta-on-navbar-gets-pushed-down-half-way-at-a-specific-page-width-just-above-mobile-shift"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#beta-on-navbar-gets-pushed-down-half-way-at-a-specific-page-width-just-above-mobile-shift"><code>(beta)</code> on navbar gets pushed down half way at a specific page width just above mobile shift</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/empty-latest-followed-shows-as-there-are-no-articles-on-this-website-yet"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#empty-latest-followed-shows-as-there-are-no-articles-on-this-website-yet">Empty Latest Followed shows as There are no articles on this website yet</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/add-sibling-add-child-buttons-next-to-headers-owned-by-the-current-user"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#add-sibling-add-child-buttons-next-to-headers-owned-by-the-current-user">Add sibling/add child buttons next to headers owned by the current user</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/infinite-navbar-profile-image-refresh-loop-when-there-is-no-internet"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#infinite-navbar-profile-image-refresh-loop-when-there-is-no-internet">Infinite navbar profile image refresh loop when there is no Internet</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/separate-lines-with-field-label-for-parent-and-previous-sibling-on-web-editor"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#separate-lines-with-field-label-for-parent-and-previous-sibling-on-web-editor">Separate lines with field label for parent and previous sibling on web editor</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/allow-showing-article-body-on-article-lists"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#allow-showing-article-body-on-article-lists">Allow showing article body on article lists</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/comment-h1-has-empty-metadata-line-where-likes-would-be-placed"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#comment-h1-has-empty-metadata-line-where-likes-would-be-placed">Comment h1 has empty metadata line where likes would be placed</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/comment-autogenerated-ids-are-wrong-when-there-is-header-in-the-comment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#comment-autogenerated-ids-are-wrong-when-there-is-header-in-the-comment">Comment autogenerated IDs are wrong when there is header in the comment</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/add-an-option-to-add-a-prefix-to-every-id-of-rendered-output-to-avoid-conflicts-across-comments-and-issue"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#add-an-option-to-add-a-prefix-to-every-id-of-rendered-output-to-avoid-conflicts-across-comments-and-issue">Add an option to add a prefix to every ID of rendered output to avoid conflicts across comments and issue</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/first-on-hover-heder-self-link-after-table-of-content-activates-table-of-contents-instead-of-header"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#first-on-hover-heder-self-link-after-table-of-content-activates-table-of-contents-instead-of-header">First on-hover heder self link after table of content activates table of contents instead of header </a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/h2-on-hover-self-links-are-empty-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#h2-on-hover-self-links-are-empty-on-web">h2 on hover self links are empty on Web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/test-scope-2-appears-after-test-scope-1-on-generated-data"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#test-scope-2-appears-after-test-scope-1-on-generated-data">Test scope 2 appears after Test scope 1 on generated data</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/prefix-unnumbered-ids-with-the-parent-header-s-id"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#prefix-unnumbered-ids-with-the-parent-header-s-id">Prefix unnumbered IDs with the parent header's ID</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/remove-at-from-toc-ids"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#remove-at-from-toc-ids">Remove @ from toc IDs</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/missing-header-metadata-such-as-like-button-same-topic-and-issue-link-on-headers-under-a-scope"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#missing-header-metadata-such-as-like-button-same-topic-and-issue-link-on-headers-under-a-scope">Missing header metadata such as like button, same topic and issue link on headers under a scope</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/headers-under-scope-don-t-have-scope-on-id-leads-to-id-conflicts-and-a-link-misses-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#headers-under-scope-don-t-have-scope-on-id-leads-to-id-conflicts-and-a-link-misses-on-web">Headers under scope don't have scope on ID leads to ID conflicts and a link misses on Web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/tags-show-up-twice-under-scopes"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#tags-show-up-twice-under-scopes">Tags show up twice under scopes</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/skip-absolute-link-exit-check-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#skip-absolute-link-exit-check-on-web">Skip absolute link exit check on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/prop-dangerouslysetinnerhtml-did-not-match-on-some-pages"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#prop-dangerouslysetinnerhtml-did-not-match-on-some-pages">Prop dangerouslySetInnerHtml did not match on some pages</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/self-links-broken-on-ciro-santilli-starting-at-budget-transparency"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#self-links-broken-on-ciro-santilli-starting-at-budget-transparency">Self links broken on /ciro-santilli starting at Budget transparency</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/don-t-move-to-a-separate-page-when-clicking-link-to-image-to-another-header-that-is-already-visible-on-current-page-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#don-t-move-to-a-separate-page-when-clicking-link-to-image-to-another-header-that-is-already-visible-on-current-page-on-web">Don't move to a separate page when clicking link to image to another header that is already visible on current page on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/don-t-move-to-a-separate-page-when-clicking-toc-links-in-a-page-that-has-scope-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#don-t-move-to-a-separate-page-when-clicking-toc-links-in-a-page-that-has-scope-on-web">Don't move to a separate page when clicking toc links in a page that has scope on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/wiki-link-on-same-line-as-parent-link-on-web-h1"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#wiki-link-on-same-line-as-parent-link-on-web-h1">Wiki link on same line as parent link on web h1</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/h1-arguments-broken-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#h1-arguments-broken-on-web">h1 arguments broken on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/capture-link-clicks-to-headers-in-current-page-and-don-t-change-page"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#capture-link-clicks-to-headers-in-current-page-and-don-t-change-page">Capture link clicks to headers in current page and don't change page</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/remove-word-count-on-web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#remove-word-count-on-web">Remove word count on web</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li><li><div id="_toc/todo/fix-toc-links-on-web-missing-scope"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#fix-toc-links-on-web-missing-scope">Fix ToC links on web, missing scope</a><span class="hover-metadata"><a href="#_toc/todo/closed-issues" class="u"> Closed issues</a></span></span></div></li></ul><li class="has-child"><div id="_toc/todo/tags"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#tags">Tags</a><span class="hover-metadata"><a href="#_toc/todo" class="u"> TODO</a><span class="metrics"><span class="wcntr"> 14</span><span class="dcnt"> 34</span></span></span></span></div><ul><li><div id="_toc/todo/db"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#db">DB</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li class="has-child"><div id="_toc/todo/file"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#file">File</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/todo/file-autogen"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#file-autogen">File autogen</a><span class="hover-metadata"><a href="#_toc/todo/file" class="u"> File</a></span></span></div></li></ul><li><div id="_toc/todo/metadata-section"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#metadata-section">Metadata section</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li class="has-child"><div id="_toc/todo/elements"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#elements">Elements</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a><span class="metrics"><span class="dcnt"> 5</span></span></span></span></div><ul><li><div id="_toc/todo/image"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#image">Image</a><span class="hover-metadata"><a href="#_toc/todo/elements" class="u"> Elements</a></span></span></div></li><li><div id="_toc/todo/math"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#math">Math</a><span class="hover-metadata"><a href="#_toc/todo/elements" class="u"> Elements</a></span></span></div></li><li><div id="_toc/todo/table"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#table">Table</a><span class="hover-metadata"><a href="#_toc/todo/elements" class="u"> Elements</a></span></span></div></li><li class="has-child"><div id="_toc/todo/header"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#header">Header</a><span class="hover-metadata"><a href="#_toc/todo/elements" class="u"> Elements</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/todo/synonym"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#synonym">Synonym</a><span class="hover-metadata"><a href="#_toc/todo/header" class="u"> Header</a></span></span></div></li></ul></li></ul><li class="has-child"><div id="_toc/todo/ui"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#ui">UI</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a><span class="metrics"><span class="dcnt"> 2</span></span></span></span></div><ul><li><div id="_toc/todo/firefox"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#firefox">Firefox</a><span class="hover-metadata"><a href="#_toc/todo/ui" class="u"> UI</a></span></span></div></li><li><div id="_toc/todo/css"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#css">CSS</a><span class="hover-metadata"><a href="#_toc/todo/ui" class="u"> UI</a></span></span></div></li></ul><li class="has-child"><div id="_toc/todo/web"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#web">Web</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a><span class="metrics"><span class="dcnt"> 9</span></span></span></span></div><ul><li><div id="_toc/todo/web-upload"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#web-upload">Web upload</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/comment"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#comment">Comment</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/dynamic-tree-fetch"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#dynamic-tree-fetch">Dynamic tree fetch</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/editor"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#editor">Editor</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/error-checking"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#error-checking">Error checking</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/include"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#include">Include</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/issue"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#issue">Issue</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/offline-development"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#offline-development">Offline development</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li><li><div id="_toc/todo/topic"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#topic">Topic</a><span class="hover-metadata"><a href="#_toc/todo/web" class="u"> Web</a></span></span></div></li></ul><li><div id="_toc/todo/cli"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#cli">CLI</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li><div id="_toc/todo/word-count"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#word-count">Word count</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li class="has-child"><div id="_toc/todo/lib"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#lib">Lib</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a><span class="metrics"><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/todo/tag"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#tag">Tag</a><span class="hover-metadata"><a href="#_toc/todo/lib" class="u"> Lib</a></span></span></div></li></ul><li><div id="_toc/todo/bug"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#bug">Bug</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li><div id="_toc/todo/scope"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#scope">Scope</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li><div id="_toc/todo/performance"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#performance">Performance</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li><div id="_toc/todo/publicity"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#publicity">Publicity</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li><div id="_toc/todo/publish"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#publish">Publish</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li><div id="_toc/todo/refactor"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#refactor">Refactor</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li><li><div id="_toc/todo/toc"><div class="arrow"><div></div></div><span class="not-arrow"><a href="todo#toc">ToC</a><span class="hover-metadata"><a href="#_toc/todo/tags" class="u"> Tags</a></span></span></div></li></ul></li></ul></li></ul></li></ul></div><div class="h" id="donate"><div class="notnav"><h2><a href="donate">Donate</a></h2><span class="hover-meta"> <a class="split" href="donate"></a><span class="metrics"><span class="wcntr"> Words: 111</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/donate" class="toc"></a></div></nav></div><div class="p" id="_94">To donate:<div class="list"><ul id="_95"><li id="_96"><a href="https://cirosantilli.com/sponsor">cirosantilli.com/sponsor</a>: give money directly to <a href="#ciro-santilli">Ciro Santilli</a></li><li id="_97">buy project merchandise, see: <a href="#merchandise">Section "Merchandise"</a></li></ul></div></div><div class="p" id="_98">All donated money currently just goes directly to <a href="#ciro-santilli">Ciro Santilli</a>'s personal bank account, the project founder and current lead. If things ever take off we will set up a legal entity to make things cleaner. One may dream. But for now, it would just add unnecessary overhead. Related: <a href="#project-governance">Section "Project governance"</a>.</div><div class="p" id="_99">Ciro announces funding milestones and transparently accounts for all donations at: <a href="https://cirosantilli.com/sponsor">cirosantilli.com/sponsor</a>. When milestones are reached, he quits his day job and works full time on the project for a given amount of time.</div><div class="p" id="_100">We are also happy to discuss paid contracts to implement specific features, to get in touch see: <a href="#contact">contact</a>.</div><div class="h" id="quick-start"><div class="notnav"><h2><a href="quick-start">Quick start</a></h2><span class="hover-meta"> <a class="split" href="quick-start"></a><span class="metrics"><span class="wcntr"> Words: 95</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/quick-start" class="toc"></a></div></nav></div><div class="p" id="_101">The following sections cover different ways to use tools from the OurBigBook:<div class="list"><ul id="_102"><li id="_103"><a href="#ourbigbook-web-user-manual">OurBigBook Web user manual</a>: manual for <a href="#ourbigbook-web">OurBigBook Web</a>, the dynamic website. With this approach, you can write content on the browser without downloading anything, and save it on our database.</li><li id="_104">convert local <code>.bigb</code> files with either:<div class="list"><ul id="_105"><li id="_106"><a href="#visual-studio-code-quick-start">Visual Studio Code quick start</a></li><li id="_107"><a href="#ourbigbook-cli-quick-start">OurBigBook CLI quick start</a></li></ul></div>This method allows you to publish either as:<div class="list"><ul id="_108"><li id="_109">a <a href="#p-publish">static website</a></li><li id="_110">to <a href="#ourbigbook-web">OurBigBook Web</a></li></ul></div></li><li id="_111"><div class="p" id="_112"><a href="#ourbigbook-markup-quick-start">OurBigBook Markup quick start</a>: covers specifically <a href="#ourbigbook-markup">OurBigBook Markup</a>, which is the markup language you use to write content in OurBigBook, both <a href="#ourbigbook-web">OurBigBook Web</a> and <a href="#ourbigbook-cli">OurBigBook CLI</a>.</div><div class="p" id="_113">This is currently the only way to write OurBigBook content, but we would really like to add <a href="todo#wysiwyg">WYSIWYG</a> editor support one day!</div></li></ul></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#visual-studio-code-quick-start">Visual Studio Code quick start</a></li></ul></div></div><div class="h" id="ourbigbook-vs-other-systems"><div class="notnav"><h2><a href="ourbigbook-vs-other-systems">OurBigBook vs other systems</a></h2><span class="hover-meta"> <a class="split" href="ourbigbook-vs-other-systems"></a><span class="metrics"><span class="wcntr"> Words: 584</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/ourbigbook-vs-other-systems" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-vs-other-mind-melding-systems"><div class="notnav"><h3><a href="ourbigbook-vs-other-mind-melding-systems">OurBigBook vs other mind-melding systems</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-vs-other-mind-melding-systems"></a><span class="metrics"><span class="wcntr"> Words: 416</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-vs-other-systems" class="u"> OurBigBook vs other systems</a><a href="#_toc/ourbigbook-vs-other-mind-melding-systems" class="toc"></a></div></nav></div><div class="p" id="_114">This section compares <a href="">OurBigBook</a> with other websites that attempt to do mind-melding, which <a href="">OurBigBook</a> attempts through the <a href="#ourbigbook-web-topics">Topics feature</a>.</div><div class="p" id="_115">In particular, we mean mind-melding without a simple centralized authority.</div><div class="h" id="ourbigbook-vs-wikipedia"><div class="notnav"><h4><a href="ourbigbook-vs-wikipedia">OurBigBook vs Wikipedia</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-vs-wikipedia"></a><span class="metrics"><span class="wcntr"> Words: 151</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-vs-other-mind-melding-systems" class="u"> OurBigBook vs other mind-melding systems</a><a href="#_toc/ourbigbook-vs-wikipedia" class="toc"></a></div></nav></div><div class="p" id="_116"><a href="">OurBigBook</a> is a bit like a <a href="https://ourbigbook.com/go/topic/wikipedia">Wikipedia</a> where each person can have their own version of every article.</div><div class="p" id="_117">This addresses the main shortcomings of Wikipedia:<div class="list"><ul id="_118"><li id="_119">contributors are not clearly recognized for their contributions. Clearly knowing who wrote what, and having upvotes and reputation is an essential motivation mechanism for free knowledge contributors.</li><li id="_120"><div class="p" id="_121">what you write can be deleted at any time, for two major reasons:<div class="list"><ul id="_122"><li id="_123">excessive notability guidelines</li><li id="_124">the requirement for "encyclopedic tone", which precludes in theory tutorials</li></ul></div>If you spend four hours writing a tutorial for a website and it gets deleted without comment, you are never ever going to write everything for that website again.</div><div class="p" id="_125">In <a href="">OurBigBook</a>, you can write about whatever you want, and no one can delete it.</div></li><li id="_126">inconsistent page granularity: it is somewhat random if an article deserves to be a toplevel page, or only a subheader. With <a href="">OurBigBook</a>, every header is a toplevel page with the <a href="#ourbigbook-web-dynamic-article-tree">dynamic article tree</a> feature.</li></ul></div></div><div class="figure"><figure id="_127"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/en/8/80/Wikipedia-logo-v2.svg"><img src="https://upload.wikimedia.org/wikipedia/en/8/80/Wikipedia-logo-v2.svg" loading="lazy" height="315" alt="https://upload.wikimedia.org/wikipedia/en/8/80/Wikipedia-logo-v2.svg"></a></div></figure></div><div class="h" id="ourbigbook-vs-stack-overflow"><div class="notnav"><h4><a href="ourbigbook-vs-stack-overflow">OurBigBook vs Stack Overflow</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-vs-stack-overflow"></a><span class="metrics"><span class="wcntr"> Words: 132</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-vs-other-mind-melding-systems" class="u"> OurBigBook vs other mind-melding systems</a><a href="#_toc/ourbigbook-vs-stack-overflow" class="toc"></a></div></nav></div><div class="p" id="_128"><a href="https://ourbigbook.com/go/topic/stack-overflow">Stack Overflow</a> and other <a href="https://ourbigbook.com/go/topic/q-and-a-website">Q&A websites</a> solve the main issues of <a href="#ourbigbook-vs-wikipedia">Wikipedia</a>:<div class="list"><ul id="_129"><li id="_130">they give clear recognition to users' contributions</li><li id="_131">they make it much less likely that your content will be deleted by others (though it can still happen sometimes)</li></ul></div></div><div class="p" id="_132">The limitation of <a href="https://ourbigbook.com/go/topic/stack-exchange">Stack Exchange</a> is that you cannot write a book on it, and anything judged to be "too general" will be closed or deleted. In other words, it can only contain the smallest units of knowledge, and lacks a table of content mechanism to group knowledge together more broadly.</div><div class="p" id="_133">Therefore, while it basically perfectly solves "shallower subjects" such as computer programming, it is insufficient for "deeper" subjects with longer dependency chains of knowledge such as mathematics and physics.</div><div class="p" id="_134">To a large extent, the goal of OurBigBook is to combine the strengths of <a href="https://ourbigbook.com/go/topic/stack-exchange">Stack Exchange</a> with those of <a href="https://ourbigbook.com/go/topic/wikipedia">Wikipedia</a>.</div><div class="figure"><figure id="_135"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/0/02/Stack_Overflow_logo.svg"><img src="https://upload.wikimedia.org/wikipedia/commons/0/02/Stack_Overflow_logo.svg" loading="lazy" height="100"></a></div><figcaption><a href="#_135"><span class="caption-prefix">Figure 19. </span></a><a href="https://commons.wikimedia.org/wiki/File:Stack_Overflow_logo.svg">Source</a>. </figcaption></figure></div><div class="h" id="ourbigbook-vs-knol"><div class="notnav"><h4><a href="ourbigbook-vs-knol">OurBigBook vs Knol</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-vs-knol"></a><span class="metrics"><span class="wcntr"> Words: 107</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-vs-other-mind-melding-systems" class="u"> OurBigBook vs other mind-melding systems</a><a href="#_toc/ourbigbook-vs-knol" class="toc"></a></div></nav></div><div class="p" id="_136"><a href="">OurBigBook</a> is quite similar to the now defunct <a href="https://ourbigbook.com/go/topic/knol">Knol</a>, a <a href="https://ourbigbook.com/go/topic/google">Google</a> project that basically made a Wiki where each person can have their own version of each article.</div><div class="p" id="_137">Knol ran from 2008 until its shutdown in 2012, and failed to attract enough attention that Google would keep it running.</div><div class="p" id="_138">It is our belief however that the website had great promise and potential value, and simply would generate profits too small to compare with other Google projects.</div><div class="p" id="_139">Knol also lacks a mechanism to store your notes locally, which we believe is essential if you want to get people to use as a system for people to dump large chunks into.</div><div class="figure"><figure id="_140"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/4/4b/Knol-logo.svg"><img src="https://upload.wikimedia.org/wikipedia/commons/4/4b/Knol-logo.svg" loading="lazy" height="100"></a></div><figcaption><a href="#_140"><span class="caption-prefix">Figure 20. </span></a><a href="https://commons.wikimedia.org/wiki/File:Knol-logo.svg">Source</a>. </figcaption></figure></div><div class="h" id="ourbigbook-vs-other-non-mind-melding-systems"><div class="notnav"><h3><a href="ourbigbook-vs-other-non-mind-melding-systems">OurBigBook vs other non-mind-melding systems</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-vs-other-non-mind-melding-systems"></a><span class="metrics"><span class="wcntr"> Words: 168</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-vs-other-systems" class="u"> OurBigBook vs other systems</a><a href="#_toc/ourbigbook-vs-other-non-mind-melding-systems" class="toc"></a></div></nav></div><div class="p" id="_141">The main distinguishing feature of <a href="">OurBigBook</a> from other scientific publishing methods is mind-melding via <a href="#ourbigbook-web-topics">topics</a>.</div><div class="p" id="_142">It is perfectly possible to use OurBigBook without ever targeting mind meld, and we want to make that use case as awesome as we can.</div><div class="p" id="_143">There are many methods for people to publish their scientific knowledge online, each with their own strengths and weaknesses, but we believe that mind-melding is essential for a project to be able to truly take off.</div><div class="p" id="_144"><a href="">OurBigBook</a> seeks to pick the best of each of those methods, while also adding the mild-melding aspect on top, which we believe to be so transformative.</div><div class="p" id="_145">Types typically non-mind-melding systems include:<div class="list"><ul id="_146"><li id="_147"><a href="https://ourbigbook.com/go/topic/note-taking-software">note taking software</a></li><li id="_148"><a href="https://ourbigbook.com/go/topic/personal-knowledge-base-software">personal knowledge base software</a></li><li id="_149">putting PDFs on a university FTP servers (a classic!)</li><li id="_150">blogs</li></ul></div></div><div class="p" id="_151"><a href="">OurBigBook</a> is essentially a <a href="https://ourbigbook.com/go/topic/note-taking-software">note taking software</a> with mind-melding added on top of it.</div><div class="p" id="_152">Some noteworthy non-mind-meld software include:<div class="list"><ul id="_153"><li id="_154"><a href="https://ourbigbook.com/go/topic/forester">Forester</a>: this software comes the closest in initial design philosophy to OurBigBook, with a native plaintext format and scientific focus</li><li id="_155"><a href="https://ourbigbook.com/go/topic/trillium-note">Trillium Notes</a>: amazing local <a href="https://ourbigbook.com/go/topic/wysiwyg">WYSIWYG</a> note taking app with a bug table of contents. Also has a web version even!</li></ul></div></div><div class="h" id="ourbigbook-markup-and-cli-overview"><div class="notnav"><h2><a href="ourbigbook-markup-and-cli-overview">OurBigBook Markup and CLI overview</a></h2><span class="hover-meta"> <a class="split" href="ourbigbook-markup-and-cli-overview"></a><span class="metrics"><span class="wcntr"> Words: 2k</span><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/ourbigbook-markup-and-cli-overview" class="toc"></a></div></nav></div><div class="h" id="features"><div class="notnav"><h3><a href="features">Features</a></h3><span class="hover-meta"> <a class="split" href="features"></a><span class="metrics"><span class="wcntr"> Words: 1k</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-and-cli-overview" class="u"> OurBigBook Markup and CLI overview</a><a href="#_toc/features" class="toc"></a></div></nav></div><div class="list"><ul id="_156"><li id="_157"><div class="p" id="_158"><a href="#internal-link">internal links</a> to any <a href="#header">header</a> (including e.g. h2, h3, etc. <a href="#internal-link">in other files</a>), <a href="#image">images</a>, etc. with amazing <a href="#error-reporting">error checking and reporting</a>: never break <a href="#internal-link">internal links</a> without knowing again, and quickly find out what broke when you do. E.g.:</div><div class="p" id="_159">animal.bigb<div class="code" id="_160"><div><pre><code>= Animal

&lt;Bats&gt; are &lt;flying animals&gt;.</code></pre></div></div>Mammal.bigb<div class="code" id="_161"><div><pre><code>= Flying animal

== Bat</code></pre></div></div><code>Animal.bigb</code> would render something like:<div class="code" id="_162"><div><pre><code>&lt;a href="flying-animal.html#bat"&gt;Bats&lt;/a&gt; are &lt;a href="flying-animal.html"&gt;flying animals&lt;/a&gt;.</code></pre></div></div>The following would fail and point you out the file and line of the failure:<div class="list"><ul id="_163"><li id="_164">nonexistent id:<div class="code" id="_165"><div><pre><code>&lt;Weird animal not documented&gt;</code></pre></div></div></li><li id="_166">duplicate IDs:<div class="code" id="_167"><div><pre><code>= Animal

== Dog

== Cat

== Dog</code></pre></div></div></li></ul></div></div></li><li id="_168"><a href="https://katex.org/">KaTeX</a> server side <a href="#mathematics">mathematics</a>, works on browsers with <a href="#ourbigbook-web-with-javascript-disabled">JavaScript disabled</a>:<div class="code" id="_169"><div><pre><code>I like $\sqrt{2}$, but I adore this \x[equation-quadratic-equation]:

$$
x^2 + 2x + 1
$$
{title=Quadratic equation}</code></pre></div></div></li><li id="_170">multi-file features out of the box so you don't need a separate wrapper like Jekyll to make a multi-page website:<div class="list"><ul id="_171"><li id="_172"><a href="#cross-file-internal-link">cross file internal links</a></li><li id="_173">single-source multi-format output based on <a href="#include">includes</a> and build options:<div class="list"><ul id="_174"><li id="_175"><div class="p" id="_176">by default, one HTML per source with includes rendered as links between pages, e.g.:</div><div class="p" id="_177">index.bigb<div class="code" id="_178"><div><pre><code>= My website

== h2

\Include[not-index]</code></pre></div></div>not-index.bigb<div class="code" id="_179"><div><pre><code>= Not index

== Not index h2</code></pre></div></div>produces <code>index.html</code> and <code>not-index.html</code></div></li><li id="_180">with the <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> option, you can output each header of an input file into a separate output file. The previous filesystem would produce:<div class="list"><ul id="_181"><li id="_182"><code>index.html</code>: which contains the full <code>index.bigb</code> output</li><li id="_183"><code>split.html</code>: split version of the above containing only the <code>= My website</code> header and not <code>h2</code></li><li id="_184"><code>h2.html</code>: only contains the <code>h2</code> header</li><li id="_185"><code>not-index.html</code> contains the full output of <code>not-index.bigb</code></li><li id="_186"><code>not-index-split.html</code>: only contains the <code>= Not index</code> header</li><li id="_187"><code>not-index-h2.html</code>: only contains the <code>= Not index h2</code> header</li></ul></div>Each of those pages automatically gets a <a href="#table-of-contents">table of contents</a></li><li id="_188"><div class="p" id="_189"><a href="#embed-includes"><code>--embed-includes</code></a> single file output from multiple input files. Includes are parsed smartly, not just source copy pasted, e.g. included headers are shifted from <code>h1</code> to <code>h2</code> correctly.</div><div class="p" id="_190">On the previous sample filesystem, it would produce a single output file <code>index.html</code> which would contain a header structure like:<div class="code" id="_191"><div><pre><code>= My website

== h2

=== Not index

==== Not index h2</code></pre></div></div></div></li><li id="_192">supports both local serverless rendering to HTML files for local viewing, and server oriented rendering such as GitHub pages, e.g. <a href="#internal-link">internal links</a> automatically get <code>.html</code> extension and or not. E.g.:<div class="list"><ul id="_193"><li id="_194">locally, a link <code>\x[not-index]</code> would render as <code>&lt;a href="not-index.html"&gt;</code> and <code>not-index.bigb</code> produces <code>not-index.html</code></li><li id="_195">when publishing, <code>\x[not-index]</code> would render as <code>&lt;a  href="not-index"&gt;</code> and <code>not-index.bigb</code> also produces <code>not-index.html</code>, which the server converts to just <code>http://my-website.com/not-index</code></li></ul></div></li></ul></div></li><li id="_196">cross file configuration files to factor out common page parts like headers, footers and other metadata, e.g.:<div class="list"><ul id="_197"><li id="_198"><code>ourbigbook.liquid.html</code>: <a href="https://github.com/Shopify/liquid">Liquid template</a> used for all pages, see example at: <a href="#play-with-the-template">Section "Play with the template"</a></li><li id="_199"><code>main.scss</code>: CSS stylesheet generated from <a href="https://sass-lang.com/">SASS</a> input, see example at: <a href="#play-with-the-template">Section "Play with the template"</a></li><li id="_200"><code>ourbigbook.tex</code>: global LaTeX math definitions, e.g.:<div class="code" id="_201"><div><pre><code>\newcommand{\abs}[1]{\left|#1\right|}</code></pre></div></div>and then you can use:<div class="code" id="_202"><div><pre><code>$\abs{x}$</code></pre></div></div>in any .bigb file of the project.</li><li id="_203"><a href="#ourbigbook-json"><code>ourbigbook.json</code></a>: per repository configuration options</li></ul></div></li><li id="_204"><div class="p" id="_205"><a href="#table-of-contents">table of contents</a> that crosses input files via includes. E.g. in:</div><div class="p" id="_206">index.bigb<div class="code" id="_207"><div><pre><code>= My website

== h2

\Include[not-index]</code></pre></div></div>not-index.bigb<div class="code" id="_208"><div><pre><code>= Not index

== Not index h2</code></pre></div></div>the table of contents for <code>index.html</code> also contains the headers for <code>not-index.bigb</code> producing:<div class="list"><ul id="_209"><li id="_210">My website<div class="list"><ul id="_211"><li id="_212">h2<div class="list"><ul id="_213"><li id="_214">Not index<div class="list"><ul id="_215"><li id="_216">Not index h2</li></ul></div></li></ul></div></li></ul></div></li></ul></div>This means that you can split large <a href="#h-splitdefault-argument">splitDefault</a> input files if rendering starts to slow you down, and things will still render exactly the same.</div></li><li id="_217">check that local files and images linked to actually exist: <a href="#a-external-argument"><code>\a</code> <code>external</code> argument</a>. E.g.:<div class="code" id="_218"><div><pre><code>\a[i-don-exist.txt]</code></pre></div></div>would lead to a build error.</li><li id="_219">associate headers to files or directories with the <a href="#h-file-argument"><code>\H</code> <code>file</code> argument</a> e.g.:<div class="code" id="_220"><div><pre><code>Here's an example of a nice image: \x[path/to/my/image.png]{file}.

= path/to/my/image.png
{file}

This image was taken when I was on vacation!</code></pre></div></div>would automatically add a preview of the image on the output. Display files and their metadata nicely directly on your static website rather than relying exclusively on GitHub as a file browser.</li></ul></div></li><li id="_221">advanced header/ID related features:<div class="list"><ul id="_222"><li id="_223"><a href="#h-parent-argument">ID-based header levels</a>:<div class="code" id="_224"><div><pre><code>= Furry animal

I like \x[furry-animal]{p}, especially my cat, here is his photo: \x[image-my-cat].

== Cat

\Image[My_cat.jpg]
{title=My cat}</code></pre></div></div></li><li id="_225"><a href="#h-scope-argument">scopes</a> either with directories or with within a single file:<div class="code" id="_226"><div><pre><code>See the important conclusion of my experiment: \x[report-of-my-experiment/conclusion]

= Report of my experiment
{scope}

== Introduction

== Middle

== Conclusion</code></pre></div></div></li><li id="_227"><a href="#internal-link-title-inflection">internal link title inflection</a> for capitalization and pluralization, e.g.;<div class="code" id="_228"><div><pre><code>= Dog

== Snoopy
{c}

\x[dog]{c}{p} are fun. But the \x[dog] I like the most is \x[snoopy]!</code></pre></div></div>would render:<div class="list"><ul id="_229"><li id="_230"><code>\x[dog]{c}{p}</code> as <code>Dogs</code>: capitalized because of <code>{c}</code> and pluralized because of <code>{p}</code></li><li id="_231"><code>\x[dog]</code> as <code>dogs</code>: auto lowercased because its header <code>= Dog</code> does not have <code>{c}</code></li><li id="_232"><code>\x[snoopy]</code> as <code>Snoopy</code>: title capitalization kept to upper case due to <code>{c}</code> on the header <code>== Snoopy</code></li></ul></div></li><li id="_233"><div class="p" id="_234"><a href="#h-synonym-argument">synonyms</a>, e.g.:<div class="code" id="_235"><div><pre><code>= User interface

= UI
{c}
{synonym}
{title2}

\x[user-interface]{c} is too long, I just say \x[ui].</code></pre></div></div>would render something like:<div class="code" id="_236"><div><pre><code>&lt;a href="#user-interface"&gt;User interface&lt;/a&gt; is too long, I just say &lt;a href="user-interface"&gt;UI&lt;/a&gt;</code></pre></div></div>Furthermore, this also generates a output file:<div class="code" id="_237"><div><pre><code>ui.html</code></pre></div></div>which redirects to the ain <code>user-interface.html</code>, so it serves as a way to have backward compatibility on page renames.</div><div class="p" id="_238">And the <code>title2</code> makes it appears on the main title under parenthesis, something like:<div class="code" id="_239"><div><pre><code>&lt;h1&gt;User interface (UI)&lt;/h1&gt;</code></pre></div></div></div></li><li id="_240"><a href="#disambiguate-argument">header disambiguation</a>, e.g.:<div class="code" id="_241"><div><pre><code>My favorite fruits are \x[apple-fruit]{p}!

My favorite least favorite brand is is \x[apple-company]! \x[apple] computers are too expensive.

== Apple
{disambiguate=fruit}

== Apple
{c}
{disambiguate=company}

= Apple
{c}
{synonym}</code></pre></div></div>which renders something like:<div class="list"><ul id="_242"><li id="_243"><code>\x[apple-fruit]{p}</code>: <code>&lt;a href="apple-fruit"&gt;apples&lt;/a&gt;</code></li><li id="_244"><code>\x[apple-company]</code>: <code>&lt;a href="apple-company"&gt;Apple&lt;/a&gt;</code></li><li id="_245"><code>\x[apple]</code>: also <code>&lt;a href="apple-company"&gt;Apple&lt;/a&gt;</code> because of the synonym</li><li id="_246"><code>== Apple\n{disambiguate=fruit}</code>: <code>&lt;h2 id="apple-fruit"&gt;Apple (fruit)&lt;/h2&gt;</code></li><li id="_247"><code>== Apple\n{disambiguate=company}</code>: <code>&lt;h2 id="apple-company"&gt;Apple (company)&lt;/h2&gt;</code></li></ul></div></li><li id="_248">tags are regular headers: <a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a>, <a href="#x-child-argument"><code>\x</code> <code>child</code> argument</a><div class="code" id="_249"><div><pre><code>= Animal

== Dog
{tag=domestic}
{tag=cute}

== Cat
{tag=domestic}
{tag=cute}

== Bat
{tag=flying}

= Flying

= Cute

= Domestic</code></pre></div></div></li><li id="_250"><a href="#unlimited-header-levels">unlimited header levels</a>, levels higher than 6 are rendered in HTML as an appropriately styled <code>div</code>s with an ID:<div class="code" id="_251"><div><pre><code>= h1

== h2

=== h3

==== h4

===== h5

====== h6

======= h7

======== h8</code></pre></div></div></li><li id="_252">generate lists of <a href="#incoming-links">incoming links</a> between internal headers: it shows every <a href="#internal-link">internal link</a> coming into the current page</li></ul></div></li><li id="_253">automatic file upload and directory listing of non OurBigBook files: <a href="#raw-directory"><code>_raw</code> directory</a>, e.g.:<div class="list"><ul id="_254"><li id="_255">link to a file:<div class="code" id="_256"><div><pre><code>The file \a[index.js] is cool.</code></pre></div></div><div class="p" id="_257">which renders as:</div><div><blockquote id="_258"><div class="p" id="_259">The file <a href="_raw/index.js">index.js</a> is cool.</div></blockquote></div></li><li id="_260">link to a directory:<div class="code" id="_261"><div><pre><code>The directory \a[file_demo] is cooler.</code></pre></div></div><div class="p" id="_262">which renders as:</div><div><blockquote id="_263"><div class="p" id="_264">The directory <a href="_dir/file_demo">file_demo</a> is cooler.</div></blockquote></div></li></ul></div></li><li id="_265">is written in JavaScript and therefore runs natively on the browser to allow live previews as shown at: <a href="https://docs.ourbigbook.com/_obb/dist/editor">docs.ourbigbook.com/_obb/dist/editor</a></li><li id="_266">helps you with the publishing:<div class="list"><ul id="_267"><li id="_268"><a href="#p-publish"><code>ourbigbook --publish</code></a> publishes in a single command to the configured target (default <a href="#publish-to-github-pages">GitHub Pages</a>)</li><li id="_269">OurBigBook tries to deal with media such as images and video intelligently for you, e.g.: <a href="#where-to-store-images">Section "Where to store images"</a>. E.g. you can keep media in a separate media repository, <code>my-media-repository</code>, and then by configuring on <a href="#ourbigbook-json"><code>ourbigbook.json</code></a>:<div class="code" id="_270"><div><pre><code>"media-providers": {
  "github": {
    "default-for": ["image", "video"],
    "path": "media",
    "remote": "yourname/myproject-media"
  }
}</code></pre></div></div>you can use images in that repository with:<div class="code" id="_271"><div><pre><code>\Image[My_image_basename.jpg]</code></pre></div></div>instead of:<div class="code" id="_272"><div><pre><code>\Image[https://raw.githubusercontent.com/cirosantilli/myproject--media/master/My_image_basename.jpg]</code></pre></div></div></li><li id="_273"><code>inotifywait</code> watch and automatically rebuild with <a href="#watch"><code>-w</code>, <code>--watch</code></a>:<div class="code" id="_274"><div><pre><code>ourbigbook --watch input-file.bigb</code></pre></div></div></li></ul></div></li><li id="_275">automatic code formatting: <a href="#format-source"><code>--format-source</code></a></li></ul></div><div class="h" id="design-goals"><div class="notnav"><h3><a href="design-goals">Design goals</a></h3><span class="hover-meta"> <a class="split" href="design-goals"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-and-cli-overview" class="u"> OurBigBook Markup and CLI overview</a><a href="#_toc/design-goals" class="toc"></a></div></nav></div><div class="p" id="_276">OurBigBook is designed entirely to allow writing complex professional HTML and PDF scientific books, blogs, articles and encyclopedias.</div><div class="p" id="_277">OurBigBook aims to be the ultimate <a href="#latex-output-format">LaTeX</a> "killer", allowing books to be finally published as either HTML or PDF painlessly (LaTeX being only a backend to PDF generation).</div><div class="p" id="_278">It aims to be <a href="#features">more powerful</a> and <a href="#saner">saner</a> and than Markdown and Asciidoctor.</div><div class="h" id="saner"><div class="notnav"><h4><a href="saner">Saner</a></h4><span class="hover-meta"> <a class="split" href="saner"></a><span class="metrics"><span class="wcntr"> Words: 418</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#design-goals" class="u"> Design goals</a><a href="#_toc/saner" class="toc"></a></div></nav></div><div class="p" id="_279">Originally, OurBigBook was is meant to be both saner and more powerful than Markdown and Asciidoctor.</div><div class="p" id="_280">But alas, as Ciro started implementing and using it, he started to bring some Markdown <a href="#macro-shorthand-syntax">syntax sugar he missed back in</a>.</div><div class="p" id="_281">And so this "degraded" slightly into a language slightly saner than Asciidoctor but with an amazing Node.js implementation that makes it better for book writing and website publishing.</div><div class="p" id="_282">Notably, we hope that our escaping will be a bit saner backslash escapes everything instead of Asciidoctor's "different escapes for every case" approach: <a href="https://github.com/asciidoctor/asciidoctor/issues/901">github.com/asciidoctor/asciidoctor/issues/901</a></div><div class="p" id="_283">But hopefully, having starting from a saner point will still produce a saner end result, e.g. there are explicit constructs for every shorthand one.</div><div class="p" id="_284">It is intended that this will be an acceptable downside as OurBigBook will be used primarily large complex content such as books rather than forum posts, and will therefore primarily written either:<div class="list"><ul id="_285"><li id="_286">in text editors locally, where users have more features than in random browser textareas</li><li id="_287">in a dedicated website that will revolutionize education, and therefore have a good JavaScript editing interface: <a href="https://github.com/cirosantilli/write-free-science-books-to-get-famous-website">github.com/cirosantilli/write-free-science-books-to-get-famous-website</a></li></ul></div></div><div class="p" id="_288">For example, originally OurBigBook had exactly five magic characters, with similar functions as in LaTeX:<div class="list"><ul id="_289"><li id="_290"><code>\</code> backslash to start a macro, like LaTeX</li><li id="_291"><code>{</code> and <code>}</code>: left and right square brackets to delimit <a href="#positional-vs-named-arguments">optional macro arguments</a></li><li id="_292"><code>[</code> and <code>]</code>: left and right curly braces bracket to start an optional arguments</li></ul></div>and double blank newlines for <a href="#paragraph">paragraphs</a> if you are pedantic, but this later degenerated into many more with <a href="#macro-shorthand-syntax">macro shorthand syntaxes</a>.</div><div class="p" id="_293">We would like to have only square brackets for both optional and mandatory to have even less magic characters, but that would make the language difficult to parse for computer and humans. LaTeX was right for once!</div><div class="p" id="_294">This produces a very regular syntax that is easy to learn, including doing:<div class="list"><ul id="_295"><li id="_296">arbitrary nesting of elements</li><li id="_297">adding arbitrary properties to elements</li></ul></div></div><div class="p" id="_298">This sanity also makes the end tail learning curve of the endless edge cases found in Markdown and Asciidoctor disappear.</div><div class="p" id="_299">The language is designed to be philosophically isomorphic to HTML to:<div class="list"><ul id="_300"><li id="_301">further reduce the learning curve</li><li id="_302">ensure that most of HTML constructs can be reached, including arbitrary nesting</li></ul></div></div><div class="p" id="_303">More precisely:<div class="list"><ul id="_304"><li id="_305">macro names map to tag names, e.g.: <code>\\a</code> to <code>&lt;a</code></li><li id="_306"><div class="p" id="_307">one of the arguments of macros, maps to the content of the HTML element, and the others map to attributes.</div><div class="p" id="_308">E.g., in a link:<div class="code" id="_309"><div><pre><code>\a[http://example.com][Link text\]</code></pre></div></div>the first macro argument:<div class="code" id="_310"><div><pre><code>http://example.com</code></pre></div></div>maps to the <code>href</code> of <code>&lt;a</code>, and the second macro argument:<div class="code" id="_311"><div><pre><code>Link text</code></pre></div></div>maps to the internal content of <code>&lt;a&gt;Link text&lt;&gt;</code>.</div></li></ul></div></div><div class="h" id="more-powerful"><div class="notnav"><h4><a href="more-powerful">More powerful</a></h4><span class="hover-meta"> <a class="split" href="more-powerful"></a><span class="metrics"><span class="wcntr"> Words: 239</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#design-goals" class="u"> Design goals</a><a href="#_toc/more-powerful" class="toc"></a></div></nav></div><div class="p" id="_312">The <a href="#saner">high sanity of OurBigBook</a>, also makes creating new macro extensions extremely easy and intuitive.</div><div class="p" id="_313">All built-in language features use the exact same API as new extensions, which ensures that the extension API is sane forever.</div><div class="p" id="_314">Markdown is clearly missing many key features such as block attributes and <a href="#internal-link">internal links</a>, and has no standardized extension mechanism.</div><div class="p" id="_315">The "more powerful than Asciidoctor" part is only partially true, since Asciidoctor is very featureful can do basically anything through extensions.</div><div class="p" id="_316">The difference is mostly that OurBigBook is completely and entirely focused on making amazing scientific books, and so will have key features for that application out-of-the box, notably:<div class="list"><ul id="_317"><li id="_318">amazing header/ToC/ID features including proper error reports: never have a internal broken link or duplicate ID again</li><li id="_319"><a href="#mathematics">server side pre-rendered maths with KaTeX</a>: all divs and spans are ready, browser only applies CSS, no JavaScript gets executed</li><li id="_320"><a href="#publish-your-content">publish</a>: we take care of website publishing for you out-of-the-box, no need to integrate into an external project like Jekyll</li><li id="_321"><a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>:<div class="list"><ul id="_322"><li id="_323"><a href="https://github.com/asciidoctor/asciidoctor/issues/626">github.com/asciidoctor/asciidoctor/issues/626</a> feature request</li><li id="_324"><a href="https://github.com/owenh000/asciidoctor-multipage">github.com/owenh000/asciidoctor-multipage</a> third party plugin that does it</li></ul></div></li></ul></div>and we feel that some of those features have required specialized code that could not be easily implemented as a standalone macro.</div><div class="p" id="_325">Another advantage over Asciidoctor is that the reference implementation of OurBigBook is in JavaScript, and can therefore be used on browser live preview out of the box. Asciidoctor does Transpile to JS with <a href="https://github.com/opal/opal">Opal</a>, but who wants to deal with that layer of complexity?</div><div class="h" id="related-projects"><div class="notnav"><h4><a href="related-projects">Related projects</a></h4><span class="hover-meta"> <a class="split" href="related-projects"></a><span class="metrics"><span class="wcntr"> Words: 297</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#design-goals" class="u"> Design goals</a><a href="#_toc/related-projects" class="toc"></a></div></nav></div><div class="p" id="_326">Static wiki generators: this is perhaps the best way of classifying this project :-)<div class="list"><ul id="_327"><li id="_328"><a href="https://github.com/gollum/gollum">github.com/gollum/gollum</a>: already has a local server editor! But no WYSIWYG nor live preview. Git integration by default, so when you save on the UI already generates a Git commit. We could achieve that with: <a href="https://github.com/isomorphic-git/isomorphic-git">github.com/isomorphic-git/isomorphic-git</a>, would be really nice. Does not appear to have built-in static generation:<div class="list"><ul id="_329"><li id="_330"><a href="https://stackoverflow.com/questions/7210391/have-anyone-use-gollum-site-to-generete-markdown-wikis-and-host-it-on-heroku">stackoverflow.com/questions/7210391/have-anyone-use-gollum-site-to-generete-markdown-wikis-and-host-it-on-heroku</a></li><li id="_331"><a href="https://github.com/dreverri/gollum-site">github.com/dreverri/gollum-site</a></li></ul></div>Does not appear to check that any links are correct.</li><li id="_332"><a href="https://github.com/wcchin/markypydia">github.com/wcchin/markypydia</a></li><li id="_333"><a href="https://obsidian.md/">obsidian.md/</a> closed source, Markdown with <a href="#cross-file-internal-link">cross file internal link</a> + a SaaS. Appears to require payment for any publishing. 28k followers 2021: <a href="https://twitter.com/obsdmd">twitter.com/obsdmd</a>. Founders are likely Canadians of Asian descent from Waterloo University: <a href="https://www.linkedin.com/in/lishid/">www.linkedin.com/in/lishid/</a> | <a href="https://www.linkedin.com/in/ericaxu/">www.linkedin.com/in/ericaxu/</a> also working in parallel on <a href="https://dynalist.io/">dynalist.io/</a> 2020 review at: <a href="https://www.youtube.com/watch?v=aK2fOQRNSxc">www.youtube.com/watch?v=aK2fOQRNSxc</a> Has offline editor with side-by-side preview. Compares with <a href="https://roamresearch.com/">Roam</a> and <a href="https://roamresearch.com/">Notion</a>, but can't find any public publishing on those, seem to be enterprise only things.</li></ul></div></div><div class="p" id="_334">Static book generators:<div class="list"><ul id="_335"><li id="_336"><a href="https://github.com/rstudio/bookdown">github.com/rstudio/bookdown</a>, <a href="https://bookdown.org/">bookdown.org/</a>. Very similar feature set to what we want!!! Transpiles to markdown, and then goes through Pandoc: <a href="https://bookdown.org/yihui/bookdown/pandoc.html">bookdown.org/yihui/bookdown/pandoc.html</a>, thus will never run on browser without huge translation layers. But does have an obscene amount of output formats however.</li><li id="_337"><a href="https://gohugo.io/">Hugo</a>. Pretty good, similar feature set to ours. But Go based, so hard on browser, and adds adhoc features on top of markdown once again</li><li id="_338"><a href="https://en.wikipedia.org/wiki/Personal_wiki">en.wikipedia.org/wiki/Personal_wiki</a><div class="list"><ul id="_339"><li id="_340"><a href="https://github.com/vimwiki/vimwiki">github.com/vimwiki/vimwiki</a></li></ul></div></li><li id="_341"><a href="https://github.com/hplgit/doconce">github.com/hplgit/doconce</a></li><li id="_342"><a href="https://www.gwern.net/About#source">www.gwern.net/About#source</a> is pretty interesting, uses <a href="https://github.com/jaspervdj/Hakyll/">github.com/jaspervdj/Hakyll/</a> + some custom stuff.</li><li id="_343"><a href="https://github.com/JerrySievert/bookmarkdown">github.com/JerrySievert/bookmarkdown</a></li><li id="_344"><a href="https://www.gitbook.com/">www.gitbook.com/</a><div class="list"><ul id="_345"><li id="_346"><a href="https://github.com/rust-lang/mdBook">github.com/rust-lang/mdBook</a>. Impressive integrated search feature. Like Gitbook but implemented in Rust.</li></ul></div></li><li id="_347"><a href="https://github.com/facebook/docusaurus">github.com/facebook/docusaurus</a> React + markdown based, written in TypeScript. So how can it be build fast? Gotta benchmark.</li><li id="_348">vimdoc: <a href="http://vimdoc.sourceforge.net/">vimdoc.sourceforge.net/</a> They do have perfectly working <a href="#internal-link">internal links</a>, see any page e.g. <a href="http://vimdoc.sourceforge.net/htmldoc/pattern.html">vimdoc.sourceforge.net/htmldoc/pattern.html</a>.</li><li id="_349">typst: <a href="https://github.com/typst/typst">github.com/typst/typst</a> An attempt at a LaTeX killer. Has its own typesetting engine, does not simply transpile to LaTeX. Meant to be faster and simpler to write. No HTML output as of writing: <a href="https://github.com/typst/typst/issues/721">github.com/typst/typst/issues/721</a></li></ul></div></div><div class="p" id="_350">Less related but of interest, similar philosophy to what Ciro wants, but no explicitly reusable system:<div class="list"><ul id="_351"><li id="_352"><a href="http://www.uprtcl.io/">www.uprtcl.io/</a></li><li id="_353"><a href="https://libretexts.org">libretexts.org</a></li><li id="_354"><a href="https://physics.info/">physics.info/</a></li><li id="_355"><a href="https://hypertextbook.com/">hypertextbook.com/</a></li><li id="_356"><a href="https://tutorial.math.lamar.edu/">tutorial.math.lamar.edu/</a></li></ul></div></div><div class="h" id="motivation"><div class="notnav"><h4><a href="motivation">Motivation</a></h4><span class="hover-meta"> <a class="split" href="motivation"></a><span class="metrics"><span class="wcntr"> Words: 147</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#design-goals" class="u"> Design goals</a><a href="#_toc/motivation" class="toc"></a></div></nav></div><div class="p" id="_357"><a href="#ciro-santilli">Ciro Santilli</a> developed OurBigBook to perfectly satisfy his writing style, which is basically "create one humongous document where you document everything you know about a subject so everyone can understand it, and just keep adding to it".</div><div class="p" id="_358"><a href="https://cirosantilli.com">cirosantilli.com</a> is the first major document that he has created in OurBigBook.</div><div class="p" id="_359">He decided to finally create this new system after having repeatedly facing limitations of Asciidoctor which were ignored/wontfixed upstream, because Ciro's  writing style is not as common/targeted by Asciidoctor.</div><div class="p" id="_360">Following large documents Ciro worked extensively on:<div class="list"><ul id="_361"><li id="_362"><a href="https://github.com/cirosantilli/china-dictatorship">github.com/cirosantilli/china-dictatorship</a></li><li id="_363"><a href="https://github.com/cirosantilli/linux-kernel-module-cheat">github.com/cirosantilli/linux-kernel-module-cheat</a></li></ul></div>made the limitations of Asciidoctor clear to Ciro, and were major motivation in this work.</div><div class="p" id="_364">The key limitations have repeatedly annoyed Ciro were:<div class="list"><ul id="_365"><li id="_366">cannot go over header level 6, addressed at: <a href="#unlimited-header-levels">unlimited header levels</a></li><li id="_367">the need for <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> to avoid one too large HTML output that will never get indexed properly by search engines, and takes a few seconds to load on any browser, which is unacceptable user experience</li></ul></div></div><div class="h" id="ourbigbook-markup"><div class="notnav"><h2><a href="ourbigbook-markup">OurBigBook Markup <span class="meta">(<code>.bigb</code> extension)</span></a></h2><span class="hover-meta"> <a class="split" href="ourbigbook-markup"></a><span class="metrics"><span class="wcntr"> Words: 24k</span><span class="dcnt"> Articles: 258</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/ourbigbook-markup" class="toc"></a></div></nav></div><div class="p" id="_369">OurBigBook Markup is the <a href="https://en.wikipedia.org/wiki/Lightweight_markup_language">lightweight markup language</a> used in the <a href="">OurBigBook</a> project.</div><div class="p" id="_370">It works both on the <a href="#ourbigbook-web">OurBigBook Web</a> dynamic website, and on <a href="#ourbigbook-cli">OurBigBook CLI</a> static websites from the command line.</div><div class="p" id="_371"><a href="#ourbigbook-markup">OurBigBook Markup</a> files use the <code>.bigb</code> extension.</div><div class="h" id="ourbigbook-markup-quick-start"><div class="notnav"><h3><a href="ourbigbook-markup-quick-start">OurBigBook Markup quick start</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-markup-quick-start"></a><span class="metrics"><span class="wcntr"> Words: 854</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup" class="u"> OurBigBook Markup</a><a href="#_toc/ourbigbook-markup-quick-start" class="toc"></a></div></nav></div><div class="p" id="_372"><a href="#paragraph">Paragraphs</a> are made by simplifying adding an empty line, e.g.:<div class="code" id="_373"><div><pre><code>My first paragraph.

And now my second paragraph.

Third one to finish.</code></pre></div></div><div class="p" id="_374">which renders as:</div><div><blockquote id="_375"><div class="p" id="_376">My first paragraph.</div><div class="p" id="_377">And now my second paragraph.</div><div class="p" id="_378">Third one to finish.</div></blockquote></div></div><div class="p" id="_379"><a href="#header">Headers</a> are created by starting the line with equal signs. The more equal signs the deeper you are, e.g.:<div class="code" id="_380"><div><pre><code>= Animal

== Mammal

=== Dog

=== Cat

== Bird

=== Pigeon

=== Chicken</code></pre></div></div>On <a href="#ourbigbook-web">OurBigBook Web</a>, the toplevel header of each page goes into a separate title box, so there things would just look like:<div class="list"><ul id="_381"><li id="_382">title box: "Animal"</li><li id="_383">body:<div class="code" id="_384"><div><pre><code>== Mammal

=== Dog

=== Cat

== Bird

=== Pigeon

=== Chicken</code></pre></div></div></li></ul></div></div><div class="p" id="_385">You can can use any header as a <a href="#h-tag-argument">tag</a> of any other header, e.g.:<div class="code" id="_386"><div><pre><code>= Animal

== Dog
{tag=Cute animal}

== Turtle
{tag=Ugly animal}

== Animal cuteness

=== Cute animal

=== Ugly animal</code></pre></div></div></div><div class="p" id="_387">Headers have several powerful features that you can read more about under <a href="#h-arguments"><code>\H</code> arguments</a>, e.g. <a href="#h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a> and <a href="#disambiguate-argument"><code>\H</code> <code>disambiguate</code> argument</a>.</div><div class="p" id="_388">To <a href="#internal-link">link to any of your other pages</a>, you can use angle brackets (less than/greater than) signs:<div class="code" id="_389"><div><pre><code>I have a &lt;cute animal&gt;. &lt;Birds&gt; are too noisy.</code></pre></div></div>Note how <a href="#internal-link-title-inflection">capitalization and pluralization generally just work</a>.</div><div class="p" id="_390">To use a custom link text on a reference, use the following syntax:<div class="code" id="_391"><div><pre><code>I have a &lt;cute animal&gt;[furry animal]. &lt;Birds&gt;[feathery animals] are too noisy.</code></pre></div></div></div><div class="p" id="_392">External links can be input directly as:<div class="code" id="_393"><div><pre><code>This is a great website: https://example.com

I really like https://example.com[this website].</code></pre></div></div><div class="p" id="_394">which renders as:</div><div><blockquote id="_395"><div class="p" id="_396">This is a great website: <a href="https://example.com">example.com</a></div><div class="p" id="_397">I really like <a href="https://example.com">this website</a>.</div></blockquote></div></div><div class="p" id="_398"><a href="#code-block">Code blocks</a> are done with backticks <code>`</code>. With just one backtick, you get a code block inside the text:<div class="code" id="_399"><div><pre><code>The function call `f(x + 1, "abc")` is wrong.</code></pre></div></div><div class="p" id="_400">which renders as:</div><div><blockquote id="_401"><div class="p" id="_402">The function call <code>f(x + 1, "abc")</code> is wrong.</div></blockquote></div>and with two ore more backticks you get a code block on its own line, and possibly with multiple code lines:<div class="code" id="_403"><div><pre><code>The function:
``
function f(x, s) {
  return x + s
}
``
is wrong.</code></pre></div></div><div class="p" id="_404">which renders as:</div><div><blockquote id="_405"><div class="p" id="_406">The function:<div class="code" id="_407"><div><pre><code>function f(x, s) {
  return x + s
}</code></pre></div></div>is wrong.</div></blockquote></div></div><div class="p" id="_408"><a href="#mathematics">Mathematics</a> syntax is very similar to code blocks, you can just enter you LaTeX code in it:<div class="code" id="_409"><div><pre><code>The number $\sqrt{2}$ is irrational.

The same goes for:
$$
\frac{1}{\sqrt{2}}
$$</code></pre></div></div><div class="p" id="_410">which renders as:</div><div><blockquote id="_411"><div class="p" id="_412">The number <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span></span></span></span> is irrational.</div><div class="p" id="_413">The same goes for:<div class="math" id="_414"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3831em;vertical-align:-0.538em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></div><div class="number"><a href="#_414">(1)</a></div></div></div></div></div></blockquote></div></div><div class="p" id="_415">We also have <a href="#built-in-latex-macros">a bunch of predefined macros from popular packages</a>, e.g. <code>\dv</code> from the <a href="https://mirrors.ibiblio.org/CTAN/macros/latex/contrib/physics/physics.pdf"><code>physics</code> package</a> for derivatives:<div class="code" id="_416"><div><pre><code>$$
\dv{x^2}{x} = 2x
$$</code></pre></div></div><div class="p" id="_417">which renders as:</div><div><blockquote id="_418"><div class="math" id="_419"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathnormal">x</span></span></span></span></div><div class="number"><a href="#_419">(2)</a></div></div></div></div></blockquote></div></div><div class="p" id="_420">You can <a href="#internal-link">refer</a> to specific equations like this:<div class="code" id="_421"><div><pre><code>As shown in &lt;equation Very important equation&gt;, this is true.

$$
\frac{1}{\sqrt{2}}
$$
{title=Very important equation}</code></pre></div></div><div class="p" id="_422">which renders as:</div><div><blockquote id="_423"><div class="p" id="_424">As shown in <a href="#equation-very-important-equation">Equation 3. "Very important equation"</a>, this is true.</div><div class="math" id="equation-very-important-equation"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3831em;vertical-align:-0.538em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.551em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">2</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></div><div class="number"><a href="#equation-very-important-equation">(3)</a></div></div><div class="caption"><a href="#equation-very-important-equation"><span class="caption-prefix">Equation 3. </span></a><div class="title">Very important equation</div>. </div></div></div></blockquote></div></div><div class="p" id="_425"><a href="#image">Images</a> and <a href="#video">videos</a> are also easy to add and <a href="#internal-link">refer</a> to:<div class="code" id="_426"><div><pre><code>As shown at &lt;image Cute chicken chick&gt;, chicks are cute.

\Image[https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/H%C3%BChnerk%C3%BCken_02.jpg/800px-H%C3%BChnerk%C3%BCken_02.jpg?20200716091201]
{title=Cute chicken chick}

\Video[https://www.youtube.com/watch?v=j_fl4xoGTKU]
{title=Top Down 2D Continuous Game by Ciro Santilli (2018)}</code></pre></div></div><div class="p" id="_427">which renders as:</div><div><blockquote id="_428"><div class="p" id="_429">As shown at <a href="#image-cute-chicken-chick">Figure 21. "Cute chicken chick"</a>, chicks are cute.</div><div class="figure"><figure id="image-cute-chicken-chick"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/H%C3%BChnerk%C3%BCken_02.jpg/800px-H%C3%BChnerk%C3%BCken_02.jpg?20200716091201"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/H%C3%BChnerk%C3%BCken_02.jpg/800px-H%C3%BChnerk%C3%BCken_02.jpg?20200716091201" loading="lazy" height="315"></a></div><figcaption><a href="#image-cute-chicken-chick"><span class="caption-prefix">Figure 21. </span></a><div class="title">Cute chicken chick</div>. <a href="https://commons.wikimedia.org/wiki/File:H%C3%BChnerk%C3%BCken_02.jpg?20200716091201">Source</a>. </figcaption></figure></div><div class="figure"><figure id="video-top-down-2d-continuous-game-by-ciro-santilli-2018"><div class="float-wrap"><iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/j_fl4xoGTKU" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-top-down-2d-continuous-game-by-ciro-santilli-2018"><span class="caption-prefix">Video 5. </span></a><div class="title">Top Down 2D Continuous Game by Ciro Santilli (2018)</div> <a href="https://www.youtube.com/watch?v=j_fl4xoGTKU">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="p" id="_430">Images can take a bunch of options, about which you can read more about at <a href="#image-argument">image arguments</a>. Most should be self explanatory, here is an image with a bunch of useful arguments:<div class="code" id="_431"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/H%C3%BChnerk%C3%BCken_02.jpg/800px-H%C3%BChnerk%C3%BCken_02.jpg?20200716091201]
{title=Ultra cute chicken chick}
{description=
The chicken is yellow, and the hand is brown.

The background is green.
}
{border}
{height=400}
{source=https://commons.wikimedia.org/wiki/File:H%C3%BChnerk%C3%BCken_02.jpg}</code></pre></div></div><div class="p" id="_432">which renders as:</div><div><blockquote id="_433"><div class="figure"><figure id="image-ultra-cute-chicken-chick" class="multiline"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/H%C3%BChnerk%C3%BCken_02.jpg/800px-H%C3%BChnerk%C3%BCken_02.jpg?20200716091201"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/H%C3%BChnerk%C3%BCken_02.jpg/800px-H%C3%BChnerk%C3%BCken_02.jpg?20200716091201" loading="lazy" height="400"  class="border"></a></div><figcaption><a href="#image-ultra-cute-chicken-chick"><span class="caption-prefix">Figure 22. </span></a><div class="title">Ultra cute chicken chick</div>. <a href="https://commons.wikimedia.org/wiki/File:H%C3%BChnerk%C3%BCken_02.jpg">Source</a>. <div class="p" id="_434">The chicken is yellow, and the hand is brown.</div><div class="p" id="_435">The background is green.</div></figcaption></figure></div></blockquote></div></div><div class="p" id="_436"><a href="#list">Lists</a> are written by starting the line with an asterisk <code>*</code>:<div class="code" id="_437"><div><pre><code>* first item
* second item
* and the third</code></pre></div></div><div class="p" id="_438">which renders as:</div><div><blockquote id="_439"><div class="list"><ul id="_440"><li id="_441">first item</li><li id="_442">second item</li><li id="_443">and the third</li></ul></div></blockquote></div></div><div class="p" id="_444">A nested list:<div class="code" id="_445"><div><pre><code>* first item
  * first item version 1
  * first item version 2
    * first item version 2 1
    * first item version 2 2
* second item
* and the third</code></pre></div></div><div class="p" id="_446">which renders as:</div><div><blockquote id="_447"><div class="list"><ul id="_448"><li id="_449">first item<div class="list"><ul id="_450"><li id="_451">first item version 1</li><li id="_452">first item version 2<div class="list"><ul id="_453"><li id="_454">first item version 2 1</li><li id="_455">first item version 2 2</li></ul></div></li></ul></div></li><li id="_456">second item</li><li id="_457">and the third</li></ul></div></blockquote></div></div><div class="p" id="_458">Lists items can contain any markup, e.g. paragraphs. You just need to keep the same number of spaces, e.g.:<div class="code" id="_459"><div><pre><code>* first item.

  Second paragraph of first item.

  And a third one.
* second item
  * second item v1

    Another paragraph in second item v1
  * second item v2</code></pre></div></div><div class="p" id="_460">which renders as:</div><div><blockquote id="_461"><div class="list"><ul id="_462"><li id="_463"><div class="p" id="_464">first item.</div><div class="p" id="_465">Second paragraph of first item.</div><div class="p" id="_466">And a third one.</div></li><li id="_467">second item<div class="list"><ul id="_468"><li id="_469"><div class="p" id="_470">second item v1</div><div class="p" id="_471">Another paragraph in second item v1</div></li><li id="_472">second item v2</li></ul></div></li></ul></div></blockquote></div></div><div class="p" id="_473"><a href="#table">Tables</a> are not very different from lists. We use double pipes for headers <code>||</code>, and a single pipe <code>|</code> for regular rows:<div class="code" id="_474"><div><pre><code>|| City
|| Sales

| Salt Lake City
| 124,00

| New York
| 1,000,000</code></pre></div></div><div class="p" id="_475">which renders as:</div><div><blockquote id="_476"><div class="table" id="_477"><div><table><thead><tr id="_478"><th id="_479">City</th><th id="_480">Sales</th></tr></thead><tbody><tr id="_481"><td id="_482">Salt Lake City</td><td id="_483">124,00</td></tr><tr id="_484"><td id="_485">New York</td><td id="_486">1,000,000</td></tr></tbody></table></div></div></blockquote></div></div><div class="p" id="_487">To add a title we need to use an explicit <code>\Table</code> macro as in:<div class="code" id="_488"><div><pre><code>See &lt;table Sales per city&gt; for more information.

\Table
{title=Sales per city}
[
|| City
|| Sales

| Salt Lake City
| 124,00

| New York
| 1,000,000
]</code></pre></div></div><div class="p" id="_489">which renders as:</div><div><blockquote id="_490"><div class="p" id="_491">See <a href="#table-sales-per-city">Table 1. "Sales per city"</a> for more information.</div><div class="table" id="table-sales-per-city"><div><div class="caption"><a href="#table-sales-per-city"><span class="caption-prefix">Table 1. </span></a><div class="title">Sales per city</div>. </div><table><thead><tr id="_492"><th id="_493">City</th><th id="_494">Sales</th></tr></thead><tbody><tr id="_495"><td id="_496">Salt Lake City</td><td id="_497">124,00</td></tr><tr id="_498"><td id="_499">New York</td><td id="_500">1,000,000</td></tr></tbody></table></div></div></blockquote></div></div><div class="h" id="macro"><div class="notnav"><h3><a href="macro">Macro</a></h3><span class="hover-meta"> <a class="split" href="macro"></a><span class="metrics"><span class="wcntr"> Words: 19k</span><span class="dcnt"> Articles: 205</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup" class="u"> OurBigBook Markup</a><a href="#_toc/macro" class="toc"></a></div></nav></div><div class="p" id="_501">This section documents all OurBigBook macros.</div><div class="p" id="_502">Macros are magic commands that do cool stuff, e.g. <code>\Image</code> to create an image.</div><div class="p" id="_503">The most common macros also have <a href="#macro-shorthand-syntax">macro shorthand syntaxes</a> to keep the syntax shorter.</div><div class="p" id="_504">The general macro syntax is described at <a href="#ourbigbook-markup-syntax">Section "OurBigBook Markup syntax"</a>.</div><div class="h" id="link"><div class="notnav"><h4><a href="link">Link <span class="meta">(<code>\a</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="link"></a><span class="metrics"><span class="wcntr"> Words: 2k</span><span class="dcnt"> Articles: 15</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/link" class="toc"></a><span class="tags"> Tags: <a href="#inline-macro">Inline macro</a>, <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_508"><a href="#macro-shorthand-syntax">Shorthand</a> autolink, i.e. the link text is the same as the link address:<div class="code" id="_509"><div><pre><code>The website http://example.com is cool. See also:

\Q[http://example.com/2]</code></pre></div></div><div class="p" id="_510">which renders as:</div><div><blockquote id="_511"><div class="p" id="_512">The website <a href="http://example.com">example.com</a> is cool. See also:</div><div><blockquote id="_513"><a href="http://example.com/2">example.com/2</a></blockquote></div></blockquote></div>Exact parsing rules described at: <a href="#shorthand-link-parsing-rules">Section "Shorthand link parsing rules"</a>.</div><div class="p" id="_514">Note that the prefixes <code>http://</code> and <code>https://</code> are automatically removed from the displayed link, since they are so common that they woudly simply add noise.</div><div class="p" id="_515">Equivalent sane version:<div class="code" id="_516"><div><pre><code>The website \a[http://example.com] is cool.

\Q[\a[http://example.com/2]]</code></pre></div></div><div class="p" id="_517">which renders as:</div><div><blockquote id="_518"><div class="p" id="_519">The website <a href="http://example.com">example.com</a> is cool.</div><div><blockquote id="_520"><a href="http://example.com/2">example.com/2</a></blockquote></div></blockquote></div></div><div class="p" id="_521">Shorthand link with custom text:<div class="code" id="_522"><div><pre><code>The website http://example.com[example.com] is cool.</code></pre></div></div><div class="p" id="_523">which renders as:</div><div><blockquote id="_524"><div class="p" id="_525">The website <a href="http://example.com">example.com</a> is cool.</div></blockquote></div>Equivalent sane version:<div class="code" id="_526"><div><pre><code>The website \a[http://example.com][example.com] is cool.</code></pre></div></div><div class="p" id="_527">which renders as:</div><div><blockquote id="_528"><div class="p" id="_529">The website <a href="http://example.com">example.com</a> is cool.</div></blockquote></div>If the custom text is empty, an autolink is generated. This is often useful if you want your link to be followed by punctuation:<div class="code" id="_530"><div><pre><code>The website is really cool: http://example.com[].</code></pre></div></div><div class="p" id="_531">which renders as:</div><div><blockquote id="_532"><div class="p" id="_533">The website is really cool: <a href="http://example.com">example.com</a>.</div></blockquote></div>This could also be achieved with the sane syntax of course, but this pattern saves a tiny bit of typing.</div><div class="p" id="_534">Link to a file in the current repository:<div class="code" id="_535"><div><pre><code>The file \a[index.js] is cool.</code></pre></div></div><div class="p" id="_536">which renders as:</div><div><blockquote id="_537"><div class="p" id="_538">The file <a href="_raw/index.js">index.js</a> is cool.</div></blockquote></div>This links to a raw view of that file.</div><div class="p" id="_539">Link to a directory in the current repository:<div class="code" id="_540"><div><pre><code>The directory \a[file_demo] is cooler.</code></pre></div></div><div class="p" id="_541">which renders as:</div><div><blockquote id="_542"><div class="p" id="_543">The directory <a href="_dir/file_demo">file_demo</a> is cooler.</div></blockquote></div>This links to an output file that contains a generated directory listing of that directory.</div><div class="h" id="a-argument"><div class="notnav"><h5><a href="a-argument"><code>\a</code> argument</a></h5><span class="hover-meta"> <a class="split" href="a-argument"></a><span class="metrics"><span class="wcntr"> Words: 994</span><span class="dcnt"> Articles: 11</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#link" class="u"> Link</a><a href="#_toc/a-argument" class="toc"></a><span class="tags"> Tags: <a href="#inline-macro">Inline macro</a></span></div></nav></div><div class="h" id="a-href-argument"><div class="notnav"><h6><a href="a-href-argument"><code>\a</code> <code>href</code> argument</a></h6><span class="hover-meta"> <a class="split" href="a-href-argument"></a><span class="metrics"><span class="wcntr"> Words: 39</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-argument" class="u"> <code>\a</code> argument</a><a href="#_toc/a-href-argument" class="toc"></a></div></nav></div><div class="p" id="_545">The link target, e.g. in:<div class="code" id="_546"><div><pre><code>\a[http://example.com]</code></pre></div></div><code>href</code> equals <code>http://example.com</code>.</div><div class="p" id="_547">Important behaviors associated with this property for local links are detailed at <a href="#a-external-argument">Section "<code>\a</code> <code>external</code> argument"</a>:<div class="list"><ul id="_548"><li id="_549">they are checked for existence in the local filesystem</li><li id="_550">they are modified to account for <a href="#h-scope-argument">scopes</a> with <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a></li></ul></div></div><div class="h" id="a-ref-argument"><div class="notnav"><h6><a href="a-ref-argument"><code>\a</code> <code>ref</code> argument</a></h6><span class="hover-meta"> <a class="split" href="a-ref-argument"></a><span class="metrics"><span class="wcntr"> Words: 30</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-argument" class="u"> <code>\a</code> argument</a><a href="#_toc/a-ref-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_552">Analogous to the <a href="#x-ref-argument"><code>\x</code> <code>ref</code> argument</a>, e.g.:<div class="code" id="_553"><div><pre><code>Trump said this and that.https://en.wikipedia.org/wiki/Donald_Trump_Access_Hollywood_tape#Trump's_responses{ref}https://web.archive.org/web/20161007210105/https://www.donaldjtrump.com/press-releases/statement-from-donald-j.-trump{ref} Then he said that and this.https://en.wikipedia.org/wiki/Donald_Trump_Access_Hollywood_tape#Trump's_responses{ref}https://web.archive.org/web/20161007210105/https://www.donaldjtrump.com/press-releases/statement-from-donald-j.-trump{ref}</code></pre></div></div><div class="p" id="_554">which renders as:</div><div><blockquote id="_555"><div class="p" id="_556">Trump said this and that.<a href="https://en.wikipedia.org/wiki/Donald_Trump_Access_Hollywood_tape#Trump&#039;s_responses"><sup class="ref">[ref]</sup></a><a href="https://web.archive.org/web/20161007210105/https://www.donaldjtrump.com/press-releases/statement-from-donald-j.-trump"><sup class="ref">[ref]</sup></a> Then he said that and this.<a href="https://en.wikipedia.org/wiki/Donald_Trump_Access_Hollywood_tape#Trump&#039;s_responses"><sup class="ref">[ref]</sup></a><a href="https://web.archive.org/web/20161007210105/https://www.donaldjtrump.com/press-releases/statement-from-donald-j.-trump"><sup class="ref">[ref]</sup></a></div></blockquote></div></div><div class="h" id="a-external-argument"><div class="notnav"><h6><a href="a-external-argument"><code>\a</code> <code>external</code> argument</a></h6><span class="hover-meta"> <a class="split" href="a-external-argument"></a><span class="metrics"><span class="wcntr"> Words: 925</span><span class="dcnt"> Articles: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-argument" class="u"> <code>\a</code> argument</a><a href="#_toc/a-external-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_558">If given and true, forces a the link to be an <a href="#external-link">external link</a>.</div><div class="p" id="_559">Otherwise, the external is automatically guessed based on the address given as explained at <a href="#external-link">Section "External link"</a>.</div><div class="p" id="_560">Common use cases for the <code>external</code> argument is to link to non OurBigBook content in the current domain, e.g.:<div class="list"><ul id="_561"><li id="_562"><a href="#link-to-the-domain-root-path">link to the domain root path</a> for <a href="#subdirectory-deployment">Subdirectory deployments</a></li><li id="_563">link non OurBigBook subdirectories. E.g., <a href="https://github.com/cirosantilli/cirosantilli.github.io/blob/master/index.bigb">github.com/cirosantilli/cirosantilli.github.io/blob/master/index.bigb</a> was rendered at <a href="https://cirosantilli.com">cirosantilli.com</a>, and contains links <code>\a[markdown-style-guide]{external}</code> to <a href="https://cirosantilli.com/markdown-style-guide">cirosantilli.com/markdown-style-guide</a>, whose source lives in a separate non-OurBigBook repository: <a href="https://github.com/cirosantilli/markdown-style-guide/">github.com/cirosantilli/markdown-style-guide/</a></li></ul></div></div><div class="h" id="link-to-the-domain-root-path"><div class="notnav"><h6 data-level="7"><a href="link-to-the-domain-root-path">Link to the domain root path</a></h6><span class="hover-meta"> <a class="split" href="link-to-the-domain-root-path"></a><span class="metrics"><span class="wcntr"> Words: 34</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><a href="#_toc/link-to-the-domain-root-path" class="toc"></a></div></nav></div><div class="p" id="_564">The <a href="#a-external-argument"><code>\a</code> <code>external</code> argument</a> can be used to refer to the root of the domain. E.g. suppose that we have a <a href="#subdirectory-deployment">subdirectory deployment</a> under <code>https://mydomain.com/subdir/</code>. Then:<div class="list"><ul id="_565"><li id="_566"><code>\a[/somepath]</code> refers to the directory <code>/subdir/somepath</code></li><li id="_567"><code>\a[/somepath]{external}</code> refers to the directory <code>/somepath</code></li></ul></div></div><div class="h" id="subdirectory-deployment"><div class="notnav"><h6 data-level="7"><a href="subdirectory-deployment">Subdirectory deployment</a></h6><span class="hover-meta"> <a class="split" href="subdirectory-deployment"></a><span class="metrics"><span class="wcntr"> Words: 52</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><a href="#_toc/subdirectory-deployment" class="toc"></a></div></nav></div><div class="p" id="_568">TODO test if it works. But we want it to be possible to deploy <a href="#ourbigbook-cli">OurBigBook CLI</a> static websites on subdirectories, e.g.:<div class="code" id="_569"><div><pre><code>https://mydomain.com/subdir/
https://mydomain.com/subdir/mathematics</code></pre></div></div>If it doesn't work, it should be easy to make it work, as we use relative links almost everywhere already. Likely there would only be some minor fixes to the <a href="#template"><code>--template</code></a> arguments.</div><div class="h" id="external-link"><div class="notnav"><h6 data-level="7"><a href="external-link">External link</a></h6><span class="hover-meta"> <a class="split" href="external-link"></a><span class="metrics"><span class="wcntr"> Words: 325</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><a href="#_toc/external-link" class="toc"></a></div></nav></div><div class="p" id="_570">An external link is a link that points to a resource that is not present in the current OurBigBook project sources. A typical external link is something like:<div class="code" id="_571"><div><pre><code>This is great website: https://cirosantilli.com</code></pre></div></div><div class="p" id="_572">which renders as:</div><div><blockquote id="_573"><div class="p" id="_574">This is great website: <a href="https://cirosantilli.com">cirosantilli.com</a></div></blockquote></div>which points to an absolute URL.</div><div class="p" id="_575"><a href="#external-link">Internal path links</a> are links that point to files present inside the current project. For example, in computer programming tutorials we will often want to refer to source files in the current directory. So from our <code>index.bigb</code>, we could want to write something like:<div class="code" id="_576"><div><pre><code>Have a look at this amazing source file: \a[index.js].</code></pre></div></div><div class="p" id="_577">which renders as:</div><div><blockquote id="_578"><div class="p" id="_579">Have a look at this amazing source file: <a href="_raw/index.js">index.js</a>.</div></blockquote></div>and here <code>\a[ourbigbook]</code> is a internal link. These should not to be confused with <a href="#internal-link">internal links</a>, which may point not only to files, but to any <a href="#element-id">ID</a>, e.g. of headers inside a OurBigBook file.</div><div class="p" id="_580">OurBigBook considers a link external by default if it does not have a <a href="#url-with-protocol">URL with protocol</a>.</div><div class="p" id="_581">Therefore, the following links are external by default:<div class="list"><ul id="_582"><li id="_583"><code>http://cirosantilli.com</code></li><li id="_584"><code>https://cirosantilli.com</code></li><li id="_585"><code>file:///etc/fstab</code></li><li id="_586"><code>ftp://cirosantilli.com</code></li></ul></div>and the following are internal by default:<div class="list"><ul id="_587"><li id="_588"><code>index.js</code></li><li id="_589"><code>../index.js</code></li><li id="_590"><code>path/to/index.js</code></li><li id="_591"><code>/path/to/index.js</code>. Note that paths starting with <code>/</code> refer to the root of the <a href="#ourbigbook-cli">OurBigBook CLI</a> deployment, not the root of the domain, see: <a href="#link-to-the-domain-root-path">link to the domain root path</a>.</li><li id="_592"><code>//example.com/path/to/index.js</code></li></ul></div></div><div class="p" id="_593">Implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/87">github.com/ourbigbook/ourbigbook/issues/87</a> as <code>relative</code>, and subsequently modified to the more accurate/useful <code>external</code>.</div><div class="h" id="internal-path-links-are-smart"><div class="notnav"><h6 data-level="8"><a href="internal-path-links-are-smart">Internal path links are smart</a></h6><span class="hover-meta"> <a class="split" href="internal-path-links-are-smart"></a><span class="metrics"><span class="wcntr"> Words: 109</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#external-link" class="u"> External link</a><a href="#_toc/internal-path-links-are-smart" class="toc"></a></div></nav></div><div class="p" id="_594">When a link is an <a href="#external-link">internal path link</a> this has the following effects:<div class="list"><ul id="_595"><li id="_596"><div class="p" id="_597">the correct relative path to the file is used when using nested <a href="#h-scope-argument">scopes</a> with <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>. For example, if we have:<div class="code" id="_598"><div><pre><code>= h1

== h2
{scope}

=== h3

\a[index.js]</code></pre></div></div>then in split header mode, <code>h3</code> will be rendered to <code>h2/h3.html</code>.</div><div class="p" id="_599">Therefore, if we didn't do anything about it, the link to <code>index.js</code> would render as <code>href="index.js"</code> and thus point to <code>h2/index.js</code> instead of the correct <code>index.js</code>.</div><div class="p" id="_600">Instead, OurBigBook automatically converts it to the correct <code>href="../index.js"</code></div></li><li id="_601">the <a href="#raw-directory"><code>_raw</code> directory</a> prefix is added to the link</li><li id="_602">existence of the file is checked on compilation. If it does not exist, an error is given.</li></ul></div></div><div class="h" id="dir-directory"><div class="notnav"><h6 data-level="7"><a href="dir-directory"><code>_dir</code> directory</a></h6><span class="hover-meta"> <a class="split" href="dir-directory"></a><span class="metrics"><span class="wcntr"> Words: 39</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><a href="#_toc/dir-directory" class="toc"></a></div></nav></div><div class="p" id="_603">The <code>_dir</code> directory tree contains file listings of files in the <code>_raw</code> directory.</div><div class="p" id="_604">We originally wanted to place these listings under <code>_raw</code> itself, but this leads to unsolvable conflicts when there are files called <code>index.html</code> present vs the index.</div><div class="h" id="file-output-directory"><div class="notnav"><h6 data-level="7"><a href="file-output-directory"><code>_file</code> output directory</a></h6><span class="hover-meta"> <a class="split" href="file-output-directory"></a><span class="metrics"><span class="wcntr"> Words: 87</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><a href="#_toc/file-output-directory" class="toc"></a></div></nav></div><div class="p" id="_605">Analogous to the <a href="#raw-directory"><code>_raw</code> directory</a>, but contains an HTML page that displays the contents of the file inside of it.</div><div class="p" id="_606">As such, unlike in the <a href="#raw-directory"><code>_raw</code> directory</a> which just contains the file raw, the page can also contain useful metadata about the file, such as:<div class="list"><ul id="_607"><li id="_608">its location in the file tree pointing to the <a href="#dir-directory"><code>_dir</code> directory</a></li><li id="_609"><a href="#ourbigbook-liquid-html">ourbigbook.liquid.html</a> elements such as a commenting system like <a href="https://ourbigbook.com/go/topic/giscus">Giscus</a> and analytics like <a href="https://ourbigbook.com/go/topic/google-analytic">Google Analytics</a></li></ul></div></div><div class="p" id="_610">If the file has a corresponding <a href="#h-file-argument"><code>\H</code> <code>file</code> argument</a> section, and when using <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>, then the content of the corresponding section are shown. Otherwise, only the file is shown.</div><div class="h" id="raw-directory"><div class="notnav"><h6 data-level="7"><a href="raw-directory"><code>_raw</code> directory</a></h6><span class="hover-meta"> <a class="split" href="raw-directory"></a><span class="metrics"><span class="wcntr"> Words: 226</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><a href="#_toc/raw-directory" class="toc"></a></div></nav></div><div class="p" id="_611"><a href="">OurBigBook</a> places output files that are not the output of <code>.bigb</code> to <code>.html</code> conversion (i.e. <code>.html</code> output files) under the <code>_raw/</code> prefix of the output.</div><div class="p" id="_612"><a href="#external-link">Internal path links</a> then automatically add the <code>_raw/</code> prefix to every link.</div><div class="p" id="_613">For example, consider an input directory that contains:</div><div class="p" id="_614">notindex.bigb<div class="code" id="_615"><div><pre><code>= Hello

Check out \a[myfile.c].

The source code for this file is at: \a[notindex.bigb].

\Image[myimg.png]</code></pre></div></div></div><div class="p" id="_616">myfile.c<div class="code" id="_617"><div><pre><code>int i = 1;</code></pre></div></div></div><div class="p" id="_618">myimg.png<div class="code" id="_619"><div><pre><code>Binary!</code></pre></div></div></div><div class="p" id="_620">After conversion with:<div class="code" id="_621"><div><pre><code>ourbigbook .</code></pre></div></div>the following files would exist in the output directory:<div class="list"><ul id="_622"><li id="_623"><code>notindex.html</code>: converted output of <code>notindex.bigb</code></li><li id="_624"><code>_raw/notindex.bigb</code>: a copy of the input source code <code>notindex.bigb</code></li><li id="_625"><code>_raw/myfile.c</code>: a copy of the input file <code>myfile.c</code></li><li id="_626"><code>_raw/myimg.png</code>: a copy of the input file <code>myimg.c</code></li></ul></div>and all links/image references would work and automtically point to the correct locations under <code>_raw</code>.</div><div class="p" id="_627">Some live examples:<div class="list"><ul id="_628"><li id="_629"><div class="p" id="_630">link to a file:</div><div class="p" id="_631"><div class="code" id="_632"><div><pre><code>The file \a[index.js] is cool.</code></pre></div></div><div class="p" id="_633">which renders as:</div><div><blockquote id="_634"><div class="p" id="_635">The file <a href="_raw/index.js">index.js</a> is cool.</div></blockquote></div></div></li><li id="_636">link to a directory:<div class="code" id="_637"><div><pre><code>The directory \a[file_demo] is cooler.</code></pre></div></div><div class="p" id="_638">which renders as:</div><div><blockquote id="_639"><div class="p" id="_640">The directory <a href="_dir/file_demo">file_demo</a> is cooler.</div></blockquote></div></li></ul></div></div><div class="p" id="_641">The reason why a <code>_raw</code> prefix is needed it to avoid naming conflicts with OurBigBook outputs, e.g. suppose we had the files:<div class="list"><ul id="_642"><li id="_643"><code>configure</code></li><li id="_644"><code>configure.bigb</code></li></ul></div>Then, in a server that omits the <code>.html</code> extension, if we didn't have <code>_raw/</code> both <code>configure.html</code> and <code>configure</code> would be present under <code>/configure</code>. With <code>_raw</code> we instead get:<div class="list"><ul id="_645"><li id="_646"><code>_raw/configure</code>: the input <code>/configure</code> file</li><li id="_647"><code>configure</code>: the HTML</li></ul></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#raw-files-are-downloaded-rather-than-displayed-in-browser-for-certain-file-extensions-on-github-pages"><code>_raw</code> files are downloaded rather than displayed in browser for certain file extensions on GitHub Pages</a></li></ul></div></div><div class="h" id="url-with-protocol"><div class="notnav"><h6 data-level="7"><a href="url-with-protocol">URL with protocol</a></h6><span class="hover-meta"> <a class="split" href="url-with-protocol"></a><span class="metrics"><span class="wcntr"> Words: 92</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#a-external-argument" class="u"> <code>\a</code> <code>external</code> argument</a><a href="#_toc/url-with-protocol" class="toc"></a></div></nav></div><div class="p" id="_648">A URL with protocol is a URL that matches the regular expression <code>^[a-zA-Z]+://</code>. The following are examples of URLs with protocol:<div class="list"><ul id="_649"><li id="_650"><code>http://cirosantilli.com</code></li><li id="_651"><code>https://cirosantilli.com</code></li><li id="_652"><code>file:///etc/fstab</code></li><li id="_653"><code>ftp://cirosantilli.com</code></li></ul></div></div><div class="p" id="_654">The following aren't:<div class="list"><ul id="_655"><li id="_656"><code>index.js</code></li><li id="_657"><code>../index.js</code></li><li id="_658"><code>path/to/index.js</code></li><li id="_659"><code>/path/to/index.js</code></li><li id="_660"><div class="p" id="_661"><code>//example.com/path/to/index.js</code>. This one is a bit tricky. Web browsers would consider this as a <a href="https://stackoverflow.com/questions/28446314/why-use-protocol-relative-urls-at-all">protocol-relative URL</a>, which technically implies a protocol, although that protocol would be different depending how you are viewing the file, e.g. locally through <code>file://</code> vs on a with website <code>https://</code>.</div><div class="p" id="_662">For simplicity's sake, we just consider it as a URL without protocol.</div></li></ul></div></div><div class="h" id="shorthand-link-parsing-rules"><div class="notnav"><h5><a href="shorthand-link-parsing-rules">Shorthand link parsing rules</a></h5><span class="hover-meta"> <a class="split" href="shorthand-link-parsing-rules"></a><span class="metrics"><span class="wcntr"> Words: 258</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#link" class="u"> Link</a><a href="#_toc/shorthand-link-parsing-rules" class="toc"></a></div></nav></div><div class="p" id="_663">Shorthand start at any of the recognized protocols are the ones shown at: <a href="#known-url-protocols">Section "Known URL protocols"</a>.<div class="list"><ul id="_664"><li id="_665"><code>http://</code></li><li id="_666"><code>https://</code></li></ul></div>absolutely anywhere if not escaped, e.g.:<div class="code" id="_667"><div><pre><code>ahttp://example.com</code></pre></div></div>renders something like:<div class="code" id="_668"><div><pre><code>a &lt;a href="http://example.com"&gt;</code></pre></div></div>To prevent expansion, you have to escape the protocol with a backslash <code>\\</code>, e.g.:<div class="code" id="_669"><div><pre><code>\http://example.com</code></pre></div></div>Empty domains like:<div class="code" id="_670"><div><pre><code>http://</code></pre></div></div>don't becomes links however. But this one does:<div class="code" id="_671"><div><pre><code>http://a</code></pre></div></div></div><div class="p" id="_672">Shorthand links end when any <a href="#shorthand-link-termination-character">shorthand link termination character</a> is found.</div><div class="p" id="_673">As a consequence, to have an shorthand link followed immediately by a punctuation like a period you should use an empty argument as in:<div class="code" id="_674"><div><pre><code>Check out this website: http://example.com[].</code></pre></div></div><div class="p" id="_675">which renders as:</div><div><blockquote id="_676"><div class="p" id="_677">Check out this website: <a href="http://example.com">example.com</a>.</div></blockquote></div>otherwise the punctuation will go in it. Another common use case is:<div class="code" id="_678"><div><pre><code>As mentioned on the tutorial (http://example.com[see this link]).</code></pre></div></div><div class="p" id="_679">which renders as:</div><div><blockquote id="_680"><div class="p" id="_681">As mentioned on the tutorial (<a href="http://example.com">see this link</a>).</div></blockquote></div></div><div class="p" id="_682">If you want your link to include one of the terminating characters, e.g. <code>]</code>, all characters can be escaped with a backslash, e.g.:<div class="code" id="_683"><div><pre><code>Hello http://example.com/\]a\}b\\c\ d world.</code></pre></div></div><div class="p" id="_684">which renders as:</div><div><blockquote id="_685"><div class="p" id="_686">Hello <a href="http://example.com/%5Da%7Db%5Cc%20d">example.com/]a}b\c d</a> world.</div></blockquote></div></div><div class="p" id="_687">Note that the <code>http://example.com</code> inside <code>\a[http://example.com]</code> only works because we do some post-processing magic that prevents its expansion, otherwise the link would expand twice:<div class="code" id="_688"><div><pre><code>\P[http://example.com]

\a[http://example.com]</code></pre></div></div><div class="p" id="_689">which renders as:</div><div><blockquote id="_690"><div class="p" id="_691"><a href="http://example.com">example.com</a></div><div class="p" id="_692"><a href="http://example.com">example.com</a></div></blockquote></div>This magic can be observed with <a href="#help-macros"><code>--help-macros</code></a> by seeing that the <code>href</code> argument of the <code>a</code> macro has the property:<div class="code" id="_693"><div><pre><code>"elide_link_only": true,</code></pre></div></div></div><div class="h" id="shorthand-link-termination-character"><div class="notnav"><h6><a href="shorthand-link-termination-character">Shorthand link termination character</a></h6><span class="hover-meta"> <a class="split" href="shorthand-link-termination-character"></a><span class="metrics"><span class="wcntr"> Words: 40</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#shorthand-link-parsing-rules" class="u"> Shorthand link parsing rules</a><a href="#_toc/shorthand-link-termination-character" class="toc"></a></div></nav></div><div class="p" id="_694">The following characters are the "shorthand link termination characters":<div class="list"><ul id="_695"><li id="_696">space <code> </code></li><li id="_697">newline <code>\n</code></li><li id="_698">open or close square bracket <code>[</code> or <code>]</code></li><li id="_699">open or close curly braces <code>{</code> or <code>}</code></li></ul></div><a href="#shorthand-internal-link">Shorthand internal links</a> and <a href="#shorthand-topic-links-with-a-single-word">shorthand topic links with a single word</a> terminate if any of these characters are found, see also: <a href="#shorthand-link-parsing-rules">Section "Shorthand link parsing rules"</a>.</div><div class="h" id="link-percent-encoding"><div class="notnav"><h5><a href="link-percent-encoding">Link percent encoding</a></h5><span class="hover-meta"> <a class="split" href="link-percent-encoding"></a><span class="metrics"><span class="wcntr"> Words: 109</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#link" class="u"> Link</a><a href="#_toc/link-percent-encoding" class="toc"></a></div></nav></div><div class="p" id="_700"><a href="">OurBigBook</a> automatically encodes all link <code>href</code> for characters that are not recommended for URLs.</div><div class="p" id="_701">This way you can for example simply write arbitrary Unicode URLs and OurBigBook will escape them for you on the HTML output.</div><div class="p" id="_702">The only exception for this is the percent sign itself <code>%</code>, which it leaves untouched so that explicitly encoded URLs also work. So if you want a literal percent then you have to explicitly write it yourself as <code>%25</code>.</div><div class="p" id="_703"><div class="code" id="_704"><div><pre><code>* acute a Á as raw Unicode: https://en.wikipedia.org/wiki/Á
* acute a Á explicitly escaped by user: https://en.wikipedia.org/wiki/%C3%81</code></pre></div></div><div class="p" id="_705">which renders as:</div><div><blockquote id="_706"><div class="list"><ul id="_707"><li id="_708">acute a Á as raw Unicode: <a href="https://en.wikipedia.org/wiki/%C3%81">en.wikipedia.org/wiki/Á</a></li><li id="_709">acute a Á explicitly escaped by user: <a href="https://en.wikipedia.org/wiki/%C3%81">en.wikipedia.org/wiki/%C3%81</a></li></ul></div></blockquote></div></div><div class="h" id="bold"><div class="notnav"><h4><a href="bold">Bold <span class="meta">(<code>\b</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="bold"></a><span class="metrics"><span class="wcntr"> Words: 9</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/bold" class="toc"></a><span class="tags"> Tags: <a href="#inline-macro">Inline macro</a></span></div></nav></div><div class="p" id="_712"><div class="code" id="_713"><div><pre><code>Some \b[bold] text.</code></pre></div></div><div class="p" id="_714">which renders as:</div><div><blockquote id="_715"><div class="p" id="_716">Some <b>bold</b> text.</div></blockquote></div></div><div class="h" id="line-break"><div class="notnav"><h4><a href="line-break">Line break <span class="meta">(<code>\br</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="line-break"></a><span class="metrics"><span class="wcntr"> Words: 328</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/line-break" class="toc"></a></div></nav></div><div class="p" id="_718">The <code>\br</code> macro inserts a visible newline between two lines without creating a paragraph, for example:<div class="code" id="_719"><div><pre><code>ab\br[]cd</code></pre></div></div><div class="p" id="_720">which renders as:</div><div><blockquote id="_721"><div class="p" id="_722">ab<br>cd</div></blockquote></div>Note that here <code>[]</code> is an <a href="#empty-macro-argument"><code>empty</code> macro argument</a> used for convenience to separate the <code>\br</code> from the <code>cd</code> text that immediately follows.</div><div class="p" id="_723">The recommended syntax is the shorthand version which simply uses a newline as in:<div class="code" id="_724"><div><pre><code>ab
cd</code></pre></div></div><div class="p" id="_725">which renders as:</div><div><blockquote id="_726"><div class="p" id="_727">ab<br>cd</div></blockquote></div>Note that the newline only works as a line break if surrounded by two <a href="#inline-macro">inline macros</a> as mentioned at <a href="#newline-removal">newline removal</a>.</div><div class="p" id="_728">If for some reason you want to have an actual literal newline in your output outside of <a href="#literal-arguments">literal arguments</a>, just <a href="#escape-characters">escape the newline with a backslash as for escaping anything else</a>.</div><div class="p" id="_729">There is basically just one application for line breaks: poetry, which would be too ugly with <a href="#code-block">code blocks</a> due to fixed width font:<div class="code" id="_730"><div><pre><code>Even as the sun with purple-coloured face
Had taken his last leave of the weeping morn,
Rose-cheeked Adonis tried him to the chase;
Hunting he loved, but love he laughed to scorn;
Sick-thoughted Venus makes amain unto him,
And like a bold-faced suitor begins to woo him.

"Thrice fairer than myself," thus she began,
The field's chief flower, sweet above compare,
Stain to all nymphs, more lovely than a man,
More white and red than doves or roses are;
Nature that made thee, with herself at strife,
Saith that the world hath ending with thy life.</code></pre></div></div><div class="p" id="_731">which renders as:</div><div><blockquote id="_732"><div class="p" id="_733">Even as the sun with purple-coloured face<br>Had taken his last leave of the weeping morn,<br>Rose-cheeked Adonis tried him to the chase;<br>Hunting he loved, but love he laughed to scorn;<br>Sick-thoughted Venus makes amain unto him,<br>And like a bold-faced suitor begins to woo him.</div><div class="p" id="_734">"Thrice fairer than myself," thus she began,<br>The field's chief flower, sweet above compare,<br>Stain to all nymphs, more lovely than a man,<br>More white and red than doves or roses are;<br>Nature that made thee, with herself at strife,<br>Saith that the world hath ending with thy life.</div></blockquote></div></div><div class="h" id="code-block"><div class="notnav"><h4><a href="code-block">Code block <span class="meta">(<code>``</code>, <code>`</code>, <code>\C</code>, <code>\c</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="code-block"></a><span class="metrics"><span class="wcntr"> Words: 738</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/code-block" class="toc"></a><span class="tags"> Tags: <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_737">Inline code (code that should appear in the middle of a paragraph rather than on its own line) is done with a single backtick (<code>`</code>) <a href="#macro-shorthand-syntax">macro shorthand syntax</a>:<div class="code" id="_738"><div><pre><code>My inline `x = 'hello\n'` is awesome.</code></pre></div></div><div class="p" id="_739">which renders as:</div><div><blockquote id="_740"><div class="p" id="_741">My inline <code>x = 'hello\n'</code> is awesome.</div></blockquote></div>and block code (code that should appear on their own line) is done with two or more backticks (<code>``</code>):<div class="code" id="_742"><div><pre><code>``
f() {
  return 'hello\n';
}
``</code></pre></div></div><div class="p" id="_743">which renders as:</div><div><blockquote id="_744"><div class="code" id="_745"><div><pre><code>f() {
  return 'hello\n';
}</code></pre></div></div></blockquote></div></div><div class="p" id="_746">The sane version of inline code is a lower case <code>c</code>:<div class="code" id="_747"><div><pre><code>My inline \c[[x = 'hello\n']] is awesome.</code></pre></div></div><div class="p" id="_748">which renders as:</div><div><blockquote id="_749"><div class="p" id="_750">My inline <code>x = 'hello\n'</code> is awesome.</div></blockquote></div>and the sane version of block math is with an upper case <code>C</code>:<div class="code" id="_751"><div><pre><code>\C[[
f() {
  return 'hello\n';
}
]]</code></pre></div></div><div class="p" id="_752">which renders as:</div><div><blockquote id="_753"><div class="code" id="_754"><div><pre><code>f() {
  return 'hello\n';
}</code></pre></div></div></blockquote></div></div><div class="p" id="_755">The capital vs lower case theme is also used in other elements, see: <a href="#block-vs-inline-macros">block vs inline macros</a>.</div><div class="p" id="_756">If the content of the sane code block has many characters that you would need to <a href="#escape-characters">escape</a>, you will often want to use <a href="#literal-arguments">literal arguments</a>, which work just like the do for any other argument. For example:<div class="code" id="_757"><div><pre><code>\C[[[
A paragraph.

\C[[
And now, some long, long code, with lots
of chars that you would need to escape:
\ [  ] {  }
]]

A paragraph.
]]]</code></pre></div></div><div class="p" id="_758">which renders as:</div><div><blockquote id="_759"><div class="code" id="_760"><div><pre><code>A paragraph.

\C[[
And now, some long, long code, with lots
of chars that you would need to escape:
\ [  ] {  }
]]

A paragraph.</code></pre></div></div></blockquote></div>Note that the initial newline is skipped automatically in code blocks, just as for any other element, due to: <a href="#argument-leading-and-trailing-newline-removal">argument leading newline removal</a>, so you don't have to worry about it.</div><div class="p" id="_761">The distinction between inline <code>\c</code> and block <code>\C</code> code blocks is needed because in HTML, <a href="https://stackoverflow.com/questions/5371787/can-i-have-a-pre-tag-inside-a-p-tag-in-tumblr/58603596#58603596"><code>pre</code> cannot go inside <code>P</code></a>.</div><div class="p" id="_762">We could have chosen to do some magic to differentiate between them, e.g. checking if the block is the only element in a paragraph, but we decided not to do that to keep the language saner.</div><div class="p" id="_763">And now a code block outside of <a href="#ourbigbookexample"><code>\OurBigBookExample</code></a> to test how it looks directly under <a href="#toplevel">the <code>\Toplevel</code> implicit macro</a>:</div><div class="code" id="_764"><div><pre><code>Hello

Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello
    HelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHello
Hello</code></pre></div></div><div class="p" id="_765">Now with short description with math and underline:</div><div class="code" id="_766"><div><pre><code>Hello

Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello
    HelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHelloHello
Hello</code></pre><div class="caption"><a href="#_766"><span class="caption-prefix">Code 1. </span></a>My long code! <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></div></div></div><div class="p" id="_767">And now a very long inline code: <code>Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello</code></div><div class="h" id="c-argument"><div class="notnav"><h5><a href="c-argument"><code>\C</code> argument</a></h5><span class="hover-meta"> <a class="split" href="c-argument"></a><span class="metrics"><span class="wcntr"> Words: 88</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#code-block" class="u"> Code block</a><a href="#_toc/c-argument" class="toc"></a></div></nav></div><div class="h" id="c-description-argument"><div class="notnav"><h6><a href="c-description-argument"><code>\C</code> <code>description</code> argument</a></h6><span class="hover-meta"> <a class="split" href="c-description-argument"></a><span class="metrics"><span class="wcntr"> Words: 49</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#c-argument" class="u"> <code>\C</code> argument</a><a href="#_toc/c-description-argument" class="toc"></a><span class="tags"> Tags: <a href="#description-argument"><code>description</code> argument</a></span></div></nav></div><div class="p" id="_770">See: <a href="#description-argument">Section "<code>description</code> argument"</a>.</div><div class="p" id="_771">Example:</div><div class="p" id="_772"><div class="code" id="_773"><div><pre><code>See the: &lt;code Python hello world&gt;.

``
print("Hello wrold")
``
{title=Python hello world}
{description=Note thow this is super short unlike the C hello world!}</code></pre></div></div><div class="p" id="_774">which renders as:</div><div><blockquote id="_775"><div class="p" id="_776">See the: <a href="#code-python-hello-world">Code 2. "Python hello world"</a>.</div><div class="code" id="code-python-hello-world"><div><pre><code>print("Hello wrold")</code></pre><div class="caption"><a href="#code-python-hello-world"><span class="caption-prefix">Code 2. </span></a><div class="title">Python hello world</div>. Note thow this is super short unlike the C hello world!</div></div></div></blockquote></div></div><div class="h" id="c-title-argument"><div class="notnav"><h6><a href="c-title-argument"><code>\C</code> <code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="c-title-argument"></a><span class="metrics"><span class="wcntr"> Words: 39</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#c-argument" class="u"> <code>\C</code> argument</a><a href="#_toc/c-title-argument" class="toc"></a><span class="tags"> Tags: <a href="#title-argument"><code>title</code> argument</a></span></div></nav></div><div class="p" id="_778">See: <a href="#title-argument">Section "<code>title</code> argument"</a>.</div><div class="p" id="_779">Example:</div><div class="p" id="_780"><div class="code" id="_781"><div><pre><code>See the: &lt;code C hello world&gt;.

``
#include &lt;stdio.h&gt;

int main(void) {
    puts("hello, world");
}
``
{title=C hello world}</code></pre></div></div><div class="p" id="_782">which renders as:</div><div><blockquote id="_783"><div class="p" id="_784">See the: <a href="#code-c-hello-world">Code 3. "C hello world"</a>.</div><div class="code" id="code-c-hello-world"><div><pre><code>#include &lt;stdio.h&gt;

int main(void) {
    puts("hello, world");
}</code></pre><div class="caption"><a href="#code-c-hello-world"><span class="caption-prefix">Code 3. </span></a><div class="title">C hello world</div>. </div></div></div></blockquote></div></div><div class="h" id="comment"><div class="notnav"><h4><a href="comment">Comment <span class="meta">(<code>\Comment</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="comment"></a><span class="metrics"><span class="wcntr"> Words: 87</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/comment" class="toc"></a></div></nav></div><div class="p" id="_786">The <code>Comment</code> and <code>comment</code> macros are regular macros that does not produce any output. Capitalization is explained at: <a href="#block-vs-inline-macros">Section "Block vs inline macros"</a>.</div><div class="p" id="_787">You will therefore mostly want to use it with a <a href="#literal-arguments">literal argument</a>, which will, as for any other macro, ignore any macros inside of it.<div class="code" id="_788"><div><pre><code>Before comment.

\Comment[[
Inside comment.
]]

After comment.</code></pre></div></div><div class="p" id="_789">which renders as:</div><div><blockquote id="_790"><div class="p" id="_791">Before comment.</div><div class="p" id="_793">After comment.</div></blockquote></div></div><div class="p" id="_794">And an inline one:<div class="code" id="_795"><div><pre><code>My inline \comment[[inside comment]] is awesome.

\comment[[inside comment]] inline at the start.</code></pre></div></div><div class="p" id="_796">which renders as:</div><div><blockquote id="_797"><div class="p" id="_798">My inline  is awesome.</div><div class="p" id="_799"> inline at the start.</div></blockquote></div></div><div class="h" id="header"><div class="notnav"><h4><a href="header">Header <span class="meta">(<code>\H</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="header"></a><span class="metrics"><span class="wcntr"> Words: 6k</span><span class="dcnt"> Articles: 67</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/header" class="toc"></a><span class="tags"> Tags: <a href="#block-macro">Block macro</a></span></div></nav></div><div class="p" id="_802"><a href="#macro-shorthand-syntax">Shorthand syntax</a> with <code>= </code> (equal sign followed by a space):<div class="code" id="_803"><div><pre><code>= My h1

== My h2

=== My h3</code></pre></div></div>Shorthand headers end at the first newline found. They cannot therefore contain raw newline tokens.</div><div class="p" id="_804">Equivalent sane:<div class="code" id="_805"><div><pre><code>\H[1][My h1]

\H[2][My h2]

\H[3][My h3]</code></pre></div></div></div><div class="p" id="_806">Custom ID for <a href="#internal-link">internal links</a> on shorthand headers:<div class="code" id="_807"><div><pre><code>= My h1
{id=h1}

== My h2
{id=h2}

=== My h3
{id=h3}</code></pre></div></div></div><div class="p" id="_808">Sane equivalent:<div class="code" id="_809"><div><pre><code>\H[1][My h1]{id=h1}

\H[2][My h2]{id=h2}

\H[3][My h3]{id=h3}</code></pre></div></div></div><div class="h" id="unlimited-header-levels"><div class="notnav"><h5><a href="unlimited-header-levels">Unlimited header levels</a></h5><span class="hover-meta"> <a class="split" href="unlimited-header-levels"></a><span class="metrics"><span class="wcntr"> Words: 139</span><span class="dcnt"> Articles: 11</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header" class="u"> Header</a><a href="#_toc/unlimited-header-levels" class="toc"></a></div></nav></div><div class="p" id="_810">There is no limit to how many levels we can have, for either sane or shorthand headers!</div><div class="p" id="_811">HTML is randomly limited to <code>h6</code>, so OurBigBook just renders higher levels as an <code>h6</code> with a <code>data-level</code> attribute to indicate the actual level for possible CSS styling:<div class="code" id="_812"><div><pre><code>&lt;h6 data-level="7"&gt;My title&lt;/h6&gt;</code></pre></div></div></div><div class="p" id="_813">The recommended style is to use shorthand headers up to <code>h6</code>, and then move to sane one for higher levels though, otherwise it becomes very hard to count the <code>=</code> signs.</div><div class="p" id="_814">To avoid this, we considered making the shorthand syntax be instead:<div class="code" id="_815"><div><pre><code>= 1 My h1
= 2 My h2
= 3 My h3</code></pre></div></div>but it just didn't feel as good, and is a bit harder to type than just smashing <code>=</code> n times for lower levels, which is the most common use case. So we just copied markdown.</div><div class="h" id="my-h3"><div class="notnav"><h6><a href="my-h3">My h3</a></h6><span class="hover-meta"> <a class="split" href="my-h3"></a><span class="metrics"><span class="dcnt"> Articles: 10</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#unlimited-header-levels" class="u"> Unlimited header levels</a><a href="#_toc/my-h3" class="toc"></a></div></nav></div><div class="h" id="my-h4"><div class="notnav"><h6 data-level="7"><a href="my-h4">My h4</a></h6><span class="hover-meta"> <a class="split" href="my-h4"></a><span class="metrics"><span class="dcnt"> Articles: 9</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h3" class="u"> My h3</a><a href="#_toc/my-h4" class="toc"></a></div></nav></div><div class="h" id="my-h5"><div class="notnav"><h6 data-level="8"><a href="my-h5">My h5</a></h6><span class="hover-meta"> <a class="split" href="my-h5"></a><span class="metrics"><span class="dcnt"> Articles: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h4" class="u"> My h4</a><a href="#_toc/my-h5" class="toc"></a></div></nav></div><div class="h" id="my-h6"><div class="notnav"><h6 data-level="9"><a href="my-h6">My h6</a></h6><span class="hover-meta"> <a class="split" href="my-h6"></a><span class="metrics"><span class="dcnt"> Articles: 7</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h5" class="u"> My h5</a><a href="#_toc/my-h6" class="toc"></a></div></nav></div><div class="h" id="my-h7"><div class="notnav"><h6 data-level="10"><a href="my-h7">My h7</a></h6><span class="hover-meta"> <a class="split" href="my-h7"></a><span class="metrics"><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h6" class="u"> My h6</a><a href="#_toc/my-h7" class="toc"></a></div></nav></div><div class="h" id="my-h8"><div class="notnav"><h6 data-level="11"><a href="my-h8">My h8</a></h6><span class="hover-meta"> <a class="split" href="my-h8"></a><span class="metrics"><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h7" class="u"> My h7</a><a href="#_toc/my-h8" class="toc"></a></div></nav></div><div class="h" id="my-h9"><div class="notnav"><h6 data-level="12"><a href="my-h9">My h9</a></h6><span class="hover-meta"> <a class="split" href="my-h9"></a><span class="metrics"><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h8" class="u"> My h8</a><a href="#_toc/my-h9" class="toc"></a></div></nav></div><div class="h" id="my-h10"><div class="notnav"><h6 data-level="13"><a href="my-h10">My h10</a></h6><span class="hover-meta"> <a class="split" href="my-h10"></a><span class="metrics"><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h9" class="u"> My h9</a><a href="#_toc/my-h10" class="toc"></a></div></nav></div><div class="h" id="my-h11"><div class="notnav"><h6 data-level="14"><a href="my-h11">My h11</a></h6><span class="hover-meta"> <a class="split" href="my-h11"></a><span class="metrics"><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h10" class="u"> My h10</a><a href="#_toc/my-h11" class="toc"></a></div></nav></div><div class="h" id="my-h12"><div class="notnav"><h6 data-level="15"><a href="my-h12">My h12</a></h6><span class="hover-meta"> <a class="split" href="my-h12"></a><span class="metrics"><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h11" class="u"> My h11</a><a href="#_toc/my-h12" class="toc"></a></div></nav></div><div class="h" id="my-h13"><div class="notnav"><h6 data-level="16"><a href="my-h13">My h13</a></h6><span class="hover-meta"> <a class="split" href="my-h13"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#my-h12" class="u"> My h12</a><a href="#_toc/my-h13" class="toc"></a></div></nav></div><div class="h" id="skipping-header-levels"><div class="notnav"><h5><a href="skipping-header-levels">Skipping header levels</a></h5><span class="hover-meta"> <a class="split" href="skipping-header-levels"></a><span class="metrics"><span class="wcntr"> Words: 84</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header" class="u"> Header</a><a href="#_toc/skipping-header-levels" class="toc"></a></div></nav></div><div class="p" id="_816">The very first header of a document can be of any level, although we highly recommend your document to start with a <code>\H[1]</code>, and to contain exactly just one <code>\H[1]</code>, as this has implications such as:<div class="list"><ul id="_817"><li id="_818"><code>\H[1]</code> is used for the document title: <a href="#html-document-title">HTML document title</a></li><li id="_819"><code>\H[1]</code> does not show on the <a href="#table-of-contents">table of contents</a></li></ul></div></div><div class="p" id="_820">After the initial header however, you must not skip a header level, e.g. the following would give an error because it skips level 3:<div class="code" id="_821"><div><pre><code>= my 1

== my 1

==== my 4</code></pre></div></div></div><div class="h" id="the-toplevel-header"><div class="notnav"><h5><a href="the-toplevel-header">The toplevel header</a></h5><span class="hover-meta"> <a class="split" href="the-toplevel-header"></a><span class="metrics"><span class="wcntr"> Words: 390</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header" class="u"> Header</a><a href="#_toc/the-toplevel-header" class="toc"></a></div></nav></div><div class="p" id="_822">The toplevel header of a OurBigBook file is its first header and the one with the lowest level, e.g. in a document with recommended syntax:<div class="code" id="_823"><div><pre><code>= Animal

== Dog

=== Bull Terrier

== Cat</code></pre></div></div>the header <code>= Animal</code> is the toplevel header.</div><div class="p" id="_824">Being the toplevel header gives a header some special handling described in child sections of the section and elsewhere throughout this documentation.</div><div class="p" id="_825">The toplevel header is only defined if the document has only a single header of the highest level. e.g. like the following has only a single <code>h2</code>:<div class="code" id="_826"><div><pre><code>== My 2

=== My 3 1

=== My 3 2</code></pre></div></div></div><div class="h" id="the-toplevel-header-ids-don-t-show"><div class="notnav"><h6><a href="the-toplevel-header-ids-don-t-show">The toplevel header IDs don't show</a></h6><span class="hover-meta"> <a class="split" href="the-toplevel-header-ids-don-t-show"></a><span class="metrics"><span class="wcntr"> Words: 52</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#the-toplevel-header" class="u"> The toplevel header</a><a href="#_toc/the-toplevel-header-ids-don-t-show" class="toc"></a></div></nav></div><div class="p" id="_827">Header IDs won't show for the toplevel level. For example, the headers would render like:<div class="code" id="_828"><div><pre><code>My 2

1. My 3 1

2. My 3 2</code></pre></div></div>rather than:<div class="code" id="_829"><div><pre><code>1. My 2

1.2. My 3 1

1.2. My 3 2</code></pre></div></div>This is because in this case, we guess that the <code>h2</code> is the toplevel.</div><div class="h" id="the-id-of-the-first-header-is-derived-from-the-filename"><div class="notnav"><h6><a href="the-id-of-the-first-header-is-derived-from-the-filename">The ID of the first header is derived from the filename</a></h6><span class="hover-meta"> <a class="split" href="the-id-of-the-first-header-is-derived-from-the-filename"></a><span class="metrics"><span class="wcntr"> Words: 235</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#the-toplevel-header" class="u"> The toplevel header</a><a href="#_toc/the-id-of-the-first-header-is-derived-from-the-filename" class="toc"></a></div></nav></div><div class="p" id="_830">With the exception of  For example:</div><div class="p" id="_831">When the OurBigBook input comes from a file (and not e.g. <a href="#stdin-conversion">stdin</a>), the default ID of the first header in the document is derived from the basename of the OurBigBook input source file rather than from its title.</div><div class="p" id="_832">The only exception to this is <a href="#the-home-article">the home article</a>, where the ID is empty.</div><div class="p" id="_833">For example, in file named <code>my-file.bigb</code> which contains:<div class="code" id="_834"><div><pre><code>= Awesome ourbigbook file</code></pre></div></div>the ID of the header is <code>my-file</code> rather than <code>awesome-ourbigbook-file</code>. See also: <a href="#automatic-id-from-title">automatic ID from title</a>.</div><div class="p" id="_835">If the file is an <a href="#index-file">index file</a> other than <a href="#the-toplevel-index-file">the toplevel index file</a>, then the basename of the parent directory is used instead, e.g. the toplevel ID of a file:<div class="code" id="_836"><div><pre><code>my-subdir/index.bigb</code></pre></div></div>would be:<div class="code" id="_837"><div><pre><code>#my-subdir</code></pre></div></div>rather than:<div class="code" id="_838"><div><pre><code>#index.bigb</code></pre></div></div></div><div class="p" id="_839">For the toplevel index file however, the ID is just taken from the header itself as usual. This is done because you often can't general control the directory name of a project.</div><div class="p" id="_840">For example, a <a href="#publish-to-github-pages">GitHub pages</a> root directory must be named as <code>&lt;username&gt;.github.io</code>. And users may need to rename directories to avoid naming conflicts.</div><div class="p" id="_841">As a consequence of this, the toplevel index file cannot <a href="#include">be included in other files</a>.</div><div class="p" id="_842">TODO: we kind of wanted this to be the ID of the toplevel header instead of the first header, but this would require an extra postprocessing pass (to determine if the first header is toplevel or not), which might affect performance, so we are not doing it right now.</div><div class="h" id="h-arguments"><div class="notnav"><h5><a href="h-arguments"><code>\H</code> arguments</a></h5><span class="hover-meta"> <a class="split" href="h-arguments"></a><span class="metrics"><span class="wcntr"> Words: 5k</span><span class="dcnt"> Articles: 44</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header" class="u"> Header</a><a href="#_toc/h-arguments" class="toc"></a></div></nav></div><div class="h" id="h-c-argument"><div class="notnav"><h6><a href="h-c-argument"><code>\H</code> <code>c</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-c-argument"></a><span class="metrics"><span class="wcntr"> Words: 14</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-c-argument" class="toc"></a></div></nav></div><div class="p" id="_843">If given, makes the header capitalized by default on <a href="#cross-file-internal-link">cross file internal links</a>.</div><div class="p" id="_844">More details at: <a href="#internal-link-title-inflection">Section "Internal link title inflection"</a>.</div><div class="h" id="h-child-argument"><div class="notnav"><h6><a href="h-child-argument"><code>\H</code> <code>child</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-child-argument"></a><span class="metrics"><span class="wcntr"> Words: 127</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-child-argument" class="toc"></a><span class="tags"> Tags: <a href="#disabled-macro-argument">Disabled macro argument</a>, <a href="#multiple-argument"><code>multiple</code> argument</a></span></div></nav></div><div class="p" id="_847">This <a href="#multiple-argument"><code>multiple</code> argument</a> marks given IDs as being children of the current page.</div><div class="p" id="_848">The effect is the same as adding the <a href="#x-child-argument"><code>\x</code> <code>child</code> argument</a> argument to an under the header. Notably, such marked target IDs will show up on the autogenerated <a href="#tagged-metadata-section">tagged metadata section</a>.</div><div class="p" id="_849">This argument is deprecated in favor of the <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a>.</div><div class="p" id="_850">Example:<div class="code" id="_851"><div><pre><code>= Animal

== Mammal

=== Bat

=== Cat

== Wasp

== Flying animal
{child=bat}
{child=wasp}

\x[bat]

\x[wasp]</code></pre></div></div>renders exactly as:<div class="code" id="_852"><div><pre><code>= Animal

== Mammal

=== Bat

=== Cat

== Wasp

== Flying animal

\x[bat]{child}

\x[wasp]{child}</code></pre></div></div></div><div class="p" id="_853">The header <code>child</code> syntax is generally preferred because at some point while editing the content of the header, you might accidentally remove mentions to e.g. <code>\x[bat]{child}</code>, and then the relationship would be lost.</div><div class="p" id="_854">The <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a> does the same as the <a href="#x-child-argument"><code>\x</code> <code>child</code> argument</a> but in the opposite direction.</div><div class="h" id="h-created-argument"><div class="notnav"><h6><a href="h-created-argument"><code>\H</code> <code>created</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-created-argument"></a><span class="metrics"><span class="wcntr"> Words: 21</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-created-argument" class="toc"></a><span class="tags"> Tags: <a href="#date-argument">Date argument</a></span></div></nav></div><div class="p" id="_856">Date at which the content of this section was originally published.</div><div class="p" id="_857">This argument currently does not affect <a href="#ourbigbook-web">OurBigBook Web</a>: <a href="https://github.com/ourbigbook/ourbigbook/issues/203">github.com/ourbigbook/ourbigbook/issues/203</a></div><div class="p" id="_858">See also: <a href="#h-updated-argument"><code>\H</code> <code>updated</code> argument</a>.</div><div class="h" id="h-file-argument"><div class="notnav"><h6><a href="h-file-argument"><code>\H</code> <code>file</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-file-argument"></a><span class="metrics"><span class="wcntr"> Words: 710</span><span class="dcnt"> Articles: 13</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-file-argument" class="toc"></a></div></nav></div><div class="p" id="_859">If given, the current section contains metadata about file or other resource with the given URL.</div><div class="figure"><figure id="image-ourbigbook-file-feature"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/file.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/file.png" loading="lazy" height="785"  class="border"></a></div><figcaption><a href="#image-ourbigbook-file-feature"><span class="caption-prefix">Figure 23. </span></a><div class="title">OurBigBook file feature</div>. <a href="https://cirosantilli.com/_dir/nodejs/">Source</a>. </figcaption></figure></div><div class="p" id="_860">If empty, the URL of the file is extracted directly from the header. Otherwise, the given URL is used.</div><div class="p" id="_861">for example:<div class="code" id="_862"><div><pre><code>= path/to/myfile.c
{file}

An explanation of what this file is about.</code></pre></div></div>renders a bit like:<div class="code" id="_863"><div><pre><code>= path/to/myfile.c
{id=_file/path/to/myfile.c}

An explanation of what this file is about.

\a[path/to/myfile.c]

``
// Contents of path/to/myfile.c
int main() {
  return 1;
}
``</code></pre></div></div>so note how:<div class="list"><ul id="_864"><li id="_865"><div class="p" id="_866"><a href="#automatic-id-from-title">automatic ID from title</a> does not normalize the path, e.g. it does not convert <code>/</code> to <code>-</code>.</div><div class="p" id="_867">Also, a <a href="#file-output-directory"><code>_file/</code> prefix</a> is automatically added to the ID. This is needed with <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> to avoid a collision between:<div class="list"><ul id="_868"><li id="_869"><code>path/to/myfile.c</code>: the actual file</li><li id="_870"><code>_file/path/to/myfile.c</code>: the metadata about that file. Note that locally the <code>.html</code> extension is added as in <code>file/path/to/myfile.c.html</code> which avoids the collision. But on a server deployment, the <code>.html</code> is not present, and there would be a conflict if we didn't add that <code>file/</code> prefix.</li></ul></div></div></li><li id="_871">a link to the is added automatically, since users won't be able to click it from the header, as clicking on the header will just link to the header itself</li><li id="_872">a preview is added. The type of preview is chosen as follows:<div class="list"><ul id="_873"><li id="_874">if the URL has an image extension, do an <a href="#image">image</a> preview</li><li id="_875">otherwise if the URL has a video extension, or is a YouTube URL, do a <a href="#video">video</a> preview</li><li id="_876">otherwise, don't show a preview, as we don't know anything sensible to show</li></ul></div></li></ul></div></div><div class="p" id="_877">In some cases however, especially when dealing with external URLs, we might want to have a more human readable title with a non empty <code>file</code> argument:<div class="code" id="_878"><div><pre><code>The video \x[tank-man-by-cnn-1989] is very useful.

= Tank Man by CNN (1989)
{c}
{file=https://www.youtube.com/watch?v=YeFzeNAHEhU}

An explanation of what this video is about.</code></pre></div></div>which renders something like:<div class="code" id="_879"><div><pre><code>The video \x[tank-man-by-cnn-1989] is very useful.

= Tank Man by CNN (1989)
{id=_file/https://www.youtube.com/watch?v=YeFzeNAHEhU}

\Video[https://www.youtube.com/watch?v=YeFzeNAHEhU]

An explanation of what this video is about.</code></pre></div></div></div><div class="p" id="_880">To make <a href="#internal-link">internal links</a> to <code>{file}</code> headers, use the <a href="#x-file-argument"><code>\x</code> <code>file</code> argument</a>.</div><div class="h" id="h-file-argument-toplevel-header"><div class="notnav"><h6 data-level="7"><a href="h-file-argument-toplevel-header"><code>\H</code> <code>file</code> argument toplevel header</a></h6><span class="hover-meta"> <a class="split" href="h-file-argument-toplevel-header"></a><span class="metrics"><span class="wcntr"> Words: 104</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><a href="#_toc/h-file-argument-toplevel-header" class="toc"></a></div></nav></div><div class="p" id="_881">To create a separate file with the <a href="#h-file-argument"><code>\H</code> <code>file</code> argument</a> set on the <a href="#the-toplevel-header">toplevel header</a>, you must put it under the special <a href="#file-input-directory"><code>_file</code> input directory</a>. For example:<div class="code" id="_882"><div><pre><code>_file/path/to/myfile.txt.bigb</code></pre></div></div>could contain something like:<div class="code" id="_883"><div><pre><code>= myfile.txt
{file}

Description of my amazing file.</code></pre></div></div>and it would be associated to the file:<div class="code" id="_884"><div><pre><code>path/to/myfile.txt</code></pre></div></div></div><div class="p" id="_885">The content of the header <code>= myfile.txt</code> is arbitrary, as it can be fully inferred from the file path <code>_file/path/to/myfile.txt.bigb</code>. TODO add linting for it. Perhaps we should make adding a header be optional and auto-generate that header instead. But having at least an optional header is good as a way of being able to set header properties like <a href="#h-tag-argument">tags</a>.</div><div class="h" id="interaction-between-file-and-scope"><div class="notnav"><h6 data-level="7"><a href="interaction-between-file-and-scope">Interaction between <code>{file}</code> and <code>{scope}</code></a></h6><span class="hover-meta"> <a class="split" href="interaction-between-file-and-scope"></a><span class="metrics"><span class="wcntr"> Words: 83</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><a href="#_toc/interaction-between-file-and-scope" class="toc"></a></div></nav></div><div class="p" id="_886">IDs defined under <code>_file/path/to/myfile.txt.bigb</code> don't have any scope, e.g.:<div class="code" id="_887"><div><pre><code>= myfile.txt
{file}

\Image[dog.png]
{title=dog}</code></pre></div></div>would simply have ID <code>image-dog</code>.</div><div class="p" id="_888">Headers marked with the <a href="#h-file-argument"><code>\H</code> <code>file</code> argument</a> never have any scope e.g. in:<div class="code" id="_889"><div><pre><code>= Toplevel

== My scope
{scope}

=== myfile.txt
{file}</code></pre></div></div>the <a href="#element-id">ID</a> of the third header is just:<div class="code" id="_890"><div><pre><code>_file/myfile.txt</code></pre></div></div>and not:<div class="code" id="_891"><div><pre><code>my-scope/_file/myfile.txt</code></pre></div></div>or:<div class="code" id="_892"><div><pre><code>_file/my-scope/myfile.txt</code></pre></div></div>This is because a <code>{file}</code> header is already fully specified by its position in the tree or the given URL, so it doesn't make much sense to add more to it.</div><div class="h" id="file-input-directory"><div class="notnav"><h6 data-level="7"><a href="file-input-directory"><code>_file</code> input directory</a></h6><span class="hover-meta"> <a class="split" href="file-input-directory"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><a href="#_toc/file-input-directory" class="toc"></a></div></nav></div><div class="p" id="_893">See: <a href="#h-file-argument-toplevel-header">Section "<code>\H</code> <code>file</code> argument toplevel header"</a>.</div><div class="h" id="h-file-argument-demo"><div class="notnav"><h6 data-level="7"><a href="h-file-argument-demo"><code>\H</code> <code>file</code> argument demo</a></h6><span class="hover-meta"> <a class="split" href="h-file-argument-demo"></a><span class="metrics"><span class="wcntr"> Words: 193</span><span class="dcnt"> Articles: 9</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument" class="u"> <code>\H</code> <code>file</code> argument</a><a href="#_toc/h-file-argument-demo" class="toc"></a></div></nav></div><div class="p" id="_894">This section contains some live demos of the <a href="#h-file-argument"><code>\H</code> <code>file</code> argument</a>.</div><div class="h" id="_file/file_demo"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/file_demo">file_demo</a></h6><span class="hover-meta"> <a class="split" href="_file/file_demo"></a><span class="metrics"><span class="wcntr"> Words: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/file_demo" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/file_demo">file_demo</a></b></div></nav></div><div class="p" id="_895">An explanation of what this directory is about.</div><div class="h" id="_file/file_demo/file_demo_subdir"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/file_demo/file_demo_subdir">file_demo/file_demo_subdir</a></h6><span class="hover-meta"> <a class="split" href="_file/file_demo/file_demo_subdir"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/file_demo/file_demo_subdir" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/file_demo">file_demo</a> / <a href="_dir/file_demo/file_demo_subdir">file_demo_subdir</a></b></div></nav></div><div class="p" id="_896">Going deeper.</div><div class="h" id="_file/file_demo/hello_world.js"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/file_demo/hello_world.js">file_demo/hello_world.js</a></h6><span class="hover-meta"> <a class="split" href="_file/file_demo/hello_world.js"></a><span class="metrics"><span class="wcntr"> Words: 11</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/file_demo/hello_world.js" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/file_demo">file_demo</a> / <a href="_raw/file_demo/hello_world.js">hello_world.js</a></b></div></nav></div><div class="p" id="_897">An explanation of what this text file is about.</div><div class="p" id="_898">Another line.</div><div class="p"><b>file_demo/hello_world.js</b></div><div class="code"><div><pre><code>#!/usr/bin/env node
console.log('hello world')
</code></pre></div></div><div class="h" id="_file/file_demo/file_demo_subdir/hello_world.js"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/file_demo/file_demo_subdir/hello_world.js">file_demo/file_demo_subdir/hello_world.js</a></h6><span class="hover-meta"> <a class="split" href="_file/file_demo/file_demo_subdir/hello_world.js"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/file_demo/file_demo_subdir/hello_world.js" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/file_demo">file_demo</a> / <a href="_dir/file_demo/file_demo_subdir">file_demo_subdir</a> / <a href="_raw/file_demo/file_demo_subdir/hello_world.js">hello_world.js</a></b></div></nav></div><div class="p" id="_899">Going deeper.</div><div class="p"><b>file_demo/file_demo_subdir/hello_world.js</b></div><div class="code"><div><pre><code>#!/usr/bin/env node
console.log('hello world subdir')
</code></pre></div></div><div class="h" id="_file/index.js"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/index.js">index.js</a></h6><span class="hover-meta"> <a class="split" href="_file/index.js"></a><span class="metrics"><span class="wcntr"> Words: 117</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/index.js" class="toc"></a><span class="tags"> Tags: <a href="#overview-of-files-in-this-repository">Overview of files in this repository</a></span></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_raw/index.js">index.js</a></b></div></nav></div><div class="p" id="_901">This is a central source file that basically contains all the functionality of the <a href="#ourbigbook-library">OurBigBook Library</a>, so basically the <a href="#ourbigbook-markup">OurBigBook Markup</a>-to-<a href="#output-format">whatever</a> (e.g. <a href="#html-output-format">HTML</a>) conversion code, including parsing and rendering.</div><div class="p" id="_902">Things that are not there are things that only use markup conversion, e.g.:<div class="list"><ul id="_903"><li id="_904"><a href="#ourbigbook-cli">OurBigBook CLI</a>: does conversion from command line</li><li id="_905"><a href="#ourbigbook-web">OurBigBook Web</a></li></ul></div></div><div class="p" id="_906">This file must be able to run in the browser, so it must not contain any Node.js specifics.</div><div class="p" id="_907">It exposes the central <code>convert</code> function for markup conversion.</div><div class="p" id="_908">You should normally use the packaged <code>_obb/ourbigbook.js</code> version of this file when using ourbigbook as an external dependency.</div><div class="p" id="_909">This file is large, and large text files are not previewed, as they would take up too much useless vertical space and disk memory/bandwidth.</div><div class="p"><b>index.js</b> was not rendered because it is too large (&gt; 2000 bytes)</div><div class="h" id="_file/file_demo/my.bin"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/file_demo/my.bin">file_demo/my.bin</a></h6><span class="hover-meta"> <a class="split" href="_file/file_demo/my.bin"></a><span class="metrics"><span class="wcntr"> Words: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/file_demo/my.bin" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/file_demo">file_demo</a> / <a href="_raw/file_demo/my.bin">my.bin</a></b></div></nav></div><div class="p" id="_910">Binary files are not rendered.</div><div class="p"><b>file_demo/my.bin</b> was not rendered because  it is a binary file (contains \x00) of unsupported type (e.g. not an image).</div><div class="h" id="_file/Tank_man_standing_in_front_of_some_tanks.jpg"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/Tank_man_standing_in_front_of_some_tanks.jpg">Tank_man_standing_in_front_of_some_tanks.jpg</a></h6><span class="hover-meta"> <a class="split" href="_file/Tank_man_standing_in_front_of_some_tanks.jpg"></a><span class="metrics"><span class="wcntr"> Words: 10</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/Tank_man_standing_in_front_of_some_tanks.jpg" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg">Tank_man_standing_in_front_of_some_tanks.jpg</a></b></div></nav></div><div class="figure"><figure><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="/Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div><div class="p" id="_911">An explanation of what this image is about.</div><div class="p" id="_912">Another line.</div><div class="h" id="_file/https://www.youtube.com/watch?v=YeFzeNAHEhU"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/https:/www.youtube.com/watch?v=YeFzeNAHEhU">https://www.youtube.com/watch?v=YeFzeNAHEhU</a></h6><span class="hover-meta"> <a class="split" href="_file/https:/www.youtube.com/watch?v=YeFzeNAHEhU"></a><span class="metrics"><span class="wcntr"> Words: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/https://www.youtube.com/watch?v=YeFzeNAHEhU" class="toc"></a></div><div class="nav file"><b> <a href="https://www.youtube.com/watch?v=YeFzeNAHEhU">www.youtube.com/watch?v=YeFzeNAHEhU</a></b></div></nav></div><div class="figure"><figure><div class="float-wrap"><iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/YeFzeNAHEhU" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div></figure></div><div class="p" id="_913">An explanation of what this video is about.</div><div class="h" id="_file/https://example.com"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="8"><a href="_file/https:/example.com">https://example.com</a></h6><span class="hover-meta"> <a class="split" href="_file/https:/example.com"></a><span class="metrics"><span class="wcntr"> Words: 21</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-file-argument-demo" class="u"> <code>\H</code> <code>file</code> argument demo</a><a href="#_toc/_file/https://example.com" class="toc"></a></div><div class="nav file"><b> <a href="https://example.com">example.com</a></b></div></nav></div><div class="p" id="_914">This section shows how to use a file to an arbitrary URL.</div><div class="p" id="_915">Link to this section as:<div class="code" id="_916"><div><pre><code>&lt;https://example.com&gt;{file}</code></pre></div></div><div class="p" id="_917">which renders as:</div><div><blockquote id="_918"><div class="p" id="_919"><a href="#_file/https://example.com">https://example.com</a></div></blockquote></div></div><div class="h" id="h-numbered-argument"><div class="notnav"><h6><a href="h-numbered-argument"><code>\H</code> <code>numbered</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-numbered-argument"></a><span class="metrics"><span class="wcntr"> Words: 335</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-numbered-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_921">This <a href="#boolean-argument">boolean argument</a> determines whether renderings of a header will have section numbers or not. This affects all of:<div class="list"><ul id="_922"><li id="_923"><a href="#header">headers</a> themselves</li><li id="_924"><a href="#table-of-contents">table of contents</a> links</li><li id="_925"><a href="#internal-link">internal links</a> with the <a href="#x-full-argument"><code>\x</code> <code>full</code> argument</a></li></ul></div>This option can be set by default for all files with:</div><div class="p" id="_926">By default, headers are numbered as in a book, e.g.:<div class="code" id="_927"><div><pre><code>= h1

== h2

=== h3

==== h4</code></pre></div></div>renders something like:<div class="code" id="_928"><div><pre><code>= h1

Table of contents
* 1. h2
  * 1.1. h3
    * 1.1.1. h4

== 1. h2

=== 1.1. h3

==== 1.1.1. h4</code></pre></div></div></div><div class="p" id="_929">However, for documents with a very large number of sections, or <a href="#unlimited-header-levels">deeply nested headers</a> those numbers start to be more noise than anything else, especially in the table of contents and you are better off just referring to IDs. E.g. imagine:<div class="code" id="_930"><div><pre><code>1.3.1.4.5.1345.3.2.1. Some deep level</code></pre></div></div></div><div class="p" id="_931">When documents reach this type of scope, you can disable numbering with the <code>numbered</code> option.</div><div class="p" id="_932">This option can be set on any header, and it is inherited by all descendants.</div><div class="p" id="_933">The option only affects descendants.</div><div class="p" id="_934">E.g., if in the above example turn numbering off at <code>h2</code>:<div class="code" id="_935"><div><pre><code>= h1

== h2
{numbered=0}

=== h3

==== h4</code></pre></div></div>then it renders something like:<div class="code" id="_936"><div><pre><code>= h1

Table of contents
* 1. h2
  * h3
    * h4

== 1. h2

=== h3

==== h4</code></pre></div></div></div><div class="p" id="_937">The more common usage pattern to disable it on toplevel and enable it only for specific "tutorial-like sections". An example can be seen at:<div class="list"><ul id="_938"><li id="_939"><a href="https://cirosantilli.com/">cirosantilli.com/</a>: huge toplevel wiki, for which we don't want numbers</li><li id="_940"><a href="https://cirosantilli.com/x86-paging">cirosantilli.com/x86-paging</a>: a specific tutorial, for which we want numbers</li></ul></div>which is something like:<div class="code" id="_941"><div><pre><code>= Huge toplevel wiki
{numbered=0}

== h2

=== A specific tutorial
{numbered}
{scope}

==== h4

===== h5</code></pre></div></div>then it renders something like:<div class="code" id="_942"><div><pre><code>= Huge toplevel wiki

Table of contents
* h2
  * A specific tutorial
    * 1. h4
      * 1.1.  h5

== h2

=== A specific tutorial

==== 1. h4

===== 1.1. h5</code></pre></div></div>Note how in this case the number for <code>h4</code> is just <code>1.</code> rather than <code>1.1.1.</code>. We only show numberings relative to the first non-numbered header, because the <code>1.1.</code> wouldn't be very meaningful otherwise.</div><div class="h" id="h-parent-argument"><div class="notnav"><h6><a href="h-parent-argument"><code>\H</code> <code>parent</code> argument <span class="meta">(ID-based header levels)</span></a></h6><span class="hover-meta"> <a class="split" href="h-parent-argument"></a><span class="metrics"><span class="wcntr"> Words: 572</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-parent-argument" class="toc"></a></div></nav></div><div class="p" id="_944">In addition to the basic way of specifying header levels with an explicit level number as mentioned at <a href="#header">Section "Header"</a>, OurBigBook also supports a more indirect ID-based mechanism with the <code>parent</code> argument of the <code>\H</code> element.</div><div class="p" id="_945">We hightly recommend using <code>parent</code> for all but the most trivial documents.</div><div class="p" id="_946">For example, the following fixed level syntax:<div class="code" id="_947"><div><pre><code>= My h1

== My h2 1

== My h2 2

=== My h3 2 1</code></pre></div></div>is equivalent to the following ID-based version:<div class="code" id="_948"><div><pre><code>= My h1

= My h2 1
{parent=my-h1}

= My h2 2
{parent=my-h1}

= My h3 2 1
{parent=my-h2-h}</code></pre></div></div></div><div class="p" id="_949">The main advantages of this syntax are felt when you have a huge document with <a href="#unlimited-header-levels">very large header depths</a>. In that case:<div class="list"><ul id="_950"><li id="_951">it becomes easy to get levels wrong with so many large level numbers to deal with. It is much harder to get an ID wrong.</li><li id="_952"><div class="p" id="_953">when you want to move headers around to improve organization, things are quite painful without a refactoring tool (which we intend to provide in the <a href="#browser-editor-with-preview">browser editor with preview</a>), as you need to fix up the levels of every single header.</div><div class="p" id="_954">If you are using the ID-based syntax however, you only have to move the chunk of headers, and change the <code>parent</code> argument of a single top-level header being moved.</div></li></ul></div></div><div class="p" id="_955">Note that when the <code>parent=</code> argument is given, the header level must be <code>1</code>, otherwise OurBigBook assumes that something is weird and gives an error. E.g. the following gives an error:<div class="code" id="_956"><div><pre><code>= My h1

== My h2
{parent=my-h1}</code></pre></div></div>because the second header has level <code>2</code> instead of the required <code>= My h2</code>.</div><div class="p" id="_957">When <a href="#h-scope-argument">scopes</a> are involved, the rules are the same as those of internal reference resolution, including the leading <code>/</code> to break out of the scope in case of conflicts.</div><div class="p" id="_958">Like the <a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a>, <code>parent</code> also performs <a href="#id-target-from-title">ID target from title</a> on the argument, allowing you to use the original spaces and capitalization in the target as in:<div class="code" id="_959"><div><pre><code>= Flying animal

= Bat
{parent=Flying animal}</code></pre></div></div>which is equivalent to:<div class="code" id="_960"><div><pre><code>= Flying animal

= Bat
{parent=flying-animal}</code></pre></div></div></div><div class="p" id="_961">See also: <a href="#header-explicit-levels-vs-nesting-design-choice">Section "Header explicit levels vs nesting design choice"</a> for further rationale.</div><div class="h" id="id-based-header-levels-and-scope-resolution"><div class="notnav"><h6 data-level="7"><a href="id-based-header-levels-and-scope-resolution">ID-based header levels and scope resolution</a></h6><span class="hover-meta"> <a class="split" href="id-based-header-levels-and-scope-resolution"></a><span class="metrics"><span class="wcntr"> Words: 159</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-parent-argument" class="u"> <code>\H</code> <code>parent</code> argument</a><a href="#_toc/id-based-header-levels-and-scope-resolution" class="toc"></a></div></nav></div><div class="p" id="_962">When mixing both <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a> and <a href="#h-scope-argument">scopes</a>, things get a bit complicated, because when writing or parsing, we have to first determine the parent header before resolving scopes.</div><div class="p" id="_963">As a result, the follow simple rules are used:<div class="list"><ul id="_964"><li id="_965">start from the last header of the highest level</li><li id="_966">check if the <code>{parent=XXX}</code> is a suffix of its ID</li><li id="_967">if not, proceed to the next smaller level, and so on, until a suffix is found</li></ul></div></div><div class="p" id="_968">Following those rules for example, a file <code>tmp.bigb</code>:<div class="code" id="_969"><div><pre><code>= h1
{scope}

= h1 1
{parent=h1}
{scope}

= h1 1 1
{parent=h1-1}

= h1 1 2
{parent=h1-1}

= h1 1 3
{parent=h1/h1-1}

= h1 2
{parent=h1}
{scope}

= h1 2 1
{parent=h1-2}
{scope}

= h1 2 1 1
{parent=h1-2/h1-2-1}</code></pre></div></div>will lead to the following header tree with <a href="#log-headers"><code>--log headers</code></a>:<div class="code" id="_970"><div><pre><code>= h1  tmp
== h2 1 tmp/h1-1
=== h3 1.1 tmp/h1-1/h1-1-1
=== h3 1.2 tmp/h1-1/h1-1-2
=== h3 1.3 tmp/h1-1/h1-1-3
== h2 2 tmp/h1-2
=== h3 2.1 tmp/h1-2/h1-2-1
==== h4 2.1.1 tmp/h1-2/h1-2-1/h1-2-1-1</code></pre></div></div></div><div class="h" id="header-explicit-levels-vs-nesting-design-choice"><div class="notnav"><h6 data-level="7"><a href="header-explicit-levels-vs-nesting-design-choice">Header explicit levels vs nesting design choice</a></h6><span class="hover-meta"> <a class="split" href="header-explicit-levels-vs-nesting-design-choice"></a><span class="metrics"><span class="wcntr"> Words: 75</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-parent-argument" class="u"> <code>\H</code> <code>parent</code> argument</a><a href="#_toc/header-explicit-levels-vs-nesting-design-choice" class="toc"></a></div></nav></div><div class="p" id="_971">Arguably, the language would be even saner if we did:<div class="code" id="_972"><div><pre><code>\H[My h1][

Paragraph.

\H[My h2][]
]</code></pre></div></div>rather than having explicit levels as in <code>\H[1][My h1]</code> and so on.</div><div class="p" id="_973">But we chose not to do it like most markups available because it leads to too many nesting levels, and hard to determine where you are without tooling.</div><div class="p" id="_974">Ciro later "invented" (?) <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a>, which he feels reaches the perfect balance between the advantages of those two options.</div><div class="h" id="h-scope-argument"><div class="notnav"><h6><a href="h-scope-argument"><code>\H</code> <code>scope</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-scope-argument"></a><span class="metrics"><span class="wcntr"> Words: 504</span><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-scope-argument" class="toc"></a></div></nav></div><div class="p" id="_975">In some use cases, the sections under a section describe inseparable parts of something.</div><div class="p" id="_976">For example, when documenting an experiment you executed, you will generally want an "Introduction", then a "Materials" section, and then a "Results" section for every experiment.</div><div class="p" id="_977">On their own, those sections don't make much sense: they are always referred to in the context of the given experiment.</div><div class="p" id="_978">The problem is then how to get unique IDs for those sections.</div><div class="p" id="_979">One solution, would be to manually add the experiment ID as prefix to every subsection, as in:<div class="code" id="_980"><div><pre><code>= Experiments

See: \x[full-and-unique-experiment-name/materials]

== Introduction

== Full and unique experiment name

=== Introduction
{id=full-and-unique-experiment-name/introduction}

See our awesome results: \x[full-and-unique-experiment-name/results]

For a more general introduction to all experiments, see: \x[introduction].

=== Materials
{id=full-and-unique-experiment-name/materials}

=== Results
{id=full-and-unique-experiment-name/results}</code></pre></div></div></div><div class="p" id="_981">but this would be very tedious.</div><div class="p" id="_982">To keep those IDs shorter, OurBigBook provides the <code>scope</code> <a href="#boolean-argument">boolean argument</a> property of <a href="#header">headers</a>, which works analogously to C++ namespaces with the header IDs.</div><div class="p" id="_983">Using <code>scope</code>, the previous example could be written more succinctly as:<div class="code" id="_984"><div><pre><code>= Experiments

See: \x[full-and-unique-experiment-name/materials]

== Introduction

== Full and unique experiment name
{scope}

=== Introduction

See our awesome results: \x[results]

For a more general introduction to all experiments, see: \x[/introduction].

=== Materials

=== Results</code></pre></div></div></div><div class="p" id="_985">Note how:<div class="list"><ul id="_986"><li id="_987">full IDs are automatically prefixed by the parent scopes prefixed and joined with a slash <code>/</code></li><li id="_988">we can refer to other IDs withing the current scope without duplicating the scope. E.g. <code>\x[results]</code> in the example already refers to the ID <code>full-and-unique-experiment-name/materials</code></li><li id="_989"><div class="p" id="_990">to refer to an ID outside of the scope and avoid name conflicts with IDs inside of the current scope, we start a reference with a slash <code>/</code></div><div class="p" id="_991">So in the example above, <code>\x[/introduction]</code> refers to the ID <code>introduction</code>, and not <code>full-and-unique-experiment-name/introduction</code>.</div></li></ul></div></div><div class="h" id="scope-resolution"><div class="notnav"><h6 data-level="7"><a href="scope-resolution"><code>scope</code> resolution</a></h6><span class="hover-meta"> <a class="split" href="scope-resolution"></a><span class="metrics"><span class="wcntr"> Words: 95</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><a href="#_toc/scope-resolution" class="toc"></a></div></nav></div><div class="p" id="_992">When nested scopes are involved, <a href="#internal-link">internal links</a> resolution peels off the scopes one by one trying to find the closes match, e.g. the following works as expected:<div class="code" id="_993"><div><pre><code>= h1
{scope}

== h2
{scope}

=== h3
{scope}

\x[h2]</code></pre></div></div>Here OurBigBook:<div class="list"><ul id="_994"><li id="_995">first tries to loop for an <code>h1/h2/h3/h2</code>, since <code>h1/h2/h3</code> is the current scope, but that ID does not exist</li><li id="_996">so it removes the <code>h3</code> from the current scope, and looks for <code>h1/h2/h2</code>, which is still not found</li><li id="_997">then it removes the <code>h2</code>, leading to <code>h1/h2</code>, and that one is found, and therefore is taken</li></ul></div></div><div class="h" id="directory-based-scope"><div class="notnav"><h6 data-level="7"><a href="directory-based-scope">Directory-based <code>scope</code></a></h6><span class="hover-meta"> <a class="split" href="directory-based-scope"></a><span class="metrics"><span class="wcntr"> Words: 41</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><a href="#_toc/directory-based-scope" class="toc"></a></div></nav></div><div class="p" id="_998">Putting files in subdirectories of the build has the same effect as adding a <a href="#h-scope-argument">scope</a> to their top level header.</div><div class="p" id="_999">Notably, all headers inside that directory get the directory prepended to their IDs.</div><div class="p" id="_1000">The toplevel directory is determined as described at: <a href="#the-toplevel-index-file">the toplevel index file</a>.</div><div class="h" id="test-scope-1"><div class="notnav"><h6 data-level="7"><a href="test-scope-1">Test scope 1</a></h6><span class="hover-meta"> <a class="split" href="test-scope-1"></a><span class="metrics"><span class="wcntr"> Words: 10</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><a href="#_toc/test-scope-1" class="toc"></a></div></nav></div><div class="p" id="test-scope-1/_1001">For fun and profit.</div><div class="h" id="test-scope-1/test-scope-2"><div class="notnav"><h6 data-level="8"><a href="test-scope-1/test-scope-2">Test scope 2</a></h6><span class="hover-meta"> <a class="split" href="test-scope-1/test-scope-2"></a><span class="metrics"><span class="wcntr"> Words: 6</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#test-scope-1" class="u"> Test scope 1</a><a href="#_toc/test-scope-1/test-scope-2" class="toc"></a></div></nav></div><div class="p" id="test-scope-1/test-scope-2/_1002">Let's break this local link: <a href="_raw/ourbigbook">ourbigbook</a>.</div><div class="h" id="test-scope-1/test-scope-2/not-scoped"><div class="notnav"><h6 data-level="9"><a href="test-scope-1/test-scope-2/not-scoped">Not scoped</a></h6><span class="hover-meta"> <a class="split" href="test-scope-1/test-scope-2/not-scoped"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#test-scope-1/test-scope-2" class="u"> Test scope 2</a><a href="#_toc/test-scope-1/test-scope-2/not-scoped" class="toc"></a></div></nav></div><div class="h" id="h-scope-argument-of-toplevel-headers"><div class="notnav"><h6 data-level="7"><a href="h-scope-argument-of-toplevel-headers"><code>\H</code> <code>scope</code> argument of toplevel headers</a></h6><span class="hover-meta"> <a class="split" href="h-scope-argument-of-toplevel-headers"></a><span class="metrics"><span class="wcntr"> Words: 71</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-scope-argument" class="u"> <code>\H</code> <code>scope</code> argument</a><a href="#_toc/h-scope-argument-of-toplevel-headers" class="toc"></a></div></nav></div><div class="p" id="_1003">When <a href="#the-toplevel-header">the toplevel header</a> is given the <code>scope</code> property OurBigBook automatically uses the file path for the scope and heaves fragments untouched.</div><div class="p" id="_1004">For example, suppose that file <code>full-and-unique-experiment-name</code> contains:<div class="code" id="_1005"><div><pre><code>= Full and unique experiment name
{scope}

== Introduction

== Materials</code></pre></div></div></div><div class="p" id="_1006">In this case, multi-file output will generate a file called <code>full-and-unique-experiment-name.html</code>, and the URL of the subsections will be just:<div class="list"><ul id="_1007"><li id="_1008"><code>full-and-unique-experiment-name.html#introduction</code></li><li id="_1009"><code>full-and-unique-experiment-name.html#materials</code></li></ul></div>instead of<div class="list"><ul id="_1010"><li id="_1011"><code>full-and-unique-experiment-name.html#full-and-unique-experiment-name/introduction</code></li><li id="_1012"><code>full-and-unique-experiment-name.html#full-and-unique-experiment-name/materials</code></li></ul></div></div><div class="p" id="_1013">Some quick interactive cross file link tests:<div class="list"><ul id="_1014"><li id="_1015"><a href="not-index-with-scope">not the index with scope</a></li><li id="_1016"><a href="not-index-with-scope#h2">h2</a></li><li id="_1017"><a href="not-index-with-scope#image-my-image">Figure "My image"</a></li></ul></div></div><div class="h" id="h-splitdefault-argument"><div class="notnav"><h6><a href="h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-splitdefault-argument"></a><span class="metrics"><span class="wcntr"> Words: 551</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-splitdefault-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_1019">When using <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>, <a href="#internal-link">internal links</a> always point to non-split pages as mentioned at <a href="#internal-link-targets-in-split-headers">internal link targets in split headers</a>.</div><div class="p" id="_1020">If the <code>splitDefault</code> <a href="#boolean-argument">boolean argument</a> is given however:<div class="list"><ul id="_1021"><li id="_1022">the split header becomes the default, e.g. <code>index.html</code> is now the split one, and <code>nosplit.html</code> is the non-split one</li><li id="_1023">the header it is given for, and all of its descendant headers will use the split header as the default internal cross target, unless the header is already rendered in the current page. This does not propagate across <a href="#include">includes</a> however.</li></ul></div></div><div class="p" id="_1024">For example, consider <code>index.bigb</code>:<div class="code" id="_1025"><div><pre><code>= Toplevel
{splitDefault}

\x[h2][toplevel to h2]

\x[notindex][toplevel to notindex]

\Include[notindex]

== h2</code></pre></div></div>and <code>notindex.bigb</code>:<div class="code" id="_1026"><div><pre><code>= Notindex

\x[h2][notindex to h2]

\x[notindex][notindex to notindex h2]

== Notindex h2</code></pre></div></div>Then the following links would be generated:<div class="list"><ul id="_1027"><li id="_1028"><code>index.html</code>: split version of <code>index.bigb</code>, i.e. does not contain <code>h2</code><div class="list"><ul id="_1029"><li id="_1030"><code>toplevel to h2</code>: <code>h2.html</code>. Links to the split version of <code>h2</code>, since <code>h2</code> is also affected by the <code>splitDefault</code> of its parent, and therefore links to it use the split version by default</li><li id="_1031"><code>toplevel to notindex</code>: <code>notindex.html</code>. Links to non-split version of <code>notindex.html</code> since that header is not <code>splitDefault</code>, because <code>splitDefault</code> does not propagate across includes</li></ul></div></li><li id="_1032"><code>nosplit.html</code> non-split version of <code>index.bigb</code>, i.e. contains <code>h2</code><div class="list"><ul id="_1033"><li id="_1034"><code>toplevel to h2</code>: <code>#h2</code>, because even though <code>h2</code> is <code>splitDefault</code>, that header is already present in the current page, so it would be pointless to reload the split one</li><li id="_1035"><code>toplevel to notindex</code>: <code>notindex.html</code></li></ul></div></li><li id="_1036"><code>h2.html</code> split version of <code>h2</code> from <code>index.bigb</code></li><li id="_1037"><code>notindex.html</code>: non-split version of <code>notindex.bigb</code><div class="list"><ul id="_1038"><li id="_1039"><code>notindex to h2</code>: <code>h2.html</code>, because <code>h2</code> is <code>splitDefault</code></li><li id="_1040"><code>notindex to notindex h2</code>: <code>#notindex-h2</code></li></ul></div></li><li id="_1041"><code>notindex-split.html</code>: split version of <code>notindex.bigb</code><div class="list"><ul id="_1042"><li id="_1043"><code>notindex to h2</code>: <code>h2.html</code>, because <code>h2</code> is <code>splitDefault</code></li><li id="_1044"><code>notindex to notindex h2</code>: <code>notindex.html#notindex-h2</code>, because <code>notindex-h2</code> is not <code>splitDefault</code></li></ul></div></li></ul></div></div><div class="p" id="_1045">The major application of this if you like work with a huge <code>index.bigb</code> containing thousands of random small topics.</div><div class="p" id="_1046">Splitting those into separate source files would be quite laborious, as it would require duplicating IDs on the filename, and setting up <a href="#include">includes</a>.</div><div class="p" id="_1047">However, after this index reaches a certain size, page loads start becoming annoyingly slow, even despite already loading large assets like <a href="#image">images</a> video <a href="#video">videos</a> only on hover or click: the annoying slowness comes from the loading of the HTML itself before the browser can jump to the ID.</div><div class="p" id="_1048">And even worse: this index corresponds to the main index page of the website, which will make what a large number of users will see be that slowness.</div><div class="p" id="_1049">Therefore, once this index reaches a certain size, you can add the <code>splitDefault</code> attribute to it, to make things smoother for readers.</div><div class="p" id="_1050">And if you have a smaller, more self-contained, and highly valuable tutorial such as <a href="https://cirosantilli.com/x86-paging">cirosantilli.com/x86-paging</a>, you can just split that into a separate <code>.bigb</code> source file.</div><div class="p" id="_1051">This way, any links into the smaller tutorial will show the entire page as generally desired.</div><div class="p" id="_1052">And any links from the tutorial, back to the main massive index will link back to split versions, leading to fast loads.</div><div class="p" id="_1053">This feature was implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/131">github.com/ourbigbook/ourbigbook/issues/131</a></div><div class="p" id="_1054">Note that this huge index style is not recommended however. <a href="#ciro-santilli">Ciro Santilli</a> used to do it, but moved away from it. The currently recommended approach is to manually create not too large subtrees in each page. This way, readers can easily view several nearby sections without having to load a new page every time.</div><div class="h" id="h-splitsuffix-argument"><div class="notnav"><h6><a href="h-splitsuffix-argument"><code>\H</code> <code>splitSuffix</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-splitsuffix-argument"></a><span class="metrics"><span class="wcntr"> Words: 249</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-splitsuffix-argument" class="toc"></a></div></nav></div><div class="p" id="_1055">If given, add a custom suffix to the output filename of the header when using <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>.</div><div class="p" id="_1056">If the given suffix is empty, it defaults to <code>-split</code>.</div><div class="p" id="_1057">For example, given:<div class="code" id="_1058"><div><pre><code>= my h1

== my h2</code></pre></div></div>a <code>--split-headers</code> conversion would normally place <code>my h2</code> into a file called:<div class="code" id="_1059"><div><pre><code>my-h2.html</code></pre></div></div>However, if we instead wrote:<div class="code" id="_1060"><div><pre><code>== my h2
{splitSuffix}</code></pre></div></div>it would not be placed under:<div class="code" id="_1061"><div><pre><code>my-h2-split.html</code></pre></div></div>and if we set a custom one as:<div class="code" id="_1062"><div><pre><code>== my h2
{splitSuffix=asdf}</code></pre></div></div>it would go instead to:<div class="code" id="_1063"><div><pre><code>my-h2-asdf.html</code></pre></div></div></div><div class="p" id="_1064">This option is useful if the root of your website is written in OurBigBook, and you want to both:<div class="list"><ul id="_1065"><li id="_1066">have a section that talks about some other project</li><li id="_1067">host the documentation of that project inside the project source tree</li></ul></div></div><div class="p" id="_1068">For example, <a href="https://cirosantilli.com">cirosantilli.com</a> with source at <a href="https://github.com/cirosantilli/cirosantilli.github.io">github.com/cirosantilli/cirosantilli.github.io</a> has a quick section about OurBigBook: <a href="https://cirosantilli.com#ourbigbook">cirosantilli.com#ourbigbook</a>.</div><div class="p" id="_1069">Therefore, without a custom suffix, the split header version of that header would go to <a href="https://docs.ourbigbook.com">docs.ourbigbook.com</a>, which would collide with this documentation, that is present in a separate repository: <a href="https://github.com/ourbigbook/ourbigbook">github.com/ourbigbook/ourbigbook</a>.</div><div class="p" id="_1070">Therefore a <code>splitSuffix</code> property is used, making the split header version fall under <code>/ourbigbook-split</code>, and leaving the nicer <code>/ourbigbook</code> for the more important project toplevel.</div><div class="p" id="_1071">If given on the <a href="#the-toplevel-header">the toplevel headers</a>, which normally gets a suffix by default to differentiate from the non-split version, it replaces the default <code>-split</code> suffix with a custom one.</div><div class="p" id="_1072">For example if you had <code>notindex.bigb</code> as:<div class="code" id="_1073"><div><pre><code>= Not index</code></pre></div></div>then it would render to:<div class="code" id="_1074"><div><pre><code>notindex-split.bigb</code></pre></div></div>but if you used instead:<div class="code" id="_1075"><div><pre><code>= Not index
{splitSuffix=asdf}</code></pre></div></div>then it would instead be:<div class="code" id="_1076"><div><pre><code>notindex-asdf.bigb</code></pre></div></div></div><div class="h" id="h-synonym-argument"><div class="notnav"><h6><a href="h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-synonym-argument"></a><span class="metrics"><span class="wcntr"> Words: 126</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-synonym-argument" class="toc"></a></div></nav></div><div class="p" id="_1077">This option is similar to <a href="#h-title2-argument"><code>\H</code> <code>title2</code> argument</a> but it additionally:<div class="list"><ul id="_1078"><li id="_1079">creates a new ID that you can refer to, and renders it with the alternate chosen title</li><li id="_1080">the rendered ID on <a href="#internal-link">internal links</a> is the same as what it is a synonym for</li><li id="_1081">the synonym header is not rendered at all, including in the <a href="#table-of-contents">table of contents</a></li><li id="_1082">when using <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>, a redirect output file is generated from the synonym to the main ID</li></ul></div></div><div class="p" id="_1083">Example:<div class="code" id="_1084"><div><pre><code>= Parent

== GNU Debugger
{c}

= GDB
{c}
{synonym}

I like to say \x[gdb] because it is shorter than \x[gnu-debugger].</code></pre></div></div>renders something like:<div class="code" id="_1085"><div><pre><code>= GNU Debugger

I like to say \a[#gnu-debugger][GDB] because it is shorter than \x[#gnu-debugger][GNU Debugger].</code></pre></div></div>Furthermore, if <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> is used, another file is generated:<div class="code" id="_1086"><div><pre><code>gdb.html</code></pre></div></div>which contains a redirection from <code>gdb.html</code> to <code>gnu-debugger.html</code>.</div><div class="p" id="_1087">Implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/114">github.com/ourbigbook/ourbigbook/issues/114</a></div><div class="h" id="h-synonymnoscope-argument"><div class="notnav"><h6><a href="h-synonymnoscope-argument"><code>\H</code> <code>synonymNoScope</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-synonymnoscope-argument"></a><span class="metrics"><span class="wcntr"> Words: 114</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-synonymnoscope-argument" class="toc"></a></div></nav></div><div class="p" id="_1088">The <code>synonymNoScope</code> argument works like the <a href="#h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a>, except that it ignores any scopes of the synonym target and instead places it at toplevel.</div><div class="p" id="_1089">This can be useful if you initially placed a header under a scope, but then decide that some of its descendants would also make sense outside of the scope.</div><div class="p" id="_1090">For example consider:</div><div class="code" id="_1091"><div><pre><code>= My dog blog

I know a lot about the &lt;history of dog food&gt;.

== Dog food
{scope}

=== History

= History of dog food
{synonymNoScope}</code></pre></div></div><div class="p" id="_1092">In this example, the ID of <code>History of dog food</code> is just <code>history-of-dog-food</code>, not <code>dog-food/history-of-dog-food</code> and therefore we can link to it simply with:<div class="code" id="_1093"><div><pre><code>&lt;history of dog food&gt;</code></pre></div></div>from outside the scope.</div><div class="h" id="h-title-argument"><div class="notnav"><h6><a href="h-title-argument"><code>\H</code> <code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-title-argument"></a><span class="metrics"><span class="wcntr"> Words: 441</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-title-argument" class="toc"></a><span class="tags"> Tags: <a href="#title-argument"><code>title</code> argument</a></span></div></nav></div><div class="p" id="_1095">Contains the main content of the header. The <a href="#macro-shorthand-syntax">shorthand syntax</a>:<div class="code" id="_1096"><div><pre><code>= My title</code></pre></div></div>is equivalent to the sane:<div class="code" id="_1097"><div><pre><code>\H[1][My title]</code></pre></div></div>and in both cases <code>My title</code> is the title argument.</div><div class="p" id="_1098">The <a href="#title-argument"><code>title</code> argument</a> is also notably used for <a href="#automatic-id-from-title">automatic ID from title</a>.</div><div class="h" id="automatic-id-from-title"><div class="notnav"><h6 data-level="7"><a href="automatic-id-from-title">Automatic ID from title</a></h6><span class="hover-meta"> <a class="split" href="automatic-id-from-title"></a><span class="metrics"><span class="wcntr"> Words: 381</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-title-argument" class="u"> <code>\H</code> <code>title</code> argument</a><a href="#_toc/automatic-id-from-title" class="toc"></a></div></nav></div><div class="p" id="_1099">If a <a href="#the-toplevel-header">non-toplevel</a> macro has the <code>title</code> argument is present but no explicit <code>id</code> argument is given, an <a href="#element-id">Element ID</a> is created automatically from the <code>title</code>, by applying the following transformations:<div class="list"><ul id="_1100"><li id="_1101">do a <a href="#id-output-format"><code>id</code> output format</a> conversion on the title to remove for example any HTML tags that would be present in the conversion output</li><li id="_1102">convert all characters to lowercase. This uses <a href="#javascript-case-conversion">JavaScript case conversion</a>. Note that this does convert non-ASCII characters to lowercase, e.g. <code>É</code> to <code>é</code>.</li><li id="_1103">if <a href="#ourbigbook-json/id-normalize-latin"><code>id</code> <code>normalize</code> <code>latin</code></a> is <code>true</code> (the default) do <a href="#ourbigbook-json/latin-normalization">Latin normalization</a>. This converts e.g. <code>é</code> to <code>e</code>.</li><li id="_1104">if <a href="#ourbigbook-json/id-normalize-punctuation"><code>id</code> <code>normalize</code> <code>punctuation</code></a> is <code>true</code> (the default) do <a href="#ourbigbook-json/punctuation-normalization">Punctuation normalization</a>. This converts e.g. <code>+</code> to <code>plus</code>.</li><li id="_1105">convert consecutive sequences of all non <code>a-z0-9</code> ASCII characters to a single hyphen <code>-</code>. Note that this leaves non-ASCII characters untouched.</li><li id="_1106">strip leading or trailing hyphens</li></ul></div>Note how those rules leave non-ASCII Unicode characters untouched, except for:<div class="list"><ul id="_1107"><li id="_1108">capitalization changes wher applicable, e.g. <code>É</code> to <code>é</code></li></ul></div>as capitalization and determining if something "is a letter or not" in those cases can be tricky.</div><div class="p" id="_1109">For toplevel headers, see: <a href="#the-id-of-the-first-header-is-derived-from-the-filename">the ID of the first header is derived from the filename</a>.</div><div class="p" id="_1110">So for example, the following automatic IDs would be generated: <a href="#table-examples-of-automatically-generated-ids">Table 2. "Examples of automatically generated IDs"</a>.</div><div class="table" id="table-examples-of-automatically-generated-ids"><div><div class="caption"><a href="#table-examples-of-automatically-generated-ids"><span class="caption-prefix">Table 2. </span></a><div class="title">Examples of automatically generated IDs</div>. </div><table><thead><tr id="_1111"><th id="_1112">title</th><th id="_1113">id</th><th id="_1114">latin normalization</th><th id="_1115">punctuation normalization</th><th id="_1116">comments</th></tr></thead><tbody><tr id="_1117"><td id="_1118">My favorite title</td><td id="_1119">my-favorite-title</td><td id="_1120"></td><td id="_1121"></td><td id="_1122"></td></tr><tr id="_1123"><td id="_1124">Ciro's markdown is awesome</td><td id="_1125">ciro-s-markdown-is-awesome</td><td id="_1126"></td><td id="_1127"></td><td id="_1128"><code>'</code> is an ASCII character, but it is not in <code>a-z0-9</code>, therefore it gets converted to a hyphen <code>-</code></td></tr><tr id="_1129"><td id="_1130">É你</td><td id="_1131">e你</td><td id="_1132">true</td><td id="_1133"></td><td id="_1134"><div class="p" id="_1135">The Latin <a href="https://en.wikipedia.org/wiki/Acute_accent">acute accented</a> <code>e</code>, <code>É</code>, is converted to its lower case form <code>é</code> as per the <a href="#javascript-case-conversion">JavaScript case conversion</a>.</div><div class="p" id="_1136">Then, due to <a href="#ourbigbook-json/latin-normalization">Latin normalization</a>, <code>é</code> is converted to <code>e</code>.</div><div class="p" id="_1137">The Chinese character <code>你</code> is left untouched as Chinese characters have no case, and no ASCII analogue.</div></td></tr><tr id="_1138"><td id="_1139">É你</td><td id="_1140">é你</td><td id="_1141">false</td><td id="_1142"></td><td id="_1143">Same as the previous, but <code>é</code> is not converted to <code>e</code> since <a href="#ourbigbook-json/latin-normalization">Latin normalization</a> is turned off.</td></tr><tr id="_1144"><td id="_1145">C++ is great</td><td id="_1146">c-plus-plus-is-great</td><td id="_1147"></td><td id="_1148">true</td><td id="_1149">This is the effect of <a href="#ourbigbook-json/punctuation-normalization">Punctuation normalization</a>.</td></tr><tr id="_1150"><td id="_1151">I <i>love</i> dogs.</td><td id="_1152">i-love-dogs</td><td id="_1153"></td><td id="_1154"></td><td id="_1155"><code>love</code> is extracted from the italic tags <code>&lt;i&gt;love&lt;/i&gt;</code> with <a href="#id-output-format"><code>id</code> output format</a> conversion.</td></tr><tr id="_1156"><td id="_1157">β Centauri</td><td id="_1158">beta-centauri</td><td id="_1159"></td><td id="_1160"></td><td id="_1161">Our Latin normalization is amazing and knows Greek!</td></tr></tbody></table></div></div><div class="p" id="_1162">For <a href="#the-toplevel-header">the toplevel header</a>, its ID is derived from the basename of the OurBigBook file without extension instead of from the <code>title</code> argument.</div><div class="p" id="_1163">TODO:<div class="list"><ul id="_1164"><li id="_1165">maybe we should also remove some or all non-ASCII punctuation. All can be done with <code>\\p{IsPunctuation}</code>: <a href="https://stackoverflow.com/questions/13925454/check-if-string-is-a-punctuation-character">stackoverflow.com/questions/13925454/check-if-string-is-a-punctuation-character</a> but we need to check that we really want to remove all of them.</li></ul></div></div><div class="h" id="id-target-from-title"><div class="notnav"><h6 data-level="7"><a href="id-target-from-title">ID target from title</a></h6><span class="hover-meta"> <a class="split" href="id-target-from-title"></a><span class="metrics"><span class="wcntr"> Words: 24</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-title-argument" class="u"> <code>\H</code> <code>title</code> argument</a><a href="#_toc/id-target-from-title" class="toc"></a></div></nav></div><div class="p" id="_1166">This conversion type is similar to <a href="#automatic-id-from-title">Automatic ID from title</a>, but it is used in certain cases where we are targeting IDs rather than setting them, notably:<div class="list"><ul id="_1167"><li id="_1168"><a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a></li><li id="_1169"><a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a></li><li id="_1170"><a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a></li></ul></div></div><div class="h" id="h-tag-argument"><div class="notnav"><h6><a href="h-tag-argument"><code>\H</code> <code>tag</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-tag-argument"></a><span class="metrics"><span class="wcntr"> Words: 141</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-tag-argument" class="toc"></a><span class="tags"> Tags: <a href="#multiple-argument"><code>multiple</code> argument</a></span></div></nav></div><div class="p" id="_1172">The <code>\H</code> <code>tag</code> argument marks another header as a tag of the current header.</div><div class="p" id="_1173">Tags essentially allow you to classify a single header as a child of multiple headers, as opposed to its location in the header tree which is unique.</div><div class="p" id="_1174">Sample usage:<div class="code" id="_1175"><div><pre><code>= Animal

== Mammal

=== Bat
{tag=Flying animal}

=== Cat

== Bird

=== Humming bird
{tag=Flying animal}

== Flying animal</code></pre></div></div></div><div class="p" id="_1176">So here we see that <code>Bat</code> and <code>Humming bird</code> have their unique position in the tree under <code>Mammal</code> ane <code>Bird</code>. But we also wanted them to be somehow classified under <code>Flying animal</code>. Tags allow us to do that.</div><div class="figure"><figure id="image-non-toplevel-tagged-headers-demo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/tag/non-toplevel-documentary-arrows.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/tag/non-toplevel-documentary-arrows.png" loading="lazy" height="650"  class="border"></a></div><figcaption><a href="#image-non-toplevel-tagged-headers-demo"><span class="caption-prefix">Figure 24. </span></a><div class="title">Non-toplevel tagged headers demo</div>. Visible live at: <a href="https://cirosantilli.com/film#documentary-film">cirosantilli.com/film#documentary-film</a></figcaption></figure></div><div class="figure"><figure id="image-ourbigbook-web-tagged-article-list-with-body-demo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/tagged-list/tagged.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/tagged-list/tagged.png" loading="lazy" height="1081"  class="border"></a></div><figcaption><a href="#image-ourbigbook-web-tagged-article-list-with-body-demo"><span class="caption-prefix">Figure 25. </span></a><div class="title">OurBigBook Web tagged article list with body demo</div>. On <a href="#ourbigbook-web">OurBigBook Web</a>, you can also list all articles tagged by an article while also showing the tagged article bodies rather than just their titles. Live URL: <a href="https://ourbigbook.com/go/user/cirosantilli/tagged/classification-mathematics">ourbigbook.com/go/user/cirosantilli/tagged/classification-mathematics</a></figcaption></figure></div><div class="h" id="h-title2-argument"><div class="notnav"><h6><a href="h-title2-argument"><code>\H</code> <code>title2</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-title2-argument"></a><span class="metrics"><span class="wcntr"> Words: 304</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-title2-argument" class="toc"></a><span class="tags"> Tags: <a href="#multiple-argument"><code>multiple</code> argument</a></span></div></nav></div><div class="p" id="_1178">The <code>title2</code> argument can be given to any element that has the <code>title</code> argument.</div><div class="p" id="_1179">Its usage is a bit like the <code>description=</code> argument of <a href="#image">images</a>, allowing you to add some extra content to the header without affecting its ID.</div><div class="p" id="_1180">Unlike <code>description=</code> however, <code>title2</code> shows up on all <a href="#x-full-argument"><code>full</code></a> references, including appearances in the <a href="#table-of-contents">table of contents</a>, which make it more searchable.</div><div class="p" id="_1181">Its primary use cases are:<div class="list"><ul id="_1182"><li id="_1183"><div class="p" id="_1184">give acronyms, or other short names names of fuller titles such as mathematical/programming notation</div><div class="p" id="_1185">One primary reason to not use the acronyms as the main section name is to avoid possible ID ambiguities with other acronyms.</div></li><li id="_1186">give the header in different languages</li></ul></div></div><div class="p" id="_1187">For example, given the OurBigBook input:<div class="code" id="_1188"><div><pre><code>= Toplevel

The Toc follows:

== North Atlantic Treaty Organization
{c}
{title2=NATO}

\x[north-atlantic-treaty-organization]

\x[north-atlantic-treaty-organization]{full}</code></pre></div></div>the rendered output looks like:<div class="code" id="_1189"><div><pre><code>= Toplevel

The ToC follows:

* North Atlantic Treaty Organization (NATO)

== North Atlantic Treaty Organization (NATO)

North Atlantic Treaty Organization

Section 1. "North Atlantic Treaty Organization (NATO)"</code></pre></div></div></div><div class="p" id="_1190">Related alternatives to <code>title2</code> include:<div class="list"><ul id="_1191"><li id="_1192"><a href="#disambiguate-argument"><code>\H</code> <code>disambiguate</code> argument</a> when you do want to affect the ID to remove ambiguities</li><li id="_1193"><a href="#h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a></li></ul></div></div><div class="p" id="_1194">Parenthesis are added automatically around all rendered <code>title2</code>.</div><div class="p" id="_1195">The <code>title2</code> argument has a special meaning when applied to a <a href="#header">header</a> with the <a href="#h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a>, see <a href="#h-title2-argument-of-a-synonym-header"><code>\H</code> <code>title2</code> argument of a synonym header</a>.</div><div class="h" id="h-title2-argument-of-a-synonym-header"><div class="notnav"><h6 data-level="7"><a href="h-title2-argument-of-a-synonym-header"><code>\H</code> <code>title2</code> argument of a synonym header</a></h6><span class="hover-meta"> <a class="split" href="h-title2-argument-of-a-synonym-header"></a><span class="metrics"><span class="wcntr"> Words: 104</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-title2-argument" class="u"> <code>\H</code> <code>title2</code> argument</a><a href="#_toc/h-title2-argument-of-a-synonym-header" class="toc"></a><span class="tags"> Tags: <a href="#h-synonym-argument">Synonym</a></span></div></nav></div><div class="p" id="_1198">Unlike <a href="#h-title2-argument"><code>\H</code> <code>title2</code> argument</a>, the synonym does not show up by default next to the title. This is because we sometimes want that, and sometimes not. To make the title appear, you can simply add an empty <code>title2</code> argument to the synonym header as in:<div class="code" id="_1199"><div><pre><code>= GNU Debugger
{c}

= GDB
{c}
{synonym}
{title2}

= Quantum computing

= Quantum computer
{synonym}</code></pre></div></div>which renders something like:<div class="code" id="_1200"><div><pre><code>= GNU Debugger (GDB)

= Quantum computing</code></pre></div></div>Note how we added the synonym to the title only when it is not just a simple flexion variant, since <code>Quantum computing (Quantum computer)</code> would be kind of useless would be kind of useless.</div><div class="h" id="h-toplevel-argument"><div class="notnav"><h6><a href="h-toplevel-argument"><code>\H</code> <code>toplevel</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-toplevel-argument"></a><span class="metrics"><span class="wcntr"> Words: 168</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-toplevel-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_1202">When the <code>\H</code> <code>toplevel</code> argument is set, the header and its descendants will be automatically output to a separate file, even without <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>.</div><div class="p" id="_1203">For example given:</div><div class="p" id="_1204">animal.bigb<div class="code" id="_1205"><div><pre><code>= Animal

== Vertebrate

=== Dog
{toplevel}

==== Bulldog

== Invertebrate</code></pre></div></div></div><div class="p" id="_1206">and if you convert as:<div class="code" id="_1207"><div><pre><code>ourbigbook animal.bigb</code></pre></div></div>we get the following output files:<div class="list"><ul id="_1208"><li id="_1209"><code>animal.html</code>: contains the headers: "Animal", "Vertebrate" and "Invertebrate", but not "Dog" and "Bulldog"</li><li id="_1210"><code>dog.html</code>: contains only the headers: "Dog" and "Bulldog"</li></ul></div></div><div class="p" id="_1211">This option is intended to produce output identical to using <a href="#include">includes</a> and separate files, i.e. the above is equivalent to:</div><div class="p" id="_1212">animal.bigb<div class="code" id="_1213"><div><pre><code>= Animal

== Vertebrate

\Include[dog]

== Invertebrate</code></pre></div></div></div><div class="p" id="_1214">dog.bigb<div class="code" id="_1215"><div><pre><code>= Dog
{toplevel}

== Bulldog</code></pre></div></div></div><div class="p" id="_1216">Or in other words: <a href="#the-toplevel-header">the toplevel header</a> of each source file gets <code>{toplevel}</code> set implicitly for it by default.</div><div class="p" id="_1217">This design choice might change some day. Arguably, the most awesome setup is on in which source files and outputs are completely decoupled. <a href="#ourbigbook-web">OurBigBook Web</a> also essentially wants this, as ideally we want to store one source per header there in each DB entry. We shall see.</div><div class="h" id="h-updated-argument"><div class="notnav"><h6><a href="h-updated-argument"><code>\H</code> <code>updated</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-updated-argument"></a><span class="metrics"><span class="wcntr"> Words: 21</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-updated-argument" class="toc"></a><span class="tags"> Tags: <a href="#date-argument">Date argument</a></span></div></nav></div><div class="p" id="_1219">Date at which the content of this section was last modified.</div><div class="p" id="_1220">This argument currently does not affect <a href="#ourbigbook-web">OurBigBook Web</a>: <a href="https://github.com/ourbigbook/ourbigbook/issues/203">github.com/ourbigbook/ourbigbook/issues/203</a></div><div class="p" id="_1221">See also: <a href="#h-created-argument"><code>\H</code> <code>created</code> argument</a>.</div><div class="h" id="h-wiki-argument"><div class="notnav"><h6><a href="h-wiki-argument"><code>\H</code> <code>wiki</code> argument</a></h6><span class="hover-meta"> <a class="split" href="h-wiki-argument"></a><span class="metrics"><span class="wcntr"> Words: 176</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-arguments" class="u"> <code>\H</code> arguments</a><a href="#_toc/h-wiki-argument" class="toc"></a></div></nav></div><div class="p" id="_1222">If given, show a link to the Wikipedia article that corresponds to the header.</div><div class="p" id="_1223">If a value is not given, automatically link to the Wiki page that matches the header exactly with spaces converted to underscores.</div><div class="p" id="_1224">Here is an example with an explicit wiki argument:</div><div class="code" id="_1225"><div><pre><code>==== Tiananmen Square
{wiki=Tiananmen_Square}</code></pre></div></div><div class="p" id="_1226">which looks like:</div><div class="h" id="wiki-explicit"><div class="notnav"><h6 data-level="7"><a href="wiki-explicit">Tiananmen Square</a></h6><span class="hover-meta"> <a class="split" href="wiki-explicit"></a><span class="metrics"><span class="wcntr"> Words: 16</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-wiki-argument" class="u"> <code>\H</code> <code>wiki</code> argument</a><a href="#_toc/wiki-explicit" class="toc"></a><a href="https://en.wikipedia.org/wiki/Tiananmen_Square" class="wiki"></a></div></nav></div><div class="p" id="_1227">or equivalently with the value deduced from the title:</div><div class="code" id="_1228"><div><pre><code>= Tiananmen Square
{wiki}</code></pre></div></div><div class="p" id="_1229">which looks like:</div><div class="h" id="wiki-implicit"><div class="notnav"><h6 data-level="7"><a href="wiki-implicit">Tiananmen Square</a></h6><span class="hover-meta"> <a class="split" href="wiki-implicit"></a><span class="metrics"><span class="wcntr"> Words: 23</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-wiki-argument" class="u"> <code>\H</code> <code>wiki</code> argument</a><a href="#_toc/wiki-implicit" class="toc"></a><a href="https://en.wikipedia.org/wiki/Tiananmen_Square" class="wiki"></a></div></nav></div><div class="p" id="_1230">You can only link to subsections of wiki pages with explicit links as in:</div><div class="code" id="_1231"><div><pre><code>= History of Tiananmen Square
{{wiki=Tiananmen_Square#History}}</code></pre></div></div><div class="p" id="_1232">which looks like:</div><div class="h" id="wiki-explicit-subsection"><div class="notnav"><h6 data-level="7"><a href="wiki-explicit-subsection">History of Tiananmen Square</a></h6><span class="hover-meta"> <a class="split" href="wiki-explicit-subsection"></a><span class="metrics"><span class="wcntr"> Words: 85</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#h-wiki-argument" class="u"> <code>\H</code> <code>wiki</code> argument</a><a href="#_toc/wiki-explicit-subsection" class="toc"></a><a href="https://en.wikipedia.org/wiki/Tiananmen_Square#History" class="wiki"></a></div></nav></div><div class="p" id="_1233">Note that in this case, you either need a <a href="#literal-arguments">literal argument</a> <code>{{}}</code> or to explicitly escape the <code>#</code> character as in:<div class="code" id="_1234"><div><pre><code>= History of Tiananmen Square
{wiki=Tiananmen_Square\#History}</code></pre></div></div>to avoid the creation of an <a href="#shorthand-topic-links-with-a-single-word">shorthand topic links with a single word</a>.</div><div class="p" id="_1235">Also note that Wikipedia subsections are not completely stable, so generally you would rather want to link to a permalink with a full URL as in:<div class="code" id="_1236"><div><pre><code>= Artificial general intelligence
{wiki=https://en.wikipedia.org/w/index.php?title=Artificial_general_intelligence&amp;oldid=1192191193#Tests_for_human-level_AGI}</code></pre></div></div>Note that in this case escaping the <code>#</code> is not necessary because it is part of the <a href="#macro-shorthand-syntax">shorthand</a> <a href="#link">link</a> that starts at <code>https://</code>.</div><div class="h" id="table-of-contents"><div class="notnav"><h5><a href="table-of-contents">Table of contents <span class="meta">(ToC)</span></a></h5><span class="hover-meta"> <a class="split" href="table-of-contents"></a><span class="metrics"><span class="wcntr"> Words: 371</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header" class="u"> Header</a><a href="#_toc/table-of-contents" class="toc"></a></div></nav></div><div class="p" id="_1238">OurBigBook automatically adds a table of contents at the end of the first <a href="#the-toplevel-header">non-toplevel header</a> of every document.</div><div class="p" id="_1239">For example, on a standard document with a single toplevel header:<div class="code" id="_1240"><div><pre><code>= Animal

Animals are cute!

== Dog

== Cat</code></pre></div></div>the ToC is rendered something like:<div class="code" id="_1241"><div><pre><code>= Animal

Animals are cute!

Table of Contents
* Dog
* Cat

== Dog

== Cat</code></pre></div></div></div><div class="p" id="_1242">The ToC ignores <a href="#the-toplevel-header">the toplevel header</a> if you have one.</div><div class="p" id="_1243">For when you want a quick outline of the header tree on the terminal, also consider the <a href="#log-headers"><code>--log headers</code></a> option.</div><div class="h" id="table-of-contents-javascript-open-close-interaction"><div class="notnav"><h6><a href="table-of-contents-javascript-open-close-interaction">Table of contents JavaScript open close interaction</a></h6><span class="hover-meta"> <a class="split" href="table-of-contents-javascript-open-close-interaction"></a><span class="metrics"><span class="wcntr"> Words: 286</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#table-of-contents" class="u"> Table of contents</a><a href="#_toc/table-of-contents-javascript-open-close-interaction" class="toc"></a></div></nav></div><div class="p" id="_1244">To the left of table of content entries you can click on an open/close icon to toggle the visibility of different levels of the table of contents.</div><div class="p" id="_1245">The main use case covered by the expansion algorithm is as follows:<div class="list"><ul id="_1246"><li id="_1247">the page starts with all nodes open to facilitate Ctrl + F queries</li><li id="_1248">if you click on a node in that sate, you close all its children, to get a summarized overview of the contents</li><li id="_1249">if you click one of those children, it opens only its own children, so you can interactively continue exploring the tree</li></ul></div></div><div class="p" id="_1250">The exact behaviour is:<div class="list"><ul id="_1251"><li id="_1252">the clicked node is open:<div class="list"><ul id="_1253"><li id="_1254">state 1 all children are closed. Action: open all children recursively, which puts us in state 2</li><li id="_1255">state 2: not all children are closed. Action close all children, which puts us in state 1. This gives a good overview of the children, without any children of children getting in the way.</li></ul></div></li><li id="_1256">state 3: the clicked node is closed (not showing any children). Action: open it to show all direct children, but not further descendants (i.e. close those children). This puts us in state 1.</li></ul></div></div><div class="p" id="_1257">Note that those rules make it impossible to close a node by clicking on it, the only way to close a node os to click on its parent, the state transitions are:<div class="list"><ul id="_1258"><li id="_1259">3 -&gt; 1</li><li id="_1260">1 -&gt; 2</li><li id="_1261">2 -&gt; 1</li></ul></div>but we feel that it is worth it to do things like this to cover the main use case described above without having to add two buttons per entry.</div><div class="p" id="_1262">Clicking on the link from a <a href="#header">header</a> up to the table of contents also automatically opens up the node for you in case it had been previously closed manually.</div><div class="h" id="header-metadata-section"><div class="notnav"><h5><a href="header-metadata-section">Header metadata section</a></h5><span class="hover-meta"> <a class="split" href="header-metadata-section"></a><span class="metrics"><span class="wcntr"> Words: 213</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header" class="u"> Header</a><a href="#_toc/header-metadata-section" class="toc"></a></div></nav></div><div class="p" id="_1263">OurBigBook adds some header metadata to the toplevel header at the bottom of each page. This section describes this metadata.</div><div class="p" id="_1264">Although the <a href="#table-of-contents">table of contents</a> has a macro to specify its placement, it is also automatically placed at the bottom of the page, and could be considered a header metadata section.</div><div class="h" id="incoming-links"><div class="notnav"><h6><a href="incoming-links">Incoming links</a></h6><span class="hover-meta"> <a class="split" href="incoming-links"></a><span class="metrics"><span class="wcntr"> Words: 50</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header-metadata-section" class="u"> Header metadata section</a><a href="#_toc/incoming-links" class="toc"></a></div></nav></div><div class="p" id="_1265">Lists other sections that link to the current section.</div><div class="p" id="_1266">E.g. in:<div class="code" id="_1267"><div><pre><code>= tmp

== tmp 1

=== tmp 1 1

=== tmp 1 2

\x[tmp-1]

== tmp 2

\x[tmp-1]</code></pre></div></div>the page <code>tmp-1.html</code> would contain a list of incoming links as:<div class="list"><ul id="_1268"><li id="_1269"><code>tmp-1-2</code></li><li id="_1270"><code>tmp-2</code></li></ul></div>since those pages link to the <code>tmp-1</code> ID.</div><div class="h" id="tagged-metadata-section"><div class="notnav"><h6><a href="tagged-metadata-section">Tagged metadata section</a></h6><span class="hover-meta"> <a class="split" href="tagged-metadata-section"></a><span class="metrics"><span class="wcntr"> Words: 61</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header-metadata-section" class="u"> Header metadata section</a><a href="#_toc/tagged-metadata-section" class="toc"></a></div></nav></div><div class="p" id="_1271">Lists sections that are <a href="#secondary-children">secondary children</a> of the current section, i.e. tagged under the current section.</div><div class="p" id="_1272">The main header tree hierarchy descendants already show under the <a href="#table-of-contents">table of contents</a> instead.</div><div class="p" id="_1273">E.g. in:<div class="code" id="_1274"><div><pre><code>= tmp

== Mammal

== Flying

== Animal

=== Bat
{tag=mammal}
{tag=flying}

=== Bee
{tag=flying}

=== Dog
{tag=mammal}</code></pre></div></div>the tagged sections for:<div class="list"><ul id="_1275"><li id="_1276">Mammal will contain Bat and Dog</li><li id="_1277">Flying will contain Bat and Bee</li></ul></div></div><div class="h" id="ancestors"><div class="notnav"><h6><a href="ancestors">Ancestors</a></h6><span class="hover-meta"> <a class="split" href="ancestors"></a><span class="metrics"><span class="wcntr"> Words: 54</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#header-metadata-section" class="u"> Header metadata section</a><a href="#_toc/ancestors" class="toc"></a></div></nav></div><div class="p" id="_1278">Shows a list of ancestors of the page. E.g. in:<div class="code" id="_1279"><div><pre><code>= Asia

== China

=== Beijing

==== Tiananmen Square

=== Hong Kong</code></pre></div></div>the ancestor lists would be for:<div class="list"><ul id="_1280"><li id="_1281">Hong Kong: China, Asia</li><li id="_1282">Tiananmen Square: Beijing, China, Asia</li><li id="_1283">Beijing: China, Asia</li><li id="_1284">China: Asia</li></ul></div>so we see that this basically provides a type of breadcrumb navigation.</div><div class="h" id="horizontal-rule"><div class="notnav"><h4><a href="horizontal-rule">Horizontal rule <span class="meta">(<code>\Hr</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="horizontal-rule"></a><span class="metrics"><span class="wcntr"> Words: 109</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/horizontal-rule" class="toc"></a><span class="tags"> Tags: <a href="#implemented-by-sidstuff">Implemented by sidstuff</a></span></div></nav></div><div class="p" id="_1287">Used to represent a thematic break between paragraph-level elements:<div class="code" id="_1288"><div><pre><code>She pressed the button. Just like that, everything was over.

\Hr

The next morning was a gloomy one. Nobody said a word.</code></pre></div></div><div class="p" id="_1289">which renders as:</div><div><blockquote id="_1290"><div class="p" id="_1291">She pressed the button. Just like that, everything was over.</div><div><hr></div><div class="p" id="_1293">The next morning was a gloomy one. Nobody said a word.</div></blockquote></div></div><div class="p" id="_1294">This macro corresponds to a misfeature of HTML/Markdown, and is not encouraged. We instead recommend creating smaller more specific <a href="#header">headers</a> instead to split sections, as this has all the usual advantages of allowing metadata to be associated to the header, such as <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>, <a href="#ourbigbook-web-topics">topic</a>, liked and discussions.</div><div class="p" id="_1295">But they people asked, and they got it.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#hr-horizontal-rule-macro-created"><code>\Hr</code> horizontal rule macro created</a></li></ul></div></div><div class="h" id="image"><div class="notnav"><h4><a href="image">Image <span class="meta">(<code>\Image</code> and <code>\image</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="image"></a><span class="metrics"><span class="wcntr"> Words: 3k</span><span class="dcnt"> Articles: 22</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/image" class="toc"></a></div></nav></div><div class="p" id="_1297">A block image with <a href="#block-vs-inline-macros">capital</a> 'i' <code>Image</code> showcasing most of the image properties <a href="#image-my-test-image">Figure 26. "The title of my image"</a>.<div class="code" id="_1298"><div><pre><code>Have a look at this amazing image: \x[image-my-test-image].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=The title of my image}
{id=image-my-test-image}
{width=600}
{height=200}
{source=https://en.wikipedia.org/wiki/File:Tianasquare.jpg}
{description=The description of my image.}</code></pre></div></div><div class="p" id="_1299">which renders as:</div><div><blockquote id="_1300"><div class="p" id="_1301">Have a look at this amazing image: <a href="#image-my-test-image">Figure 26. "The title of my image"</a>.</div><div class="figure"><figure id="image-my-test-image"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="200" width="600"></a></div><figcaption><a href="#image-my-test-image"><span class="caption-prefix">Figure 26. </span></a><div class="title">The title of my image</div>. <a href="https://en.wikipedia.org/wiki/File:Tianasquare.jpg">Source</a>. The description of my image.</figcaption></figure></div></blockquote></div>This exemplifies the following parameters:<div class="list"><ul id="_1302"><li id="_1303"><code>title</code>: analogous to the <a href="#h-title-argument"><code>\H</code> <code>title</code> argument</a>. Shows up preeminently, and sets a default ID if one is not given. It is recommended that you don't add a period <code>.</code> to it, as that would show in <a href="#internal-link">internal links</a></li><li id="_1304"><a href="#image-description-argument">image <code>description</code> argument</a></li><li id="_1305"><a href="#image-source-argument"><code>source</code></a>: a standardized way to credit an image by linking to a URL that contains further image metadata</li></ul></div>For further discussion on the effects of ID see: <a href="#image-id">Section "Image ID"</a>.</div><div class="p" id="_1306">And this is how you make an <a href="#inline-image">inline image</a> inline one with lower case <code>i</code>:<div class="code" id="_1307"><div><pre><code>My inline \image[Tank_man_standing_in_front_of_some_tanks.jpg][test image] is awesome.</code></pre></div></div><div class="p" id="_1308">which renders as:</div><div><blockquote id="_1309"><div class="p" id="_1310">My inline <a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="test image"  class="inline"></a> is awesome.</div></blockquote></div><a href="#inline-image">Inline images</a> can't have captions.</div><div class="p" id="_1311">And now for an image outside of <a href="#ourbigbookexample"><code>\OurBigBookExample</code></a> to test how it looks directly under <a href="#toplevel">the <code>\Toplevel</code> implicit macro</a>: <a href="#image-my-test-image-toplevel">Figure 27</a>.</div><div class="figure"><figure id="image-my-test-image-toplevel"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-my-test-image-toplevel"><span class="caption-prefix">Figure 27</span></a></figcaption></figure></div><div class="h" id="image-id"><div class="notnav"><h5><a href="image-id">Image ID</a></h5><span class="hover-meta"> <a class="split" href="image-id"></a><span class="metrics"><span class="wcntr"> Words: 384</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image" class="u"> Image</a><a href="#_toc/image-id" class="toc"></a></div></nav></div><div class="p" id="_1312">Here is an image without a <a href="#image-description-argument">description</a> but with an ID so we can link to it: <a href="#image-my-test-image-2">Figure 28</a>.<div class="code" id="_1313"><div><pre><code>Have a look at this amazing image: \x[image-my-test-image-2].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{id=image-my-test-image-2}</code></pre></div></div><div class="p" id="_1314">which renders as:</div><div><blockquote id="_1315"><div class="p" id="_1316">Have a look at this amazing image: <a href="#image-my-test-image-2">Figure 28</a>.</div><div class="figure"><figure id="image-my-test-image-2"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-my-test-image-2"><span class="caption-prefix">Figure 28</span></a></figcaption></figure></div></blockquote></div>This works because <a href="#x-full-argument"><code>full</code> is the default internal link style for <code>Image</code></a>, otherwise the link text would be empty since there is no <code>title</code>, and OurBigBook would raise an error.</div><div class="p" id="_1317">OurBigBook can optionally deduce the title from the basename of the <code>src</code> argument if the <code>titleFromSrc</code> <a href="#boolean-argument">boolean argument</a> is given, or if <code>title-from-src</code> is set as the default <a href="#ourbigbook-json/media-providers">media provider</a> for the media type:<div class="code" id="_1318"><div><pre><code>Have a look at this amazing image: \x[image-tank-man-standing-in-front-of-some-tanks].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{titleFromSrc}</code></pre></div></div><div class="p" id="_1319">which renders as:</div><div><blockquote id="_1320"><div class="p" id="_1321">Have a look at this amazing image: <a href="#image-tank-man-standing-in-front-of-some-tanks">Figure 29. "Tank man standing in front of some tanks."</a>.</div><div class="figure"><figure id="image-tank-man-standing-in-front-of-some-tanks"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-tank-man-standing-in-front-of-some-tanks"><span class="caption-prefix">Figure 29. </span></a><div class="title">Tank man standing in front of some tanks.</div> </figcaption></figure></div></blockquote></div></div><div class="h" id="image-caption"><div class="notnav"><h6><a href="image-caption">Image caption</a></h6><span class="hover-meta"> <a class="split" href="image-caption"></a><span class="metrics"><span class="wcntr"> Words: 260</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-id" class="u"> Image ID</a><a href="#_toc/image-caption" class="toc"></a></div></nav></div><div class="p" id="_1322">If the image has neither <a href="#image-id">ID</a> nor title nor <a href="#image-description-argument">description</a> nor <code>source</code>, then it does not get a caption at all:<div class="code" id="_1323"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]</code></pre></div></div><div class="p" id="_1324">which renders as:</div><div><blockquote id="_1325"><div class="figure"><figure id="_1326"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div></blockquote></div></div><div class="p" id="_1327">If the image does not have an ID nor title, then it gets an automatically generated ID, just like every other OurBigBook output HTML element, and it is possible for readers to link to that ID on the rendered version, e.g. as:<div class="code" id="_1328"><div><pre><code>#_123</code></pre></div></div>Note that the <code>123</code> is not linked to the <code>Figure &lt;number&gt;.</code>, but just a sequential ID that runs over all elements.</div><div class="p" id="_1329">This type of ID is of course not stable across document revisions however, since if an image is added before that one, the link will break. So give an ID or title for anything that you expect users to link to.</div><div class="p" id="_1330">Also, it is not possible to link to such images with an <a href="#internal-link">internal link</a>, like any other OurBigBook element with autogenerated temporary IDs.</div><div class="p" id="_1331">Another issue to consider is that in paged output formats like PDF, the image could float away from the text that refers to the image, so you basically always want to refer to image by ID, and not just by saying "the following image".</div><div class="p" id="_1332">We can also see that such an image does not increment the Figure count:<div class="code" id="_1333"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{id=image-my-test-image-count-before}
\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{id=image-my-test-image-count-after}</code></pre></div></div><div class="p" id="_1334">which renders as:</div><div><blockquote id="_1335"><div class="p" id="_1336"><div class="figure"><figure id="image-my-test-image-count-before"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-my-test-image-count-before"><span class="caption-prefix">Figure 30</span></a></figcaption></figure></div><div class="figure"><figure id="_1337"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div><div class="figure"><figure id="image-my-test-image-count-after"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-my-test-image-count-after"><span class="caption-prefix">Figure 31</span></a></figcaption></figure></div></div></blockquote></div></div><div class="p" id="_1338">If the image has any visible metadata such as <code>source</code> or <code>description</code> however, then the caption does show and the Figure count gets incremented:<div class="code" id="_1339"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{source=https://en.wikipedia.org/wiki/File:Tianasquare.jpg}
\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{description=This is the description of my image.}</code></pre></div></div><div class="p" id="_1340">which renders as:</div><div><blockquote id="_1341"><div class="p" id="_1342"><div class="figure"><figure id="_1343"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#_1343"><span class="caption-prefix">Figure 32. </span></a><a href="https://en.wikipedia.org/wiki/File:Tianasquare.jpg">Source</a>. </figcaption></figure></div><div class="figure"><figure id="_1344"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#_1344"><span class="caption-prefix">Figure 33. </span></a>This is the description of my image.</figcaption></figure></div></div></blockquote></div></div><div class="h" id="where-to-store-images"><div class="notnav"><h5><a href="where-to-store-images">Where to store images</a></h5><span class="hover-meta"> <a class="split" href="where-to-store-images"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image" class="u"> Image</a><a href="#_toc/where-to-store-images" class="toc"></a></div></nav></div><div class="h" id="store-images-inside-the-repository-itself"><div class="notnav"><h6><a href="store-images-inside-the-repository-itself">Store images inside the repository itself</a></h6><span class="hover-meta"> <a class="split" href="store-images-inside-the-repository-itself"></a><span class="metrics"><span class="wcntr"> Words: 103</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#where-to-store-images" class="u"> Where to store images</a><a href="#_toc/store-images-inside-the-repository-itself" class="toc"></a></div></nav></div><div class="p" id="_1345">If you are making a limited repository that will not have a ton of images, then you can get away with simply git tracking your images in the main repository.</div><div class="p" id="_1346">With this setup, no further action is needed. For example, with a file structure of:<div class="code" id="_1347"><div><pre><code>./index.bigb
./Tank_man_standing_in_front_of_some_tanks.jpg</code></pre></div></div>just use the image from <code>index.bigb</code> as:<div class="code" id="_1348"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]</code></pre></div></div><div class="p" id="_1349">which renders as:</div><div><blockquote id="_1350"><div class="figure"><figure id="_1351"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div></blockquote></div></div><div class="p" id="_1352">However, if you are making a huge tutorial, which can have a huge undefined number of images (i.e. any scientific book), then you likely don't want to git track your images in the git repository.</div><div class="p" id="_1353">A generally better alternative is to <a href="#store-images-in-a-separate-media-repository">store images in a separate media repository</a>, and especially <a href="#store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule">store images in a separate media repository and track it as a git submodule</a>.</div><div class="h" id="store-images-in-a-separate-media-repository"><div class="notnav"><h6><a href="store-images-in-a-separate-media-repository">Store images in a separate media repository</a></h6><span class="hover-meta"> <a class="split" href="store-images-in-a-separate-media-repository"></a><span class="metrics"><span class="wcntr"> Words: 662</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#where-to-store-images" class="u"> Where to store images</a><a href="#_toc/store-images-in-a-separate-media-repository" class="toc"></a></div></nav></div><div class="p" id="_1354">In this approach, you create a separate GitHub repository in addition to the main one containing the text to contain only media such as images.</div><div class="p" id="_1355">This approach is more suitable than <a href="#store-images-inside-the-repository-itself">store images inside the repository itself</a> if you are going to have a lot of images.</div><div class="p" id="_1356">When using this approach, you could of course just point directly to the final image URL, e.g. as in:<div class="code" id="_1357"><div><pre><code>\Image[https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png]</code></pre></div></div><div class="p" id="_1358">which renders as:</div><div><blockquote id="_1359"><div class="figure"><figure id="_1360"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png" loading="lazy" height="315" alt="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png"></a></div></figure></div></blockquote></div>but OurBigBook allows you use configurations that allow you to enter just the image basename: <code>Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png</code> which we will cover next.</div><div class="p" id="_1361">In order to get this to work, the recommended repository setup is:<div class="list"><ul id="_1362"><li id="_1363"><code>./main-repo/.git</code>: main repository at <a href="https://github.com/username/main-repo">github.com/username/main-repo</a></li><li id="_1364"><code>./main-repo/data/media/.git/</code>: media repository at <a href="https://github.com/username/main-repo-media">github.com/username/main-repo-media</a>, and where <code>data/</code> is gitignored.</li></ul></div>The directory and repository names are not mandatory, but if you place media in <code>data/media</code> and name its repository by adding the <code>*-media</code> suffix, then <code>ourbigbook</code> will handle everything for you without any further configuration in <a href="#ourbigbook-json/media-providers"><code>media-providers</code></a>.</div><div class="p" id="_1365">This particular documentation repository does have a different setup as can be seen from its <a href="_raw/ourbigbook.json">ourbigbook.json</a>. Then, when everything is setup correctly, we can refer to images simply as:<div class="code" id="_1366"><div><pre><code>\Image[Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png]{provider=github}</code></pre></div></div><div class="p" id="_1367">which renders as:</div><div><blockquote id="_1368"><div class="figure"><figure id="_1369"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png" loading="lazy" height="315" alt="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png"></a></div></figure></div></blockquote></div>In this example, we also needed to set <code>{provider=github}</code> explicitly since it was not set as the default image provider in our <code>ourbigbook.json</code>. In most projects however, all of your images will be in the default repository, so this won't be needed.</div><div class="p" id="_1370"><code>provider</code> must not be given when a full URL is given because we automatically detect providers from URLs, e.g.:<div class="code" id="_1371"><div><pre><code>\Image[https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page.png]{provider=github}</code></pre></div></div>is an error.</div><div class="p" id="_1372">TODO implement: <code>ourbigbook</code> will even automatically add and push used images in the <code>my-tutorial-media</code> repository for you <a href="#p-publish">during publishing</a>!</div><div class="p" id="_1373">You should then use the following rules inside <code>my-tutorial-media</code>:<div class="list"><ul id="_1374"><li id="_1375">give every file a very descriptive and unique name as a full English sentence</li><li id="_1376">never ever delete any files, nor change their content, unless it is an improvement in format that does change the information contained of the image TODO link to nice Wikimedia Commons guideline page</li></ul></div>This way, even though the repositories are not fully in sync, anyone who clones the latest version of the <code>*-media</code> directory will be able to view any version of the main repository.</div><div class="p" id="_1377">Then, if one day the media repository ever blows up GitHub's limit, you can just migrate the images to another image server that allows arbitrary basenames, e.g. AWS, and just configure your project to use that new media base URL with the <a href="#ourbigbook-json/media-providers"><code>media-providers</code></a> option.</div><div class="p" id="_1378">The reason why images should be kept in a separate repository is that images are hundreds or thousands of times larger than hand written text.</div><div class="p" id="_1379">Therefore, images could easily fill up the maximum repository size you are allowed: <a href="https://webapps.stackexchange.com/questions/45254/file-size-and-storage-limits-on-github#84746">webapps.stackexchange.com/questions/45254/file-size-and-storage-limits-on-github#84746</a> and then what will you do when GitHub comes asking you to reduce the repository size?</div><div class="p" id="_1380"><a href="https://git-lfs.github.com/">Git LFS</a> is one approach to deal with this, but we feel that it adds too much development overhead.</div><div class="h" id="store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule"><div class="notnav"><h6 data-level="7"><a href="store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule">Store images in a separate media repository and track it as a git submodule</a></h6><span class="hover-meta"> <a class="split" href="store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule"></a><span class="metrics"><span class="wcntr"> Words: 188</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#store-images-in-a-separate-media-repository" class="u"> Store images in a separate media repository</a><a href="#_toc/store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule" class="toc"></a></div></nav></div><div class="p" id="_1381">This is likely the sanest approach possible, as it clearly specifies which media version matches which repository version through the submodule link.</div><div class="p" id="_1382">Furthermore, it is possible to make the submodule clone completely optional by setting things up as follows. For your OurBigBook project <code>yourname/myproject</code> create a  <code>yourname/myproject-media</code> with the media, and track it as a submodule under <code>yourname/myproject/media</code>.</div><div class="p" id="_1383">Then, add to <a href="#ourbigbook-json/media-providers"><code>media-providers</code></a>:<div class="code" id="_1384"><div><pre><code>"media-providers": {
  "github": {
    "default-for": ["image", "video"],
    "path": "media",
    "remote": "yourname/myproject-media"
  }
}</code></pre></div></div></div><div class="p" id="_1385">Now, as mentioned at <a href="#ourbigbook-json/media-providers"><code>media-providers</code></a>, everything will work beautifully:</div><div class="list"><ul id="_1386"><li id="_1387"><div class="p" id="_1388"><code>ourbigbook .</code> local conversion will use images from <code>media/</code> if it exists, e.g.:<div class="code" id="_1389"><div><pre><code>\Image[myimage.jpg]</code></pre></div></div>will render <code>media/myimage.jpg</code>. So after cloning the submodule, you will be able to see the images on the rendered pages without an internet connection.</div><div class="p" id="_1390">But if the submodule is not cloned, not problem, renders will detect that and automatically use GitHub images.</div><div class="p" id="_1391">Then, when you do:<div class="code" id="_1392"><div><pre><code>ourbigbook --publish</code></pre></div></div>the following happen:<div class="list"><ul id="_1393"><li id="_1394"><code>\Image[myimage.jpg]</code> uses the GitHub URL</li><li id="_1395">automatically push <code>media/</code> to GitHub in case there were any updates</li><li id="_1396">also, that directory is automatically gitignore, so it won't be pushed as part of the main render and thus duplicate things</li></ul></div></div></li></ul></div><div class="h" id="store-images-in-wikimedia-commons"><div class="notnav"><h6><a href="store-images-in-wikimedia-commons">Store images in Wikimedia Commons</a></h6><span class="hover-meta"> <a class="split" href="store-images-in-wikimedia-commons"></a><span class="metrics"><span class="wcntr"> Words: 266</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#where-to-store-images" class="u"> Where to store images</a><a href="#_toc/store-images-in-wikimedia-commons" class="toc"></a></div></nav></div><div class="p" id="_1397">Wikimedia Commons is another great possibility to upload your images to:<div class="code" id="_1398"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg]
{source=https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg}</code></pre></div></div><div class="p" id="_1399">which renders as:</div><div><blockquote id="_1400"><div class="figure"><figure id="_1401"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#_1401"><span class="caption-prefix">Figure 34. </span></a><a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="p" id="_1402">OurBigBook likes Wikimedia Commons so much that we automatically parse the image URL and if it is from Wikimedia Commons, automatically deduce the <code>source</code> for you. So the above image renders the same without the <code>source</code> argument:<div class="code" id="_1403"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg]</code></pre></div></div><div class="p" id="_1404">which renders as:</div><div><blockquote id="_1405"><div class="figure"><figure id="_1406"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#_1406"><span class="caption-prefix">Figure 35. </span></a><a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="p" id="_1407">And like for non-Wikimedia images, you can automatically generate a <code>title</code> from the <code>src</code> by setting the <code>titleFromSrc</code> <a href="#boolean-argument">boolean argument</a> or if <code>title-from-src</code> is set as the default <a href="#ourbigbook-json/media-providers">media provider</a> for the media type:<div class="code" id="_1408"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg]
{titleFromSrc}</code></pre></div></div><div class="p" id="_1409">which renders as:</div><div><blockquote id="_1410"><div class="figure"><figure id="image-gel-electrophoresis-insert-comb"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-gel-electrophoresis-insert-comb"><span class="caption-prefix">Figure 36. </span></a><div class="title">Gel electrophoresis insert comb.</div> <a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="p" id="_1411">And a quick test for a more complex thumb resized URL:<div class="code" id="_1412"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg]</code></pre></div></div><div class="p" id="_1413">which renders as:</div><div><blockquote id="_1414"><div class="figure"><figure id="_1415"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#_1415"><span class="caption-prefix">Figure 37. </span></a><a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="p" id="_1416">If you really absolutely want to turn off the <code>source</code>, you can explicitly set:<div class="code" id="_1417"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg]
{source=}</code></pre></div></div><div class="p" id="_1418">which renders as:</div><div><blockquote id="_1419"><div class="figure"><figure id="_1420"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315" alt="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"></a></div></figure></div></blockquote></div>but you don't want to do that for the most commonly Wikimedia Commons used license of CC BY+, do you? :-)</div><div class="p" id="_1421">Upsides of using Wikimedia Commons for your images:<div class="list"><ul id="_1422"><li id="_1423">makes it easier for other writers to find and reuse your images</li><li id="_1424">automatically generates resized versions of the uploaded images into several common dimensions so you can pick the smallest one that fits your desired <a href="#image-height-argument">image height</a> to reduce bandwidth usage</li><li id="_1425">if you have so many images that they would blow even the size of a <a href="#store-images-in-a-separate-media-repository">separate media repository</a>, this will still work</li></ul></div>Downsides:<div class="list"><ul id="_1426"><li id="_1427">forces you to use the Creative Commons license</li><li id="_1428">requires the content to be educational in nature</li><li id="_1429">uploading a bunch of images to Wikimedia Commons does feel a bit more laborious than it should because you have to write down so much repeated metadata for them</li></ul></div></div><div class="h" id="image-lazy-loading"><div class="notnav"><h5><a href="image-lazy-loading">Image lazy loading</a></h5><span class="hover-meta"> <a class="split" href="image-lazy-loading"></a><span class="metrics"><span class="wcntr"> Words: 64</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image" class="u"> Image</a><a href="#_toc/image-lazy-loading" class="toc"></a></div></nav></div><div class="p" id="_1430">We do this by default because OurBigBook is meant to allow producing huge single page documents like Ciro likes it, and in this way:<div class="list"><ul id="_1431"><li id="_1432">images that the user is looking at will load first</li><li id="_1433">we save a lot of bandwidth for the user who only wants to browse one section</li></ul></div></div><div class="p" id="_1434">TODO: maybe create a mechanism to disable this for the entire build with <a href="#ourbigbook-json"><code>ourbigbook.json</code></a>.</div><div class="h" id="background-color-of-transparent-images"><div class="notnav"><h5><a href="background-color-of-transparent-images">Background color of transparent images</a></h5><span class="hover-meta"> <a class="split" href="background-color-of-transparent-images"></a><span class="metrics"><span class="wcntr"> Words: 158</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image" class="u"> Image</a><a href="#_toc/background-color-of-transparent-images" class="toc"></a></div></nav></div><div class="p" id="_1435">For the love of God, there is no standardized for SVG to set its background color without a rectangle? <a href="https://stackoverflow.com/questions/11293026/default-background-color-of-svg-root-element">stackoverflow.com/questions/11293026/default-background-color-of-svg-root-element</a> <code>viewport-fill</code> was just left in limbo?</div><div class="p" id="_1436">And as a result, many many many SVG online images that you might want to reuse just rely on white pages and don't add that background rectangle.</div><div class="p" id="_1437">Therefore for now we just force white background on <a href="#overview-of-files-in-this-repository">our default CSS</a> of block images, which is what most SVGs will work with. Otherwise, you can lose the entire image to our default black background.</div><div class="p" id="_1438">For <a href="#inline-image">inline images</a> however, a white background would also be very distracting compared to the nearby inline text, and it would prevent the use case of making rounded smileys, so for now we are just not forcing the background color in that case.</div><div class="p" id="_1439">At some point we might just add a <code>color</code> argument to set the background color to an arbitrary value so that authors can decide what is better for each image.</div><div class="h" id="image-generators"><div class="notnav"><h5><a href="image-generators">Image generators</a></h5><span class="hover-meta"> <a class="split" href="image-generators"></a><span class="metrics"><span class="wcntr"> Words: 35</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image" class="u"> Image</a><a href="#_toc/image-generators" class="toc"></a></div></nav></div><div class="p" id="_1440">TODO implement: mechanism where you enter a textual description of the image inside the code body, and it then converts to an image, adds to the <code>-media</code> repo and pushes all automatically. Start with dot.</div><div class="p" id="_1441"><a href="https://github.com/ourbigbook/ourbigbook/issues/40">github.com/ourbigbook/ourbigbook/issues/40</a></div><div class="h" id="block-and-inline-images"><div class="notnav"><h5><a href="block-and-inline-images">Block and inline images</a></h5><span class="hover-meta"> <a class="split" href="block-and-inline-images"></a><span class="metrics"><span class="wcntr"> Words: 13</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image" class="u"> Image</a><a href="#_toc/block-and-inline-images" class="toc"></a><span class="tags"> Tags: <a href="#block-vs-inline-macros">Block vs inline macros</a></span></div></nav></div><div class="p" id="_1443">Many <a href="#image-argument">image arguments</a> arguments are shared between both block and inline images, but not all.</div><div class="h" id="inline-image"><div class="notnav"><h6><a href="inline-image">Inline image <span class="meta">(<code>\image</code>)</span></a></h6><span class="hover-meta"> <a class="split" href="inline-image"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#block-and-inline-images" class="u"> Block and inline images</a><a href="#_toc/inline-image" class="toc"></a><span class="tags"> Tags: <a href="#inline-macro">Inline macro</a></span></div></nav></div><div class="h" id="image-argument"><div class="notnav"><h5><a href="image-argument">Image argument</a></h5><span class="hover-meta"> <a class="split" href="image-argument"></a><span class="metrics"><span class="wcntr"> Words: 725</span><span class="dcnt"> Articles: 9</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image" class="u"> Image</a><a href="#_toc/image-argument" class="toc"></a></div></nav></div><div class="h" id="image-border-argument"><div class="notnav"><h6><a href="image-border-argument">Image <code>border</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-border-argument"></a><span class="metrics"><span class="wcntr"> Words: 61</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-border-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a>, <a href="#named-argument">Named argument</a></span></div></nav></div><div class="p" id="_1448">Adds a border around the image. This can be useful to make it clearer where images start and end when the image background color is the same as the background color of the OurBigBook document.</div><div class="p" id="_1449"><div class="code" id="_1450"><div><pre><code>\Image[logo.svg]
{border}
{height=150}
{title=Logo of the OurBigBook Project with a border around it}</code></pre></div></div><div class="p" id="_1451">which renders as:</div><div><blockquote id="_1452"><div class="figure"><figure id="image-logo-of-the-ourbigbook-project-with-a-border-around-it"><div class="float-wrap"><a href="_raw/logo.svg"><img src="_raw/logo.svg" loading="lazy" height="150"  class="border"></a></div><figcaption><a href="#image-logo-of-the-ourbigbook-project-with-a-border-around-it"><span class="caption-prefix">Figure 38. </span></a><div class="title">Logo of the OurBigBook Project with a border around it</div>. </figcaption></figure></div></blockquote></div></div><div class="h" id="image-description-argument"><div class="notnav"><h6><a href="image-description-argument">Image <code>description</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-description-argument"></a><span class="metrics"><span class="wcntr"> Words: 265</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-description-argument" class="toc"></a><span class="tags"> Tags: <a href="#description-argument"><code>description</code> argument</a>, <a href="#named-argument">Named argument</a></span></div></nav></div><div class="p" id="_1455">The <code>description</code> argument similar to the <a href="#image-title-argument">image <code>title</code> argument</a> argument, but allows allowing longer explanations without them appearing in <a href="#internal-link">internal links</a> to the image.</div><div class="p" id="_1456">For example, consider:<div class="code" id="_1457"><div><pre><code>See this image: \x[image-description-argument-test-1].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=Tank man standing in front of some tanks}
{id=image-description-argument-test-1}
{description=Note how the tanks are green.}
{source=https://en.wikipedia.org/wiki/File:Tianasquare.jpg}</code></pre></div></div><div class="p" id="_1458">which renders as:</div><div><blockquote id="_1459"><div class="p" id="_1460">See this image: <a href="#image-description-argument-test-1">Figure 39. "Tank man standing in front of some tanks"</a>.</div><div class="figure"><figure id="image-description-argument-test-1"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-description-argument-test-1"><span class="caption-prefix">Figure 39. </span></a><div class="title">Tank man standing in front of some tanks</div>. <a href="https://en.wikipedia.org/wiki/File:Tianasquare.jpg">Source</a>. Note how the tanks are green.</figcaption></figure></div></blockquote></div>In this example, the reference <code>\x[image-description-argument-test-1]</code> expands just to<div><blockquote id="_1461">Tank man standing in front of some tanks</blockquote></div>and does not include the description, which only shows on the image.</div><div class="p" id="_1462">The description can be as large as you like. If it gets really large however, you might want to consider moving the image to its own header to keep things slightly saner. This will be especially true after we eventually do: <a href="https://github.com/ourbigbook/ourbigbook/issues/180">github.com/ourbigbook/ourbigbook/issues/180</a>.</div><div class="p" id="_1463">If the description contains any element that would take its own separate line, like multiple paragraphs or a list, we automatically add a line grouping the description with the corresponding image to make that clearer, otherwise it can be hard to know which title corresponds to a far away image. Example with multiple paragraphs:<div class="code" id="_1464"><div><pre><code>Stuff before the image.

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=Tank man standing in front of some tanks}
{id=image-description-argument-test-2}
{source=https://en.wikipedia.org/wiki/File:Tianasquare.jpg}
{description=Note how the tanks are green.

But the shirt is white.}

Stuff after the image description.</code></pre></div></div><div class="p" id="_1465">which renders as:</div><div><blockquote id="_1466"><div class="p" id="_1467">Stuff before the image.</div><div class="figure"><figure id="image-description-argument-test-2" class="multiline"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-description-argument-test-2"><span class="caption-prefix">Figure 40. </span></a><div class="title">Tank man standing in front of some tanks</div>. <a href="https://en.wikipedia.org/wiki/File:Tianasquare.jpg">Source</a>. <div class="p" id="_1468">Note how the tanks are green.</div><div class="p" id="_1469">But the shirt is white.</div></figcaption></figure></div><div class="p" id="_1470">Stuff after the image description.</div></blockquote></div></div><div class="p" id="_1471">We recommend adding a period or other punctuation to the end of every description.</div><div class="h" id="image-external-argument"><div class="notnav"><h6><a href="image-external-argument">Image <code>external</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-external-argument"></a><span class="metrics"><span class="wcntr"> Words: 10</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-external-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a>, <a href="#named-argument">Named argument</a></span></div></nav></div><div class="p" id="_1474">Analogous to the <a href="#a-external-argument"><code>\a</code> <code>external</code> argument</a> when checking if the <a href="#image-src-argument">image <code>src</code> argument</a> exists or not.</div><div class="h" id="image-height-argument"><div class="notnav"><h6><a href="image-height-argument">Image <code>height</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-height-argument"></a><span class="metrics"><span class="wcntr"> Words: 184</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-height-argument" class="toc"></a><span class="tags"> Tags: <a href="#positive-nonzero-integer-argument">Positive nonzero integer argument</a></span></div></nav></div><div class="p" id="_1476">By default, we fix image heights to <code>height=315</code>, and let the <code>width</code> be calculated proportionally once the image loads. We therefore ignore the actual image size. This is done to:<div class="list"><ul id="_1477"><li id="_1478">prevent reflows as the page loads images and can determine their actual sizes, especially is the user opens the page at a given ID in the middle of the page</li><li id="_1479">create a more uniform media experience by default, unless a custom image size is actually needed e.g. if the image needs to be larger</li></ul></div>When the <a href="#mobile-guidelines">viewport is narrow enough</a>, mobile CSS takes over and forces block images to fill 100% of the page width instead, removing the scrollbar.</div><div class="p" id="_1480"><a href="#inline-image">Inline images</a> on the other hand never get a horizontal scrollbar, they are just always capped at viewport width.</div><div class="p" id="_1481">When the <code>height</code> argument is given, it changes that default height. Width is still just calculated proportionally to this new custom height.</div><div class="p" id="_1482"><div class="code" id="_1483"><div><pre><code>\Image[logo.svg]
{height=150}</code></pre></div></div><div class="p" id="_1484">which renders as:</div><div><blockquote id="_1485"><div class="figure"><figure id="_1486"><div class="float-wrap"><a href="_raw/logo.svg"><img src="_raw/logo.svg" loading="lazy" height="150" alt="logo.svg"></a></div></figure></div></blockquote></div></div><div class="p" id="_1487"><div class="code" id="_1488"><div><pre><code>\Image[logo.svg]
{height=550}</code></pre></div></div><div class="p" id="_1489">which renders as:</div><div><blockquote id="_1490"><div class="figure"><figure id="_1491"><div class="float-wrap"><a href="_raw/logo.svg"><img src="_raw/logo.svg" loading="lazy" height="550" alt="logo.svg"></a></div></figure></div></blockquote></div></div><div class="p" id="_1492">Here's a very long test image:</div><div class="figure"><figure id="image-very-long-test-image"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/4/45/Qian_Xuan_-_Early_Autumn.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Qian_Xuan_-_Early_Autumn.jpg" loading="lazy" height="600"></a></div><figcaption><a href="#image-very-long-test-image"><span class="caption-prefix">Figure 41. </span></a><div class="title">Very long test image</div>. <a href="https://commons.wikimedia.org/wiki/File:Qian_Xuan_-_Early_Autumn.jpg">Source</a>. And some tall inline maths: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.</figcaption></figure></div><div class="p" id="_1493">Here's a very long inline <a href="https://upload.wikimedia.org/wikipedia/commons/4/45/Qian_Xuan_-_Early_Autumn.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Qian_Xuan_-_Early_Autumn.jpg" loading="lazy" height="315" alt="https://upload.wikimedia.org/wikipedia/commons/4/45/Qian_Xuan_-_Early_Autumn.jpg"  class="inline"></a> test image:</div><div class="h" id="image-link-argument"><div class="notnav"><h6><a href="image-link-argument">Image <code>link</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-link-argument"></a><span class="metrics"><span class="wcntr"> Words: 82</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-link-argument" class="toc"></a><span class="tags"> Tags: <a href="#named-argument">Named argument</a></span></div></nav></div><div class="p" id="_1495">If given, make clicking an image go to the specified URL rather than the image's URL as is the default.</div><div class="p" id="_1496">By default, clicking on a rendered image links to the URL of the image itself. E.g. clicking:<div class="code" id="_1497"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]</code></pre></div></div><div class="p" id="_1498">which renders as:</div><div><blockquote id="_1499"><div class="figure"><figure id="_1500"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div></blockquote></div>would open <a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg">Tank_man_standing_in_front_of_some_tanks.jpg</a> as produces <code>img</code> surrounded by something like <code>a href="Tank_man_standing_in_front_of_some_tanks.jpg"</code>.</div><div class="p" id="_1501">If insetad we want the image to point to a custom URL, e.g. <a href="https://ourbigbook.com">ourbigbook.com</a> we could instead write:<div class="code" id="_1502"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{link=https://ourbigbook.com}</code></pre></div></div><div class="p" id="_1503">which renders as:</div><div><blockquote id="_1504"><div class="figure"><figure id="_1505"><div class="float-wrap"><a href="https://ourbigbook.com"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div></blockquote></div>and now clicking the image leads to <a href="https://ourbigbook.com">ourbigbook.com</a> instead.</div><div class="h" id="image-source-argument"><div class="notnav"><h6><a href="image-source-argument">Image <code>source</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-source-argument"></a><span class="metrics"><span class="wcntr"> Words: 43</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-source-argument" class="toc"></a><span class="tags"> Tags: <a href="#named-argument">Named argument</a></span></div></nav></div><div class="p" id="_1507">Where the image was taken from, e.g.:<div class="code" id="_1508"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG]
{title=A couple}
{source=https://en.wikipedia.org/wiki/Human}</code></pre></div></div><div class="p" id="_1509">which renders as:</div><div><blockquote id="_1510"><div class="figure"><figure id="image-a-couple"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG"><img src="https://upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG" loading="lazy" height="315"></a></div><figcaption><a href="#image-a-couple"><span class="caption-prefix">Figure 42. </span></a><div class="title">A couple</div>. <a href="https://en.wikipedia.org/wiki/Human">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="p" id="_1511">The <code>source</code> is automatically inferred for certain known websites, e.g.:<div class="list"><ul id="_1512"><li id="_1513">Wikimedia <code>https://upload.wikimedia.org/wikipedia/commons</code><div class="list"><ul id="_1514"><li id="_1515">from: <a href="https://upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG">upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG</a></li><li id="_1516">to: <a href="https://en.wikipedia.org/wiki/File:Akha_cropped_hires.JPG">en.wikipedia.org/wiki/File:Akha_cropped_hires.JPG</a></li></ul></div>Example:<div class="code" id="_1517"><div><pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG]
{title=A couple no source}</code></pre></div></div><div class="p" id="_1518">which renders as:</div><div><blockquote id="_1519"><div class="figure"><figure id="image-a-couple-no-source"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG"><img src="https://upload.wikimedia.org/wikipedia/commons/6/68/Akha_cropped_hires.JPG" loading="lazy" height="315"></a></div><figcaption><a href="#image-a-couple-no-source"><span class="caption-prefix">Figure 43. </span></a><div class="title">A couple no source</div>. <a href="https://commons.wikimedia.org/wiki/File:Akha_cropped_hires.JPG">Source</a>. </figcaption></figure></div></blockquote></div></li></ul></div></div><div class="h" id="image-src-argument"><div class="notnav"><h6><a href="image-src-argument">Image <code>src</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-src-argument"></a><span class="metrics"><span class="wcntr"> Words: 17</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-src-argument" class="toc"></a><span class="tags"> Tags: <a href="#positional-argument">Positional argument</a></span></div></nav></div><div class="p" id="_1521">The address of the image, e.g. in:<div class="code" id="_1522"><div><pre><code>\Image[image.png]</code></pre></div></div>the <code>src</code> is <code>image.png</code>.</div><div class="p" id="_1523">Analogous to the <a href="#a-href-argument"><code>\a</code> <code>href</code> argument</a>.</div><div class="h" id="image-title-argument"><div class="notnav"><h6><a href="image-title-argument">Image <code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-title-argument"></a><span class="metrics"><span class="wcntr"> Words: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-title-argument" class="toc"></a><span class="tags"> Tags: <a href="#title-argument"><code>title</code> argument</a></span></div></nav></div><div class="p" id="_1525">Analogous to the <a href="#h-title-argument"><code>\H</code> <code>title</code> argument</a>.</div><div class="h" id="image-width-argument"><div class="notnav"><h6><a href="image-width-argument">Image <code>width</code> argument</a></h6><span class="hover-meta"> <a class="split" href="image-width-argument"></a><span class="metrics"><span class="wcntr"> Words: 59</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#image-argument" class="u"> Image argument</a><a href="#_toc/image-width-argument" class="toc"></a><span class="tags"> Tags: <a href="#positive-nonzero-integer-argument">Positive nonzero integer argument</a></span></div></nav></div><div class="p" id="_1527">This argument is meant to be analogous to the <a href="#image-height-argument">Image <code>height</code> argument</a> but for images.</div><div class="p" id="_1528">Usage of this argument is generally discouraged, as we always set the default image height by default, so that also passing a width is either unnecessary or may lead to changes in the image's correct aspect ratio.</div><div class="p" id="_1529"><div class="code" id="_1530"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{width=150}</code></pre></div></div><div class="p" id="_1531">which renders as:</div><div><blockquote id="_1532"><div class="figure"><figure id="_1533"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" width="150" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div></blockquote></div></div><div class="p" id="_1534"><div class="code" id="_1535"><div><pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{width=550}</code></pre></div></div><div class="p" id="_1536">which renders as:</div><div><blockquote id="_1537"><div class="figure"><figure id="_1538"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" width="550" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a></div></figure></div></blockquote></div></div><div class="h" id="include"><div class="notnav"><h4><a href="include">Include <span class="meta">(<code>\Include</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="include"></a><span class="metrics"><span class="wcntr"> Words: 604</span><span class="dcnt"> Articles: 26</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/include" class="toc"></a></div></nav></div><div class="p" id="_1540">The <code>\Include</code> macro allows including an external OurBigBook headers under the current header.</div><div class="p" id="_1541">It exists to allow optional single page HTML output while still retaining the ability to:<div class="list"><ul id="_1542"><li id="_1543">split up large input files into multiple files to make renders faster during document development</li><li id="_1544">suggest an optional custom output split with one HTML output per OurBigBook input, in order to avoid extremely large HTML pages which could be slow to load</li></ul></div></div><div class="p" id="_1545"><code>\Include</code> takes one mandatory argument: the ID of the section to be included, much like <a href="#internal-link">internal links</a>.</div><div class="p" id="_1546">There is however one restriction: only <a href="#the-toplevel-header">the toplevel headers</a> can be pointed to. This restriction allows us to easily find the included file in the filesystem, and dispenses the need to do a first <code>./ourbigbook</code> run to generate the <a href="#cross-file-internal-link-internals">ID database</a>. This works because <a href="#the-id-of-the-first-header-is-derived-from-the-filename">the ID of the first header is derived from the filename</a>.</div><div class="p" id="_1547">Headers of the included document are automatically shifted to match the level of the child of the level where they are being included.</div><div class="p" id="_1548">If <a href="#embed-includes"><code>--embed-includes</code></a> is given, the external document is rendered embedded into the current document directly, essentially as if the source had been copy pasted (except for small corrections such as the header offsets).</div><div class="p" id="_1549">Otherwise, the following effects happen:<div class="list"><ul id="_1550"><li id="_1551"><div class="p" id="_1552">The headers of the included tree appear in the <a href="#table-of-contents">table of contents</a> of the document as links to the corresponding external files.</div><div class="p" id="_1553">This is implemented simply by reading a previously generated database file much like <a href="#cross-file-internal-link-internals">cross file internal link internals</a>, which avoids the slowdown of parsing all included files every time.</div><div class="p" id="_1554">As a result, you have to do an initial parse of all files in the project to extract their headers however, just as you would need to do when linking to those headers.</div></li><li id="_1555">the include itself renders as a link to the included document</li><li id="_1556"><a href="#embed-includes"><code>--embed-includes</code></a></li></ul></div></div><div class="p" id="_1557">Here is an example of inclusion of the files <code>not-index.bigb</code> and <code>not-index-2.bigb</code>:<div class="code" id="_1558"><div><pre><code>\Include[not-index]
\Include[not-index-2]
\Include[not-index-with-scope]</code></pre></div></div>The above is the recommended and slightly more <a href="#macro-shorthand-syntax">shorthand</a> version of:<div class="code" id="_1559"><div><pre><code>\Include[not-index]

\Include[not-index-2]

\Include[not-index-with-scope]</code></pre></div></div>The shorthand version is a bit shorter because the <code>\Include</code> magically discards the following newline node that follows it if it just a plaintext node containing exactly a newline. With a double newline, the newline would already have been previously taken out on the lexing stage as part of a paragraph.</div><div class="p" id="_1560"><a href="#include-example">Section "<code>\Include</code> example"</a> shows what those actually render like.</div><div class="h" id="include-from-subdirectories"><div class="notnav"><h5><a href="include-from-subdirectories"><code>\Include</code> from subdirectories</a></h5><span class="hover-meta"> <a class="split" href="include-from-subdirectories"></a><span class="metrics"><span class="wcntr"> Words: 41</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include" class="u"> Include</a><a href="#_toc/include-from-subdirectories" class="toc"></a></div></nav></div><div class="p" id="_1561">When you are in a subdirectory, include resolution just is simply relative to the subdirectory. E.g. we could do:</div><div class="p" id="_1562">subdir/index.bigb<div class="code" id="_1563"><div><pre><code>= Subdir

\Include[notindex]
\Include[subdir2/notindex]</code></pre></div></div></div><div class="p" id="_1564">subdir/notindex.bigb<div class="code" id="_1565"><div><pre><code>= Notindex</code></pre></div></div></div><div class="p" id="_1566">subdir/subdir2/notindex.bigb<div class="code" id="_1567"><div><pre><code>= Notindex</code></pre></div></div></div><div class="p" id="_1568">It is not currently possible to include from ancestor directories: <a href="https://github.com/ourbigbook/ourbigbook/issues/214">github.com/ourbigbook/ourbigbook/issues/214</a>.</div><div class="h" id="include-parent-argument"><div class="notnav"><h5><a href="include-parent-argument"><code>\Include</code> <code>parent</code> argument</a></h5><span class="hover-meta"> <a class="split" href="include-parent-argument"></a><span class="metrics"><span class="wcntr"> Words: 86</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include" class="u"> Include</a><a href="#_toc/include-parent-argument" class="toc"></a></div></nav></div><div class="p" id="_1569">This option is analogous to <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a>, but for <a href="#include">includes</a>.</div><div class="p" id="_1570">For example, consider you have:<div class="code" id="_1571"><div><pre><code>= Animal

== Dog

== Cat

== Bat</code></pre></div></div>and now you want to split <code>Cat</code> to <code>cat.bigb</code>.</div><div class="p" id="_1572">If you wrote:<div class="code" id="_1573"><div><pre><code>= Animal

== Dog

\Include[cat]

== Bat</code></pre></div></div>Cat would be a child of Dog, since that is the previous header, which is not what we want.</div><div class="p" id="_1574">Instead, we want to write:<div class="code" id="_1575"><div><pre><code>= Animal

== Dog

\Include[cat]{parent=animal}

== Bat</code></pre></div></div>and now Cat will be a child of Animal as desired.</div><div class="p" id="_1576">Implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/127">github.com/ourbigbook/ourbigbook/issues/127</a></div><div class="h" id="include-example"><div class="notnav"><h5><a href="include-example"><code>\Include</code> example</a></h5><span class="hover-meta"> <a class="split" href="include-example"></a><span class="metrics"><span class="wcntr"> Words: 114</span><span class="dcnt"> Articles: 23</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include" class="u"> Include</a><a href="#_toc/include-example" class="toc"></a></div></nav></div><div class="p" id="_1577">This shows what includes render as.</div><div class="h" id="not-index"><div class="notnav"><h6><a href="not-index">Not the index</a></h6><span class="hover-meta"> <a class="split" href="split"></a><span class="metrics"><span class="wcntr"> Words: 23</span><span class="dcnt"> Articles: 11</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include-example" class="u"> <code>\Include</code> example</a><a href="#_toc/not-index" class="toc"></a></div></nav></div><div class="p" id="_1578"><a href="not-index">This section is present in another page, follow this link to view it.</a></div><div class="h" id="not-index-2"><div class="notnav"><h6><a href="not-index-2">Not the index 2</a></h6><span class="hover-meta"> <a class="split" href="split"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include-example" class="u"> <code>\Include</code> example</a><a href="#_toc/not-index-2" class="toc"></a></div></nav></div><div class="p" id="_1579"><a href="not-index-2">This section is present in another page, follow this link to view it.</a></div><div class="h" id="not-index-with-scope"><div class="notnav"><h6><a href="not-index-with-scope">Not the index with scope</a></h6><span class="hover-meta"> <a class="split" href="split"></a><span class="metrics"><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include-example" class="u"> <code>\Include</code> example</a><a href="#_toc/not-index-with-scope" class="toc"></a></div></nav></div><div class="p" id="_1580"><a href="not-index-with-scope">This section is present in another page, follow this link to view it.</a></div><div class="h" id="subdir"><div class="notnav"><h6><a href="subdir">Subdir</a></h6><span class="hover-meta"> <a class="split" href="split"></a><span class="metrics"><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include-example" class="u"> <code>\Include</code> example</a><a href="#_toc/subdir" class="toc"></a></div></nav></div><div class="p" id="_1581"><a href="subdir">This section is present in another page, follow this link to view it.</a></div><div class="h" id="subdir/notindex"><div class="notnav"><h6><a href="subdir/notindex">Notindex</a></h6><span class="hover-meta"> <a class="split" href="split"></a><span class="metrics"><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#include-example" class="u"> <code>\Include</code> example</a><a href="#_toc/subdir/notindex" class="toc"></a></div></nav></div><div class="p" id="_1582"><a href="subdir/notindex">This section is present in another page, follow this link to view it.</a></div><div class="h" id="italic"><div class="notnav"><h4><a href="italic">Italic <span class="meta">(<code>\i</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="italic"></a><span class="metrics"><span class="wcntr"> Words: 9</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/italic" class="toc"></a></div></nav></div><div class="p" id="_1584"><div class="code" id="_1585"><div><pre><code>Some \i[italic] text.</code></pre></div></div><div class="p" id="_1586">which renders as:</div><div><blockquote id="_1587"><div class="p" id="_1588">Some <i>italic</i> text.</div></blockquote></div></div><div class="h" id="jscanvasdemo"><div class="notnav"><h4><a href="jscanvasdemo"><code>\JsCanvasDemo</code></a></h4><span class="hover-meta"> <a class="split" href="jscanvasdemo"></a><span class="metrics"><span class="wcntr"> Words: 171</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/jscanvasdemo" class="toc"></a></div></nav></div><div class="p" id="_1589">The <code>JsCanvasDemo</code> macro allows you to create interactive HTML/JavaScript <a href="https://en.wikipedia.org/wiki/Canvas_element">canvas</a> demos easily.</div><div class="p" id="_1590">These demos:<div class="list"><ul id="_1591"><li id="_1592">only start running when the user scrolls over them for the first time</li><li id="_1593">stop automatically when they leave the viewport</li></ul></div>so you can stuff as many of them as you want on a page, and they won't cause the reader's CPU to fry an egg.</div><div class="p" id="_1594"><div class="code" id="_1595"><div><pre><code>\JsCanvasDemo[[
new class extends OurbigbookCanvasDemo {
  init() {
    super.init('hello');
    this.pixel_size_input = this.addInputAfterEnable(
      'Pixel size',
      {
        'min': 1,
        'type': 'number',
        'value': 1,
      }
    );
  }
  draw() {
    var pixel_size = parseInt(this.pixel_size_input.value);
    for (var x = 0; x &lt; this.width; x += pixel_size) {
      for (var y = 0; y &lt; this.height; y += pixel_size) {
        var b = ((1.0 + Math.sin(this.time * Math.PI / 16)) / 2.0);
        this.ctx.fillStyle =
          'rgba(' +
          (x / this.width) * 255 + ',' +
          (y / this.height) * 255 + ',' +
          b * 255 +
          ',255)'
        ;
        this.ctx.fillRect(x, y, pixel_size, pixel_size);
      }
    }
  }
}
]]</code></pre></div></div><div class="p" id="_1596">which renders as:</div><div><blockquote id="_1597"><pre class="ourbigbook-js-canvas-demo"><code>new class extends OurbigbookCanvasDemo {
  init() {
    super.init('hello');
    this.pixel_size_input = this.addInputAfterEnable(
      'Pixel size',
      {
        'min': 1,
        'type': 'number',
        'value': 1,
      }
    );
  }
  draw() {
    var pixel_size = parseInt(this.pixel_size_input.value);
    for (var x = 0; x &lt; this.width; x += pixel_size) {
      for (var y = 0; y &lt; this.height; y += pixel_size) {
        var b = ((1.0 + Math.sin(this.time * Math.PI / 16)) / 2.0);
        this.ctx.fillStyle =
          'rgba(' +
          (x / this.width) * 255 + ',' +
          (y / this.height) * 255 + ',' +
          b * 255 +
          ',255)'
        ;
        this.ctx.fillRect(x, y, pixel_size, pixel_size);
      }
    }
  }
}</code></pre></blockquote></div></div><div class="p" id="_1599">And another one showing off some <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API">WebGL</a>:</div><pre class="ourbigbook-js-canvas-demo"><code>new class extends OurbigbookCanvasDemo {
  init() {
    super.init('webgl', {context_type: 'webgl'});
    this.ctx.viewport(0, 0, this.ctx.drawingBufferWidth, this.ctx.drawingBufferHeight);
    this.ctx.clearColor(0.0, 0.0, 0.0, 1.0);
    this.vertexShaderSource = `
#version 100
precision highp float;
attribute float position;
void main() {
  gl_Position = vec4(position, 0.0, 0.0, 1.0);
  gl_PointSize = 64.0;
}
`;

    this.fragmentShaderSource = `
#version 100
precision mediump float;
void main() {
  gl_FragColor = vec4(0.18, 0.0, 0.34, 1.0);
}
`;
    this.vertexShader = this.ctx.createShader(this.ctx.VERTEX_SHADER);
    this.ctx.shaderSource(this.vertexShader, this.vertexShaderSource);
    this.ctx.compileShader(this.vertexShader);
    this.fragmentShader = this.ctx.createShader(this.ctx.FRAGMENT_SHADER);
    this.ctx.shaderSource(this.fragmentShader, this.fragmentShaderSource);
    this.ctx.compileShader(this.fragmentShader);
    this.program = this.ctx.createProgram();
    this.ctx.attachShader(this.program, this.vertexShader);
    this.ctx.attachShader(this.program, this.fragmentShader);
    this.ctx.linkProgram(this.program);
    this.ctx.detachShader(this.program, this.vertexShader);
    this.ctx.detachShader(this.program, this.fragmentShader);
    this.ctx.deleteShader(this.vertexShader);
    this.ctx.deleteShader(this.fragmentShader);
    if (!this.ctx.getProgramParameter(this.program, this.ctx.LINK_STATUS)) {
      console.log('error ' + this.ctx.getProgramInfoLog(this.program));
      return;
    }
    this.ctx.enableVertexAttribArray(0);
    var buffer = this.ctx.createBuffer();
    this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER, buffer);
    this.ctx.vertexAttribPointer(0, 1, this.ctx.FLOAT, false, 0, 0);
    this.ctx.useProgram(this.program);
  }
  draw() {
    this.ctx.clear(this.ctx.COLOR_BUFFER_BIT);
    this.ctx.bufferData(this.ctx.ARRAY_BUFFER, new Float32Array([Math.sin(this.time / 60.0)]), this.ctx.STATIC_DRAW);
    this.ctx.drawArrays(this.ctx.POINTS, 0, 1);
  }
}</code></pre><div class="h" id="list"><div class="notnav"><h4><a href="list">List <span class="meta">(<code>* </code>, <code>\L</code>, <code>\Ul</code>, <code>\Ol</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="list"></a><span class="metrics"><span class="wcntr"> Words: 345</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/list" class="toc"></a><span class="tags"> Tags: <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_1603"><a href="#macro-shorthand-syntax">Shorthand</a> with <code>* </code> (asterisk space):<div class="code" id="_1604"><div><pre><code>* a
* b
* c</code></pre></div></div><div class="p" id="_1605">which renders as:</div><div><blockquote id="_1606"><div class="list"><ul id="_1607"><li id="_1608">a</li><li id="_1609">b</li><li id="_1610">c</li></ul></div></blockquote></div></div><div class="p" id="_1611">Equivalent saner with <a href="#auto-parent">implicit <code>ul</code> container</a>:<div class="code" id="_1612"><div><pre><code>\L[a]
\L[b]
\L[c]</code></pre></div></div><div class="p" id="_1613">which renders as:</div><div><blockquote id="_1614"><div class="list"><ul id="_1615"><li id="_1616">a</li><li id="_1617">b</li><li id="_1618">c</li></ul></div></blockquote></div></div><div class="p" id="_1619">Equivalent fully sane with explicit container:<div class="code" id="_1620"><div><pre><code>\Ul[
\L[a]
\L[b]
\L[c]
]</code></pre></div></div><div class="p" id="_1621">which renders as:</div><div><blockquote id="_1622"><div class="list"><ul id="_1623"><li id="_1624">a</li><li id="_1625">b</li><li id="_1626">c</li></ul></div></blockquote></div></div><div class="p" id="_1627">The explicit container is required if you want to pass extra arguments properties to the <code>ul</code> list macro, e.g. a title and an ID: <a href="#list-my-id">Ul 1</a>:<div class="code" id="_1628"><div><pre><code>\Ul
{id=list-my-id}
[
\L[a]
\L[b]
\L[c]
]</code></pre></div></div><div class="p" id="_1629">which renders as:</div><div><blockquote id="_1630"><div class="list"><div id="list-my-id"><div><div class="caption"><a href="#list-my-id"><span class="caption-prefix">Ul 1</span></a></div><ul><li id="_1631">a</li><li id="_1632">b</li><li id="_1633">c</li></ul></div></div></div></blockquote></div>This is the case because without the explicit container in an implicit <code>ul</code> list, the arguments would stick to the last list item instead of the list itself.</div><div class="p" id="_1634">It is also required if you want ordered lists:<div class="code" id="_1635"><div><pre><code>\Ol[
\L[first]
\L[second]
\L[third]
]</code></pre></div></div><div class="p" id="_1636">which renders as:</div><div><blockquote id="_1637"><div class="list"><ol id="_1638"><li id="_1639">first</li><li id="_1640">second</li><li id="_1641">third</li></ol></div></blockquote></div></div><div class="p" id="_1642">Shorthand nested list with two space indentation:<div class="code" id="_1643"><div><pre><code>* a
  * a1
  * a2
  * a2
* b
* c</code></pre></div></div><div class="p" id="_1644">which renders as:</div><div><blockquote id="_1645"><div class="list"><ul id="_1646"><li id="_1647">a<div class="list"><ul id="_1648"><li id="_1649">a1</li><li id="_1650">a2</li><li id="_1651">a2</li></ul></div></li><li id="_1652">b</li><li id="_1653">c</li></ul></div></blockquote></div>The indentation must always be exactly equal to two spaces, anything else leads to errors or unintended output.</div><div class="p" id="_1654">Equivalent saner nested lists with implicit containers:<div class="code" id="_1655"><div><pre><code>\L[
a
\L[a1]
\L[a2]
\L[a2]
]
\L[b]
\L[c]</code></pre></div></div><div class="p" id="_1656">which renders as:</div><div><blockquote id="_1657"><div class="list"><ul id="_1658"><li id="_1659">a<div class="list"><ul id="_1660"><li id="_1661">a1</li><li id="_1662">a2</li><li id="_1663">a2</li></ul></div></li><li id="_1664">b</li><li id="_1665">c</li></ul></div></blockquote></div></div><div class="p" id="_1666">Shorthand list item with a paragraph inside of it:<div class="code" id="_1667"><div><pre><code>* a
* I have

  Multiple paragraphs.

  * And
  * also
  * a
  * list
* c</code></pre></div></div><div class="p" id="_1668">which renders as:</div><div><blockquote id="_1669"><div class="list"><ul id="_1670"><li id="_1671">a</li><li id="_1672"><div class="p" id="_1673">I have</div><div class="p" id="_1674">Multiple paragraphs.</div><div class="list"><ul id="_1675"><li id="_1676">And</li><li id="_1677">also</li><li id="_1678">a</li><li id="_1679">list</li></ul></div></li><li id="_1680">c</li></ul></div></blockquote></div></div><div class="p" id="_1681">Equivalent sane version:<div class="code" id="_1682"><div><pre><code>\L[a]
\L[
I have

Multiple paragraphs.

\L[And]
\L[also]
\L[a]
\L[list]
]
\L[c]</code></pre></div></div><div class="p" id="_1683">which renders as:</div><div><blockquote id="_1684"><div class="list"><ul id="_1685"><li id="_1686">a</li><li id="_1687"><div class="p" id="_1688">I have</div><div class="p" id="_1689">Multiple paragraphs.</div><div class="list"><ul id="_1690"><li id="_1691">And</li><li id="_1692">also</li><li id="_1693">a</li><li id="_1694">list</li></ul></div></li><li id="_1695">c</li></ul></div></blockquote></div></div><div class="p" id="_1696">Shorthand lists may be escaped with a backslash as usual:<div class="code" id="_1697"><div><pre><code>\* paragraph starting with an asterisk.</code></pre></div></div><div class="p" id="_1698">which renders as:</div><div><blockquote id="_1699"><div class="p" id="_1700">* paragraph starting with an asterisk.</div></blockquote></div></div><div class="p" id="_1701">You can also start shorthand lists immediately at the start of a <a href="#positional-vs-named-arguments">positional or named argument</a>, e.g.:<div class="code" id="_1702"><div><pre><code>\P[* a
* b
* c
]</code></pre></div></div><div class="p" id="_1703">which renders as:</div><div><blockquote id="_1704"><div class="p" id="_1705"><div class="list"><ul id="_1706"><li id="_1707">a</li><li id="_1708">b</li><li id="_1709">c</li></ul></div></div></blockquote></div></div><div class="p" id="_1710">And now a list outside of <a href="#ourbigbookexample"><code>\OurBigBookExample</code></a> to test how it looks directly under <a href="#toplevel">the <code>\Toplevel</code> implicit macro</a>:</div><div class="list"><ul id="_1711"><li id="_1712">a</li><li id="_1713">b</li><li id="_1714">c</li></ul></div><div class="h" id="mathematics"><div class="notnav"><h4><a href="mathematics">Mathematics <span class="meta">(<code>$$</code>, <code>$</code>, <code>\M</code>, <code>\m</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="mathematics"></a><span class="metrics"><span class="wcntr"> Words: 895</span><span class="dcnt"> Articles: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/mathematics" class="toc"></a><span class="tags"> Tags: <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_1717">Via <a href="https://katex.org/">KaTeX</a> server side, oh yes!</div><div class="p" id="_1718">Inline math is done with the dollar sign (<code>$</code>) <a href="#macro-shorthand-syntax">macro shorthand syntax</a>:<div class="code" id="_1719"><div><pre><code>My inline $\sqrt{1 + 1}$ is awesome.</code></pre></div></div><div class="p" id="_1720">which renders as:</div><div><blockquote id="_1721"><div class="p" id="_1722">My inline <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span></span></span> is awesome.</div></blockquote></div>and block math is done with two or more dollar signs (<code>$$</code>):<div class="code" id="_1723"><div><pre><code>$$
\sqrt{1 + 1} \\
\sqrt{1 + 1}
$$</code></pre></div></div><div class="p" id="_1724">which renders as:</div><div><blockquote id="_1725"><div class="math" id="_1726"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span></span></span></div><div class="number"><a href="#_1726">(4)</a></div></div></div></div></blockquote></div></div><div class="p" id="_1727">The sane version of inline math is a lower case <code>m</code>:<div class="code" id="_1728"><div><pre><code>My inline \m[[\sqrt{1 + 1}]] is awesome.</code></pre></div></div><div class="p" id="_1729">which renders as:</div><div><blockquote id="_1730"><div class="p" id="_1731">My inline <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span></span></span> is awesome.</div></blockquote></div>and the sane version of block math is with an upper case <code>M</code>:<div class="code" id="_1732"><div><pre><code>\M[[
\sqrt{1 + 1} \\
\sqrt{1 + 1}
]]</code></pre></div></div><div class="p" id="_1733">which renders as:</div><div><blockquote id="_1734"><div class="math" id="_1735"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span></span></span></div><div class="number"><a href="#_1735">(5)</a></div></div></div></div></blockquote></div></div><div class="p" id="_1736">The capital vs lower case theme is also used in other elements, see: <a href="#block-vs-inline-macros">block vs inline macros</a>.</div><div class="p" id="_1737">In the sane syntax, <a href="#escape-characters">as with any other argument</a>, you have to either escape any closing square brackets <code>]</code> with a backslash <code>\</code>:<div class="code" id="_1738"><div><pre><code>My inline \m[1 - \[1 + 1\] = -1] is awesome.</code></pre></div></div><div class="p" id="_1739">which renders as:</div><div><blockquote id="_1740"><div class="p" id="_1741">My inline <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span> is awesome.</div></blockquote></div>or with the equivalent double open and close:<div class="code" id="_1742"><div><pre><code>My inline \m[[1 - [1 + 1] = -1]] is awesome.</code></pre></div></div></div><div class="p" id="_1743">HTML escaping happens as you would expect, e.g. <code>&lt;</code> shows fine in:<div class="code" id="_1744"><div><pre><code>$$
1 &lt; 2
$$</code></pre></div></div><div class="p" id="_1745">which renders as:</div><div><blockquote id="_1746"><div class="math" id="_1747"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></div><div class="number"><a href="#_1747">(6)</a></div></div></div></div></blockquote></div></div><div class="p" id="_1748">Equation IDs and titles and linking to equations works identically to <a href="#image">images</a>, see that section for full details. Here is one equation reference example that links to the following shorthand syntax equation: <a href="#equation-my-first-shorthand-equation">Equation 7. "My first shorthand equation"</a>:<div class="code" id="_1749"><div><pre><code>$$
\sqrt{1 + 1}
$$
{title=My first shorthand equation}</code></pre></div></div><div class="p" id="_1750">which renders as:</div><div><blockquote id="_1751"><div class="math" id="equation-my-first-shorthand-equation"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span></span></span></div><div class="number"><a href="#equation-my-first-shorthand-equation">(7)</a></div></div><div class="caption"><a href="#equation-my-first-shorthand-equation"><span class="caption-prefix">Equation 7. </span></a><div class="title">My first shorthand equation</div>. </div></div></div></blockquote></div>and the sane equivalent <a href="#equation-my-first-sane-equation">Equation 8. "My first sane equation"</a>:<div class="code" id="_1752"><div><pre><code>\M{title=My first sane equation}[[
\sqrt{1 + 1}
]]</code></pre></div></div><div class="p" id="_1753">which renders as:</div><div><blockquote id="_1754"><div class="math" id="equation-my-first-sane-equation"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span></span></span></div><div class="number"><a href="#equation-my-first-sane-equation">(8)</a></div></div><div class="caption"><a href="#equation-my-first-sane-equation"><span class="caption-prefix">Equation 8. </span></a><div class="title">My first sane equation</div>. </div></div></div></blockquote></div></div><div class="p" id="_1755">Here is a raw one just to test the formatting outside of a <code>ourbigbook_comment</code>:<div class="math" id="_1756"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1744em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8656em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-2.8256em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1744em;"><span></span></span></span></span></span></span></span></span></div><div class="number"><a href="#_1756">(9)</a></div></div></div></div></div><div class="p" id="_1757">Here is a very long math equation:</div><div class="math" id="_1758"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">He</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">o</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">He</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">oHe</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">o</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">He</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mord mathnormal">o</span></span></span></span></div><div class="number"><a href="#_1758">(10)</a></div></div></div></div><div class="h" id="m-argument"><div class="notnav"><h5><a href="m-argument"><code>\M</code> argument</a></h5><span class="hover-meta"> <a class="split" href="m-argument"></a><span class="metrics"><span class="wcntr"> Words: 67</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#mathematics" class="u"> Mathematics</a><a href="#_toc/m-argument" class="toc"></a></div></nav></div><div class="h" id="m-description-argument"><div class="notnav"><h6><a href="m-description-argument"><code>\M</code> <code>description</code> argument</a></h6><span class="hover-meta"> <a class="split" href="m-description-argument"></a><span class="metrics"><span class="wcntr"> Words: 39</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#m-argument" class="u"> <code>\M</code> argument</a><a href="#_toc/m-description-argument" class="toc"></a><span class="tags"> Tags: <a href="#description-argument"><code>description</code> argument</a></span></div></nav></div><div class="p" id="_1760">See: <a href="#description-argument">Section "<code>description</code> argument"</a>.</div><div class="p" id="_1761"><div class="code" id="_1762"><div><pre><code>See the: &lt;equation Pytogoras theorem&gt;.

$$
c = \sqrt{a^2 + b^2}
$$
{title=Pytogoras theorem}
{description=This important equation allows us to find the distance between two points.}</code></pre></div></div><div class="p" id="_1763">which renders as:</div><div><blockquote id="_1764"><div class="p" id="_1765">See the: <a href="#equation-pytogoras-theorem">Equation 11. "Pytogoras theorem"</a>.</div><div class="math" id="equation-pytogoras-theorem"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1266em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9134em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8734em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1266em;"><span></span></span></span></span></span></span></span></span></div><div class="number"><a href="#equation-pytogoras-theorem">(11)</a></div></div><div class="caption"><a href="#equation-pytogoras-theorem"><span class="caption-prefix">Equation 11. </span></a><div class="title">Pytogoras theorem</div>. This important equation allows us to find the distance between two points.</div></div></div></blockquote></div></div><div class="h" id="m-title-argument"><div class="notnav"><h6><a href="m-title-argument"><code>\M</code> <code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="m-title-argument"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#m-argument" class="u"> <code>\M</code> argument</a><a href="#_toc/m-title-argument" class="toc"></a><span class="tags"> Tags: <a href="#title-argument"><code>title</code> argument</a></span></div></nav></div><div class="p" id="_1767">See: <a href="#title-argument">Section "<code>title</code> argument"</a>.</div><div class="p" id="_1768">Example:</div><div class="p" id="_1769"><div class="code" id="_1770"><div><pre><code>See the: &lt;equation Riemann zeta function&gt;.

$$
\zeta(s) = \sum_{n=1}^\infty \frac{1}{n^s}
$$
{title=Riemann zeta function}</code></pre></div></div><div class="p" id="_1771">which renders as:</div><div><blockquote id="_1772"><div class="p" id="_1773">See the: <a href="#equation-riemann-zeta-function">Equation 12. "Riemann zeta function"</a>.</div><div class="math" id="equation-riemann-zeta-function"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07378em;">ζ</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></div><div class="number"><a href="#equation-riemann-zeta-function">(12)</a></div></div><div class="caption"><a href="#equation-riemann-zeta-function"><span class="caption-prefix">Equation 12. </span></a><div class="title">Riemann zeta function</div>. </div></div></div></blockquote></div></div><div class="h" id="latex-macros"><div class="notnav"><h5><a href="latex-macros">LaTeX macros</a></h5><span class="hover-meta"> <a class="split" href="latex-macros"></a><span class="metrics"><span class="wcntr"> Words: 404</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#mathematics" class="u"> Mathematics</a><a href="#_toc/latex-macros" class="toc"></a></div></nav></div><div class="h" id="built-in-latex-macros"><div class="notnav"><h6><a href="built-in-latex-macros">Built-in LaTeX macros</a></h6><span class="hover-meta"> <a class="split" href="built-in-latex-macros"></a><span class="metrics"><span class="wcntr"> Words: 117</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#latex-macros" class="u"> LaTeX macros</a><a href="#_toc/built-in-latex-macros" class="toc"></a></div></nav></div><div class="p" id="_1774">OurBigBook ships with several commonly used math macros enabled by default.</div><div class="p" id="_1775">The full list of built-in macros can be seen at: <a href="_raw/default.tex">default.tex</a>.</div><div class="p" id="_1776">Here's one example of using <code>\dv</code> from the <a href="http://mirrors.ibiblio.org/CTAN/macros/latex/contrib/physics/physics.pdf"><code>physics</code> package</a> for derivatives:<div class="code" id="_1777"><div><pre><code>$$
\dv{x^2}{x} = 2x
$$</code></pre></div></div><div class="p" id="_1778">which renders as:</div><div><blockquote id="_1779"><div class="math" id="_1780"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathnormal">x</span></span></span></span></div><div class="number"><a href="#_1780">(13)</a></div></div></div></div></blockquote></div></div><div class="p" id="_1781">Our goal is to collect the most popular macros from the most popular pre-existing LaTeX packages and make them available with this mechanism.</div><div class="p" id="_1782">These built-in macros are currently only available on <a href="#ourbigbook-cli">OurBigBook CLI</a> and <a href="#ourbigbook-web">OurBigBook Web</a>, not when using the <a href="#ourbigbook-library">JavaScript API</a> directly. We should likely make that possible as well at some point.</div><div class="p" id="_1783">In addition to <a href="_raw/default.tex">default.tex</a>, the <a href="https://github.com/KaTeX/KaTeX/tree/main/contrib/mhchem">KaTeX mhchem extension</a> is also enabled to facilitate typesetting of chemical formulae with the <code>\ce</code> and <code>\pu</code> macros.</div><div class="h" id="user-defined-latex-macros"><div class="notnav"><h6><a href="user-defined-latex-macros">User-defined LaTeX macros</a></h6><span class="hover-meta"> <a class="split" href="user-defined-latex-macros"></a><span class="metrics"><span class="wcntr"> Words: 287</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#latex-macros" class="u"> LaTeX macros</a><a href="#_toc/user-defined-latex-macros" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-tex"><div class="notnav"><h6 data-level="7"><a href="ourbigbook-tex"><code>ourbigbook.tex</code></a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-tex"></a><span class="metrics"><span class="wcntr"> Words: 111</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#user-defined-latex-macros" class="u"> User-defined LaTeX macros</a><a href="#_toc/ourbigbook-tex" class="toc"></a></div></nav></div><div class="p" id="_1784">If your project has multiple <code>.bigb</code> input files, you can share Mathematics definitions across all files by adding them to the <code>ourbigbook.tex</code> file on the toplevel directory.</div><div class="p" id="_1785">For example, if <code>ourbigbook.tex</code> contains:<div class="code" id="_1786"><div><pre><code>\newcommand{\foo}[0]{bar}</code></pre></div></div>then from any <code>.bigb</code> file we in the project can use:<div class="code" id="_1787"><div><pre><code>$$
\foo
$$</code></pre></div></div></div><div class="p" id="_1788">Note however that this is not portable to <a href="#ourbigbook-web">OurBigBook Web</a> and will likely never be, as we want Web source to be reusable across authors. So the ony way to avoid macro definition conflicts would be to have a namespace system in place, which sounds hard/impossible.</div><div class="p" id="_1789">Ideally, you should only use this as a temporary mechanism while you make a pull request to modify the <a href="#built-in-latex-macros">built-in math macros</a> :-)</div><div class="h" id="inline-user-defined-latex-macros"><div class="notnav"><h6 data-level="7"><a href="inline-user-defined-latex-macros">Inline user-defined LaTeX macros</a></h6><span class="hover-meta"> <a class="split" href="inline-user-defined-latex-macros"></a><span class="metrics"><span class="wcntr"> Words: 176</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#user-defined-latex-macros" class="u"> User-defined LaTeX macros</a><a href="#_toc/inline-user-defined-latex-macros" class="toc"></a></div></nav></div><div class="p" id="_1790">Besides using <a href="#ourbigbook-tex"><code>ourbigbook.tex</code></a>, you can also define your own math macros directly in the source code.</div><div class="p" id="_1791">This is generally fragile however because it doesn't work:<div class="list"><ul id="_1792"><li id="_1793">across <a href="#header">headers</a> on <a href="#ourbigbook-web">OurBigBook Web</a></li><li id="_1794">across different source files on <a href="#ourbigbook-cli">OurBigBook CLI</a>. That can be worked around with <a href="#ourbigbook-tex"><code>ourbigbook.tex</code></a> on CLI, but <a href="#ourbigbook-tex"><code>ourbigbook.tex</code></a> does not work on Web either.</li></ul></div></div><div class="p" id="_1795">If you still want to do it for some reason, first create an invisible block (with <code>{show=0}</code>) defining with a <code>\newcommand</code> definition:<div class="code" id="_1796"><div><pre><code>$$
\newcommand{\foo}[0]{bar}
$${show=0}</code></pre></div></div><div class="p" id="_1797">which renders as:</div><div><blockquote id="_1798"></blockquote></div>We make it invisible because this block only contains KaTeX definitions, and should not render to anything.</div><div class="p" id="_1800">Then the second math block uses those definitions:<div class="code" id="_1801"><div><pre><code>$$
\foo
$$</code></pre></div></div><div class="p" id="_1802">which renders as:</div><div><blockquote id="_1803"><div class="math" id="_1804"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">ba</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></div><div class="number"><a href="#_1804">(14)</a></div></div></div></div></blockquote></div></div><div class="p" id="_1805">Analogously with <code>\def</code>, definition:<div class="code" id="_1806"><div><pre><code>$$
\gdef\foogdef{bar}
$${show=0}</code></pre></div></div><div class="p" id="_1807">which renders as:</div><div><blockquote id="_1808"></blockquote></div>and the second block using it:<div class="code" id="_1810"><div><pre><code>$$
\foogdef
$$</code></pre></div></div><div class="p" id="_1811">which renders as:</div><div><blockquote id="_1812"><div class="math" id="_1813"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">ba</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></div><div class="number"><a href="#_1813">(15)</a></div></div></div></div></blockquote></div></div><div class="p" id="_1814">And just to test that <code>{show=1}</code> actually shows, although it is useless, and that <code>{show=0}</code> skips incrementing the equation count:<div class="code" id="_1815"><div><pre><code>$$1 + 1$${show=1}
$$2 + 2$${show=0}
$$3 + 3$${show=1}</code></pre></div></div><div class="p" id="_1816">which renders as:</div><div><blockquote id="_1817"><div class="p" id="_1818"><div class="math" id="_1819"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></div><div class="number"><a href="#_1819">(16)</a></div></div></div></div><div class="math" id="_1821"><div><div class="equation"><div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span></div><div class="number"><a href="#_1821">(17)</a></div></div></div></div></div></blockquote></div></div><div class="h" id="ourbigbookexample"><div class="notnav"><h4><a href="ourbigbookexample"><code>\OurBigBookExample</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbookexample"></a><span class="metrics"><span class="wcntr"> Words: 57</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/ourbigbookexample" class="toc"></a></div></nav></div><div class="p" id="_1822">Shows both the OurBigBook code and its rendered output, e.g.:<div class="code" id="_1823"><div><pre><code>\OurBigBookExample[[
Some `ineline` code.
]]</code></pre></div></div><div class="p" id="_1824">which renders as:</div><div><blockquote id="_1825"><div class="p" id="_1826"><div class="code" id="_1827"><div><pre><code>Some `ineline` code.</code></pre></div></div><div class="p" id="_1828">which renders as:</div><div><blockquote id="_1829"><div class="p" id="_1830">Some <code>ineline</code> code.</div></blockquote></div></div></blockquote></div></div><div class="p" id="_1831">Its input should be thought of as a literal code string, and it then injects the rendered output in the document.</div><div class="p" id="_1832">This macro is used extensively in the OurBigBook documentation.</div><div class="h" id="paragraph"><div class="notnav"><h4><a href="paragraph">Paragraph <span class="meta">(<code>\P</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="paragraph"></a><span class="metrics"><span class="wcntr"> Words: 162</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/paragraph" class="toc"></a><span class="tags"> Tags: <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_1835">The <a href="#macro-shorthand-syntax">shorthand</a> syntax is simply to leave a blank line with two consecutive newlines. For example:<div class="code" id="_1836"><div><pre><code>Paragraph 1.

Paragraph 2.</code></pre></div></div><div class="p" id="_1837">which renders as:</div><div><blockquote id="_1838"><div class="p" id="_1839">Paragraph 1.</div><div class="p" id="_1840">Paragraph 2.</div></blockquote></div></div><div class="p" id="_1841">Equivalently however, you can use an explicit <code>\P</code> macros as well, which is required for example to add properties to a paragraph, e.g.:<div class="code" id="_1842"><div><pre><code>\P{id=paragraph-1}[Paragraph 1]
\P{id=paragraph-2}[Paragraph 2]</code></pre></div></div><div class="p" id="_1843">which renders as:</div><div><blockquote id="_1844"><div class="p" id="_1845"><div id="paragraph-1"><div><div class="caption"><a href="#paragraph-1"><span class="caption-prefix">P 1</span></a></div><div>Paragraph 1</div></div></div><div id="paragraph-2"><div><div class="caption"><a href="#paragraph-2"><span class="caption-prefix">P 2</span></a></div><div>Paragraph 2</div></div></div></div></blockquote></div></div><div class="p" id="_1846">Paragraphs are created automatically inside <a href="#macro-argument">macro argument</a> whenever a double newline appears.</div><div class="p" id="_1847">Note that OurBigBook paragraphs render in HTML as <code>div</code> with <code>class="p"</code> and not as <code>p</code>. This means that you can add basically anything inside them, e.g. a list:<div class="code" id="_1848"><div><pre><code>My favorite list is:
\Ul[
\li[aa]
\li[bb]
]
because it is simple.</code></pre></div></div>which renders as a single paragraph.</div><div class="p" id="_1849">One major advantage of this, is that when writing documentation, you often want to keep lists or code blocks inside a given paragraph, so that it is easy to reference the entire paragraph with an ID. Think for example of paragraphs in the C++ standard.</div><div class="h" id="passthrough"><div class="notnav"><h4><a href="passthrough">Passthrough <span class="meta">(<code>\Passthrough</code>, <code>\passthrough</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="passthrough"></a><span class="metrics"><span class="wcntr"> Words: 47</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/passthrough" class="toc"></a></div></nav></div><div class="p" id="_1851">Dumps its contents directly into the rendered output.</div><div class="p" id="_1852">This construct is not XSS safe, see: <a href="#unsafexss">Section "unsafeXss"</a>.</div><div class="p" id="_1853">Here for example we define a paragraph in raw HTML:<div class="code" id="_1854"><div><pre><code>\Passthrough[[
&lt;p&gt;Hello &lt;b&gt;raw&lt;/b&gt; HTML!&lt;/p&gt;
]]</code></pre></div></div><div class="p" id="_1855">which renders as:</div><div><blockquote id="_1856"><div class="float-wrap"><p>Hello <b>raw</b> HTML!</p></div></blockquote></div></div><div class="p" id="_1858">And for an inline passthrough:<div class="code" id="_1859"><div><pre><code>Hello \passthrough[[&lt;b&gt;raw&lt;/b&gt;]] world!</code></pre></div></div><div class="p" id="_1860">which renders as:</div><div><blockquote id="_1861"><div class="p" id="_1862">Hello <b>raw</b> world!</div></blockquote></div></div><div class="h" id="quotation"><div class="notnav"><h4><a href="quotation">Quotation <span class="meta">(<code>\Q</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="quotation"></a><span class="metrics"><span class="wcntr"> Words: 329</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/quotation" class="toc"></a><span class="tags"> Tags: <a href="#block-macro">Block macro</a>, <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_1866"><a href="#macro-shorthand-syntax">Explicit macro</a>:</div><div class="p" id="_1867"><div class="code" id="_1868"><div><pre><code>And so he said:

\Q[
Something very smart

And with multiple paragraphs.
]

and it was great.</code></pre></div></div><div class="p" id="_1869">which renders as:</div><div><blockquote id="_1870"><div class="p" id="_1871">And so he said:</div><div><blockquote id="_1872"><div class="p" id="_1873">Something very smart</div><div class="p" id="_1874">And with multiple paragraphs.</div></blockquote></div><div class="p" id="_1875">and it was great.</div></blockquote></div></div><div class="p" id="_1876"><a href="#macro-shorthand-syntax">Implicit syntax</a>:</div><div class="p" id="_1877"><div class="code" id="_1878"><div><pre><code>And so he said:

&gt; Something very smart

  And with multiple paragraphs.

and it was great.</code></pre></div></div><div class="p" id="_1879">which renders as:</div><div><blockquote id="_1880"><div class="p" id="_1881">And so he said:</div><div><blockquote id="_1882"><div class="p" id="_1883">Something very smart</div><div class="p" id="_1884">And with multiple paragraphs.</div></blockquote></div><div class="p" id="_1885">and it was great.</div></blockquote></div></div><div class="h" id="q-argument"><div class="notnav"><h5><a href="q-argument"><code>\Q</code> argument</a></h5><span class="hover-meta"> <a class="split" href="q-argument"></a><span class="metrics"><span class="wcntr"> Words: 258</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#quotation" class="u"> Quotation</a><a href="#_toc/q-argument" class="toc"></a></div></nav></div><div class="h" id="q-description-argument"><div class="notnav"><h6><a href="q-description-argument"><code>\Q</code> <code>description</code> argument</a></h6><span class="hover-meta"> <a class="split" href="q-description-argument"></a><span class="metrics"><span class="wcntr"> Words: 162</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#q-argument" class="u"> <code>\Q</code> argument</a><a href="#_toc/q-description-argument" class="toc"></a><span class="tags"> Tags: <a href="#description-argument"><code>description</code> argument</a></span></div></nav></div><div class="p" id="_1887">See: <a href="#description-argument">Section "<code>description</code> argument"</a>.</div><div class="p" id="_1888">Example with <a href="#macro-shorthand-syntax">explicit macro</a>:</div><div class="p" id="_1889"><div class="code" id="_1890"><div><pre><code>See the: &lt;quote Hamlet what we are&gt;.

\Q[We know what we are, but not what we may be.]
{title=Hamlet what we are}
{description=This quote refers to human's inability to know their own potential, despite understanding their current abilities.}</code></pre></div></div><div class="p" id="_1891">which renders as:</div><div><blockquote id="_1892"><div class="p" id="_1893">See the: <a href="#quote-hamlet-what-we-are">Quote 1. "Hamlet what we are"</a>.</div><div><div id="quote-hamlet-what-we-are"><div><div class="caption"><a href="#quote-hamlet-what-we-are"><span class="caption-prefix">Quote 1. </span></a><div class="title">Hamlet what we are</div>. This quote refers to human's inability to know their own potential, despite understanding their current abilities.</div><blockquote>We know what we are, but not what we may be.</blockquote></div></div></div></blockquote></div></div><div class="p" id="_1894">Example with <a href="#macro-shorthand-syntax">implicit syntax</a>:</div><div class="p" id="_1895"><div class="code" id="_1896"><div><pre><code>See the: &lt;quote Hamlet what we are implicit&gt;.

&gt; We know what we are, but not what we may be.
{title=Hamlet what we are implicit}
{description=This quote refers to human's inability to know their own potential, despite understanding their current abilities.}</code></pre></div></div><div class="p" id="_1897">which renders as:</div><div><blockquote id="_1898"><div class="p" id="_1899">See the: <a href="#quote-hamlet-what-we-are-implicit">Quote 2. "Hamlet what we are implicit"</a>.</div><div><div id="quote-hamlet-what-we-are-implicit"><div><div class="caption"><a href="#quote-hamlet-what-we-are-implicit"><span class="caption-prefix">Quote 2. </span></a><div class="title">Hamlet what we are implicit</div>. This quote refers to human's inability to know their own potential, despite understanding their current abilities.</div><blockquote>We know what we are, but not what we may be.</blockquote></div></div></div></blockquote></div></div><div class="h" id="q-title-argument"><div class="notnav"><h6><a href="q-title-argument"><code>\Q</code> <code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="q-title-argument"></a><span class="metrics"><span class="wcntr"> Words: 96</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#q-argument" class="u"> <code>\Q</code> argument</a><a href="#_toc/q-title-argument" class="toc"></a><span class="tags"> Tags: <a href="#title-argument"><code>title</code> argument</a></span></div></nav></div><div class="p" id="_1901">See: <a href="#title-argument">Section "<code>title</code> argument"</a>.</div><div class="p" id="_1902">Example with <a href="#macro-shorthand-syntax">explicit macro</a>:</div><div class="p" id="_1903"><div class="code" id="_1904"><div><pre><code>See the: &lt;quote Julius Caesar star&gt;.

\Q[The fault, dear Brutus, is not in our stars, but in ourselves.]
{title=Julius Caesar star}</code></pre></div></div><div class="p" id="_1905">which renders as:</div><div><blockquote id="_1906"><div class="p" id="_1907">See the: <a href="#quote-julius-caesar-star">Quote 3. "Julius Caesar star"</a>.</div><div><div id="quote-julius-caesar-star"><div><div class="caption"><a href="#quote-julius-caesar-star"><span class="caption-prefix">Quote 3. </span></a><div class="title">Julius Caesar star</div>. </div><blockquote>The fault, dear Brutus, is not in our stars, but in ourselves.</blockquote></div></div></div></blockquote></div></div><div class="p" id="_1908">Example with <a href="#macro-shorthand-syntax">implicit syntax</a>:</div><div class="p" id="_1909"><div class="code" id="_1910"><div><pre><code>See the: &lt;quote Julius Caesar star implicit&gt;.

&gt; The fault, dear Brutus, is not in our stars, but in ourselves.
{title=Julius Caesar star implicit}</code></pre></div></div><div class="p" id="_1911">which renders as:</div><div><blockquote id="_1912"><div class="p" id="_1913">See the: <a href="#quote-julius-caesar-star-implicit">Quote 4. "Julius Caesar star implicit"</a>.</div><div><div id="quote-julius-caesar-star-implicit"><div><div class="caption"><a href="#quote-julius-caesar-star-implicit"><span class="caption-prefix">Quote 4. </span></a><div class="title">Julius Caesar star implicit</div>. </div><blockquote>The fault, dear Brutus, is not in our stars, but in ourselves.</blockquote></div></div></div></blockquote></div></div><div class="h" id="table"><div class="notnav"><h4><a href="table">Table <span class="meta">(<code>|| </code>, <code>| </code>, <code>\Table</code>, <code>\Tr</code>, <code>\Th</code> and <code>\Td</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="table"></a><span class="metrics"><span class="wcntr"> Words: 578</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/table" class="toc"></a><span class="tags"> Tags: <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_1916">The <a href="#macro-shorthand-syntax">shorthand syntax</a> marks:<div class="list"><ul id="_1917"><li id="_1918">headers with <code>|| </code> (pipe, pipe space) at the start of a line</li><li id="_1919">regular cells with <code>| </code> (pipe, space) at the start of a line</li><li id="_1920">separates rows with double newline</li></ul></div>For example:<div class="code" id="_1921"><div><pre><code>|| Header 1
|| Header 2

| 1 1
| 1 2

| 2 1
| 2 2</code></pre></div></div><div class="p" id="_1922">which renders as:</div><div><blockquote id="_1923"><div class="table" id="_1924"><div><table><thead><tr id="_1925"><th id="_1926">Header 1</th><th id="_1927">Header 2</th></tr></thead><tbody><tr id="_1928"><td id="_1929">1 1</td><td id="_1930">1 2</td></tr><tr id="_1931"><td id="_1932">2 1</td><td id="_1933">2 2</td></tr></tbody></table></div></div></blockquote></div>Empty cells are allowed without the trailing space however:<div class="code" id="_1934"><div><pre><code>| 1 1
|
| 1 3

| 2 1
|
| 2 3</code></pre></div></div><div class="p" id="_1935">which renders as:</div><div><blockquote id="_1936"><div class="table" id="_1937"><div><table><tbody><tr id="_1938"><td id="_1939">1 1</td><td id="_1940"></td><td id="_1941">1 3</td></tr><tr id="_1942"><td id="_1943">2 1</td><td id="_1944"></td><td id="_1945">2 3</td></tr></tbody></table></div></div></blockquote></div></div><div class="p" id="_1946">Equivalent fully explicit version:<div class="code" id="_1947"><div><pre><code>\Table[
\Tr[
  \Th[Header 1]
  \Th[Header 2]
]
\Tr[
  \Td[1 1]
  \Td[1 2]
]
\Tr[
  \Td[2 1]
  \Td[2 2]
]
]</code></pre></div></div><div class="p" id="_1948">which renders as:</div><div><blockquote id="_1949"><div class="table" id="_1950"><div><table><thead><tr id="_1951"><th id="_1952">Header 1</th><th id="_1953">Header 2</th></tr></thead><tbody><tr id="_1954"><td id="_1955">1 1</td><td id="_1956">1 2</td></tr><tr id="_1957"><td id="_1958">2 1</td><td id="_1959">2 2</td></tr></tbody></table></div></div></blockquote></div>Any white space indentation inside an explicit <code>\Tr</code> can make the code more readable, and is automatically removed from final output due to <a href="#remove-whitespace-children"><code>remove_whitespace_children</code></a> which is set for <code>\Table</code>.</div><div class="p" id="_1960">To pass further arguments to an implicit table such as <code>title</code> or <code>id</code>, you need to use an explicit <code>table</code> macro as in: <a href="#table-my-table">Table 3. "My table title"</a>.<div class="code" id="_1961"><div><pre><code>\Table
{title=My table title}
{id=table-my-table}
[
|| Header 1
|| Header 2

| 1 1
| 1 2

| 2 1
| 2 2
]</code></pre></div></div><div class="p" id="_1962">which renders as:</div><div><blockquote id="_1963"><div class="table" id="table-my-table"><div><div class="caption"><a href="#table-my-table"><span class="caption-prefix">Table 3. </span></a><div class="title">My table title</div>. </div><table><thead><tr id="_1964"><th id="_1965">Header 1</th><th id="_1966">Header 2</th></tr></thead><tbody><tr id="_1967"><td id="_1968">1 1</td><td id="_1969">1 2</td></tr><tr id="_1970"><td id="_1971">2 1</td><td id="_1972">2 2</td></tr></tbody></table></div></div></blockquote></div>We would like to remove that explicit toplevel requirement as per: <a href="https://github.com/ourbigbook/ourbigbook/issues/186">github.com/ourbigbook/ourbigbook/issues/186</a> The rules of when the caption shows up or not similar to those of <a href="#image">images</a> as mentioned at <a href="#image-caption">Section "Image caption"</a>.</div><div class="p" id="_1973">Multiple source lines, including paragraphs, can be added to a single cell with shorthand syntax by indenting the cell with exactly two spaces just as for <a href="#list">lists</a>, e.g.:<div class="code" id="_1974"><div><pre><code>|| h1
|| h2
|| h3

  h3 2

| 11
| 12

  12 2
| 13

| 21
| 22
| 23</code></pre></div></div><div class="p" id="_1975">which renders as:</div><div><blockquote id="_1976"><div class="table" id="_1977"><div><table><thead><tr id="_1978"><th id="_1979">h1</th><th id="_1980">h2</th><th id="_1981"><div class="p" id="_1982">h3</div><div class="p" id="_1983">h3 2</div></th></tr></thead><tbody><tr id="_1984"><td id="_1985">11</td><td id="_1986"><div class="p" id="_1987">12</div><div class="p" id="_1988">12 2</div></td><td id="_1989">13</td></tr><tr id="_1990"><td id="_1991">21</td><td id="_1992">22</td><td id="_1993">23</td></tr></tbody></table></div></div></blockquote></div>Arbitrarily complex nested constructs may be used, e.g. a table inside a list inside table:<div class="code" id="_1994"><div><pre><code>| 00
| 01

  * l1
  * l2

    | 20
    | 21

    | 30
    | 31

| 10
| 11</code></pre></div></div><div class="p" id="_1995">which renders as:</div><div><blockquote id="_1996"><div class="table" id="_1997"><div><table><tbody><tr id="_1998"><td id="_1999">00</td><td id="_2000"><div class="p" id="_2001">01</div><div class="list"><ul id="_2002"><li id="_2003">l1</li><li id="_2004"><div class="p" id="_2005">l2</div><div class="table" id="_2006"><div><table><tbody><tr id="_2007"><td id="_2008">20</td><td id="_2009">21</td></tr><tr id="_2010"><td id="_2011">30</td><td id="_2012">31</td></tr></tbody></table></div></div></li></ul></div></td></tr><tr id="_2013"><td id="_2014">10</td><td id="_2015">11</td></tr></tbody></table></div></div></blockquote></div></div><div class="p" id="_2016">And now a table outside of <a href="#ourbigbookexample"><code>\OurBigBookExample</code></a> to test how it looks directly under <a href="#toplevel">the <code>\Toplevel</code> implicit macro</a>:</div><div class="table" id="table-my-table-title"><div><div class="caption"><a href="#table-my-table-title"><span class="caption-prefix">Table 4. </span></a><div class="title">My table title</div>. </div><table><thead><tr id="_2017"><th id="_2018">Header 1</th><th id="_2019">Header 2</th></tr></thead><tbody><tr id="_2020"><td id="_2021">1 1</td><td id="_2022">1 2</td></tr><tr id="_2023"><td id="_2024">2 1</td><td id="_2025">2 2</td></tr></tbody></table></div></div><div class="p" id="_2026">And a fully shorthand one:</div><div class="table" id="_2027"><div><table><thead><tr id="_2028"><th id="_2029">Header 1</th><th id="_2030">Header 2</th></tr></thead><tbody><tr id="_2031"><td id="_2032">1 1</td><td id="_2033">1 2</td></tr><tr id="_2034"><td id="_2035">2 1</td><td id="_2036">2 2</td></tr></tbody></table></div></div><div class="p" id="_2037">And now a larger one to see how the style is looking:</div><div class="table" id="_2038"><div><table><thead><tr id="_2039"><th id="_2040">Header 1</th><th id="_2041">Header 2</th><th id="_2042">Header 3</th><th id="_2043">Header 4</th></tr></thead><tbody><tr id="_2044"><td id="_2045">1 1</td><td id="_2046">1 2</td><td id="_2047">1 3</td><td id="_2048">1 4</td></tr><tr id="_2049"><td id="_2050">2 1</td><td id="_2051">2 2</td><td id="_2052">2 3</td><td id="_2053">2 4</td></tr><tr id="_2054"><td id="_2055">3 1</td><td id="_2056">3 2</td><td id="_2057">3 3</td><td id="_2058">3 4</td></tr><tr id="_2059"><td id="_2060">4 1</td><td id="_2061">4 2</td><td id="_2062">4 3</td><td id="_2063">4 4</td></tr><tr id="_2064"><td id="_2065">5 1</td><td id="_2066">5 2</td><td id="_2067">5 3</td><td id="_2068">5 4</td></tr><tr id="_2069"><td id="_2070">6 1</td><td id="_2071">6 2</td><td id="_2072">6 3</td><td id="_2073">6 4</td></tr><tr id="_2074"><td id="_2075">7 1</td><td id="_2076">7 2</td><td id="_2077">7 3</td><td id="_2078">7 4</td></tr><tr id="_2079"><td id="_2080">8 1</td><td id="_2081">8 2</td><td id="_2082">8 3</td><td id="_2083">8 4</td></tr></tbody></table></div></div><div class="h" id="table-sorting"><div class="notnav"><h5><a href="table-sorting">Table sorting</a></h5><span class="hover-meta"> <a class="split" href="table-sorting"></a><span class="metrics"><span class="wcntr"> Words: 65</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#table" class="u"> Table</a><a href="#_toc/table-sorting" class="toc"></a></div></nav></div><div class="p" id="_2084">JavaScript interactive on-click table sorting is enabled by default, try it out by clicking on the header row:<div class="code" id="_2085"><div><pre><code>|| String col
|| Integer col
|| Float col

| ab
| 2
| 10.1

| a
| 10
| 10.2

| c
| 2
| 3.4</code></pre></div></div><div class="p" id="_2086">which renders as:</div><div><blockquote id="_2087"><div class="table" id="_2088"><div><table><thead><tr id="_2089"><th id="_2090">String col</th><th id="_2091">Integer col</th><th id="_2092">Float col</th></tr></thead><tbody><tr id="_2093"><td id="_2094">ab</td><td id="_2095">2</td><td id="_2096">10.1</td></tr><tr id="_2097"><td id="_2098">a</td><td id="_2099">10</td><td id="_2100">10.2</td></tr><tr id="_2101"><td id="_2102">c</td><td id="_2103">2</td><td id="_2104">3.4</td></tr></tbody></table></div></div></blockquote></div>Powered by: <a href="https://github.com/tristen/tablesort">github.com/tristen/tablesort</a></div><div class="h" id="table-argument"><div class="notnav"><h5><a href="table-argument"><code>\Table</code> argument</a></h5><span class="hover-meta"> <a class="split" href="table-argument"></a><span class="metrics"><span class="wcntr"> Words: 4</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#table" class="u"> Table</a><a href="#_toc/table-argument" class="toc"></a></div></nav></div><div class="h" id="table-description-argument"><div class="notnav"><h6><a href="table-description-argument"><code>\Table</code> <code>description</code> argument</a></h6><span class="hover-meta"> <a class="split" href="table-description-argument"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#table-argument" class="u"> <code>\Table</code> argument</a><a href="#_toc/table-description-argument" class="toc"></a><span class="tags"> Tags: <a href="#description-argument"><code>description</code> argument</a></span></div></nav></div><div class="p" id="_2106">See: <a href="#description-argument">Section "<code>description</code> argument"</a>.</div><div class="h" id="table-title-argument"><div class="notnav"><h6><a href="table-title-argument"><code>\Table</code> <code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="table-title-argument"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#table-argument" class="u"> <code>\Table</code> argument</a><a href="#_toc/table-title-argument" class="toc"></a><span class="tags"> Tags: <a href="#title-argument"><code>title</code> argument</a></span></div></nav></div><div class="p" id="_2108">See: <a href="#title-argument">Section "<code>title</code> argument"</a>.</div><div class="h" id="video"><div class="notnav"><h4><a href="video">Video <span class="meta">(<code>\Video</code>)</span></a></h4><span class="hover-meta"> <a class="split" href="video"></a><span class="metrics"><span class="wcntr"> Words: 511</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/video" class="toc"></a></div></nav></div><div class="p" id="_2110">Very analogous to <a href="#image">images</a>, only differences will be documented here.</div><div class="p" id="_2111">In the case of videos, <a href="#where-to-store-images">where to store images</a> becomes even more critical since videos are even larger than images, such that the following storage approaches are impractical off the bat:<div class="list"><ul id="_2112"><li id="_2113"><a href="#store-images-inside-the-repository-itself">store images inside the repository itself</a></li><li id="_2114"><a href="#store-images-in-a-separate-media-repository">store images in a separate media repository</a></li></ul></div>As a result, then <a href="https://commons.wikimedia.org">Wikimedia Commons</a> is one of the best options <a href="#store-images-in-wikimedia-commons">much like for images</a>:<div class="code" id="_2115"><div><pre><code>\Video[https://upload.wikimedia.org/wikipedia/commons/8/85/Vacuum_pump_filter_cut_and_place_in_eppendorf.webm]
{id=sample-video-in-wikimedia-commons}
{title=Nice sample video stored in Wikimedia Commons}
{start=5}</code></pre></div></div><div class="p" id="_2116">which renders as:</div><div><blockquote id="_2117"><div class="figure"><figure id="sample-video-in-wikimedia-commons"><video src="https://upload.wikimedia.org/wikipedia/commons/8/85/Vacuum_pump_filter_cut_and_place_in_eppendorf.webm#t=5" height="315" preload="none" controls></video><figcaption><a href="#sample-video-in-wikimedia-commons"><span class="caption-prefix">Video 6. </span></a><div class="title">Nice sample video stored in Wikimedia Commons</div>. <a href="https://commons.wikimedia.org/wiki/File:Vacuum_pump_filter_cut_and_place_in_eppendorf.webm">Source</a>. </figcaption></figure></div></blockquote></div>We also handle more complex transcoded video URLs just fine:<div class="code" id="_2118"><div><pre><code>\Video[https://upload.wikimedia.org/wikipedia/commons/transcoded/1/19/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv.480p.vp9.webm]
{id=sample-video-in-wikimedia-commons-transcoded}
{title=Nice sample video stored in Wikimedia Commons transcoded}</code></pre></div></div><div class="p" id="_2119">which renders as:</div><div><blockquote id="_2120"><div class="figure"><figure id="sample-video-in-wikimedia-commons-transcoded"><video src="https://upload.wikimedia.org/wikipedia/commons/transcoded/1/19/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv.480p.vp9.webm" height="315" preload="none" controls></video><figcaption><a href="#sample-video-in-wikimedia-commons-transcoded"><span class="caption-prefix">Video 7. </span></a><div class="title">Nice sample video stored in Wikimedia Commons transcoded</div>. <a href="https://commons.wikimedia.org/wiki/File:Scientific_Industries_Inc_Vortex-Genie_2_running.ogv">Source</a>. </figcaption></figure></div></blockquote></div>Commons is better than YouTube if your content is on-topic there because:<div class="list"><ul id="_2121"><li id="_2122">they have no ads</li><li id="_2123">it allows download of the videos: <a href="https://www.quora.com/Can-I-download-Creative-Commons-licensed-YouTube-videos-to-edit-them-and-use-them">www.quora.com/Can-I-download-Creative-Commons-licensed-YouTube-videos-to-edit-them-and-use-them</a>.</li><li id="_2124">it makes it easier for other users to find and re-use your videos</li></ul></div></div><div class="p" id="_2125">If your video does not fit the above Wikimedia Commons requirements, YouTube could be a good bet. OurBigBook <a href="https://github.com/ourbigbook/ourbigbook/issues/50">automatically detects YouTube URLs</a> for you, so the following should just work:<div class="code" id="_2126"><div><pre><code>\Video[https://youtube.com/watch?v=YeFzeNAHEhU&amp;t=38]
{id=sample-video-from-youtube-implicit-youtube}
{title=Nice sample video embedded from YouTube implicit from `youtube.com` URL}</code></pre></div></div><div class="p" id="_2127">which renders as:</div><div><blockquote id="_2128"><div class="figure"><figure id="sample-video-from-youtube-implicit-youtube"><div class="float-wrap"><iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/YeFzeNAHEhU?start=38" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#sample-video-from-youtube-implicit-youtube"><span class="caption-prefix">Video 8. </span></a><div class="title">Nice sample video embedded from YouTube implicit from <code>youtube.com</code> URL</div>. <a href="https://youtube.com/watch?v=YeFzeNAHEhU&amp;t=38">Source</a>. </figcaption></figure></div></blockquote></div>The <code>youtu.be</code> domain hack URLs also work;<div class="code" id="_2129"><div><pre><code>\Video[https://youtu.be/YeFzeNAHEhU?t=38]
{id=sample-video-from-youtube-implicit-youtu-be}
{title=Nice sample video embedded from YouTube implicit from `youtu.be` URL}</code></pre></div></div><div class="p" id="_2130">which renders as:</div><div><blockquote id="_2131"><div class="figure"><figure id="sample-video-from-youtube-implicit-youtu-be"><div class="float-wrap"><iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/YeFzeNAHEhU?start=38" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#sample-video-from-youtube-implicit-youtu-be"><span class="caption-prefix">Video 9. </span></a><div class="title">Nice sample video embedded from YouTube implicit from <code>youtu.be</code> URL</div>. <a href="https://youtu.be/YeFzeNAHEhU?t=38">Source</a>. </figcaption></figure></div></blockquote></div>Alternatively, you can reach the same result in a more explicit and minimal way by setting <code>{provider=youtube}</code> and the <a href="#video-start-argument"><code>start</code></a> arguments:<div class="code" id="_2132"><div><pre><code>\Video[YeFzeNAHEhU]{provider=youtube}
{id=sample-video-from-youtube-explicit}
{title=Nice sample video embedded from YouTube with explicit `youtube` argument}
{start=38}</code></pre></div></div><div class="p" id="_2133">which renders as:</div><div><blockquote id="_2134"><div class="figure"><figure id="sample-video-from-youtube-explicit"><div class="float-wrap"><iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/YeFzeNAHEhU?start=38" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#sample-video-from-youtube-explicit"><span class="caption-prefix">Video 10. </span></a><div class="title">Nice sample video embedded from YouTube with explicit <code>youtube</code> argument</div>. <a href="https://youtube.com/watch?v=YeFzeNAHEhU">Source</a>. </figcaption></figure></div></blockquote></div>When the <code>youtube</code> provider is selected, the Video address should only to contain the YouTube video ID, which shows in the YouTube URL for the video as:<div class="code" id="_2135"><div><pre><code>https://www.youtube.com/watch?v=&lt;video-id&gt;</code></pre></div></div>Remember that you can also enable the <code>youtube</code> provider by default on your <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> with:<div class="code" id="_2136"><div><pre><code>"media-provider" {
  "youtube": {"default-for": "video"}
}</code></pre></div></div></div><div class="p" id="_2137">But you can also use raw video files from any location that can serve them of course, e.g. here is one stored in this repository: <a href="#sample-video-in-repository">Video 11. "Nice sample video stored in this repository"</a>.<div class="code" id="_2138"><div><pre><code>\Video[Tank_man_side_hopping_in_front_of_some_tanks.mp4]
{id=sample-video-in-repository}
{title=Nice sample video stored in this repository}
{source=https://www.youtube.com/watch?v=YeFzeNAHEhU}
{start=3}</code></pre></div></div><div class="p" id="_2139">which renders as:</div><div><blockquote id="_2140"><div class="figure"><figure id="sample-video-in-repository"><video src="_raw/Tank_man_side_hopping_in_front_of_some_tanks.mp4#t=3" height="315" preload="none" controls></video><figcaption><a href="#sample-video-in-repository"><span class="caption-prefix">Video 11. </span></a><div class="title">Nice sample video stored in this repository</div>. <a href="https://www.youtube.com/watch?v=YeFzeNAHEhU">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="p" id="_2141">And as for images, setting <code>titleFromSrc</code> automatically calculates a title for you:<div class="code" id="_2142"><div><pre><code>\Video[Tank_man_side_hopping_in_front_of_some_tanks.mp4]
{titleFromSrc}
{source=https://www.youtube.com/watch?v=YeFzeNAHEhU}</code></pre></div></div><div class="p" id="_2143">which renders as:</div><div><blockquote id="_2144"><div class="figure"><figure id="video-tank-man-side-hopping-in-front-of-some-tanks"><video src="_raw/Tank_man_side_hopping_in_front_of_some_tanks.mp4" height="315" preload="none" controls></video><figcaption><a href="#video-tank-man-side-hopping-in-front-of-some-tanks"><span class="caption-prefix">Video 12. </span></a><div class="title">Tank man side hopping in front of some tanks.</div> <a href="https://www.youtube.com/watch?v=YeFzeNAHEhU">Source</a>. </figcaption></figure></div></blockquote></div></div><div class="h" id="video-lazy-loading"><div class="notnav"><h5><a href="video-lazy-loading">Video lazy loading</a></h5><span class="hover-meta"> <a class="split" href="video-lazy-loading"></a><span class="metrics"><span class="wcntr"> Words: 102</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#video" class="u"> Video</a><a href="#_toc/video-lazy-loading" class="toc"></a></div></nav></div><div class="p" id="_2145">Unlike <a href="#image-lazy-loading">image lazy loading</a>, we don't support video lazy loading yet because:<div class="list"><ul id="_2146"><li id="_2147">non-<code>youtube</code> videos use the <code>video</code> tag which has no <code>loading</code> property yet</li><li id="_2148"><code>youtube</code> videos are embedded with <code>iframe</code> and <code>iframe</code> has no <code>loading</code> property yet</li></ul></div></div><div class="p" id="_2149">Both of this cases could be worked around with JavaScript:<div class="list"><ul id="_2150"><li id="_2151"><div class="p" id="_2152">non-<code>youtube</code>: set <code>src</code> from JavaScript as shown for images: <a href="https://stackoverflow.com/questions/2321907/how-do-you-make-images-load-lazily-only-when-they-are-in-the-viewport/57389607#57389607">stackoverflow.com/questions/2321907/how-do-you-make-images-load-lazily-only-when-they-are-in-the-viewport/57389607#57389607</a>.</div><div class="p" id="_2153">But this breaks page semantics however, we don't know how to work around that</div></li><li id="_2154"><code>youtube</code> videos: same as above for the <code>iframe</code>, but this should be less problematic since YouTube videos are not viewable without JavaScript anyways, and who cares about <code>iframe</code> semantics?</li></ul></div></div><div class="h" id="video-argument"><div class="notnav"><h5><a href="video-argument"><code>\Video</code> argument</a></h5><span class="hover-meta"> <a class="split" href="video-argument"></a><span class="metrics"><span class="wcntr"> Words: 21</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#video" class="u"> Video</a><a href="#_toc/video-argument" class="toc"></a></div></nav></div><div class="h" id="video-description-argument"><div class="notnav"><h6><a href="video-description-argument"><code>\Video</code> <code>description</code> argument</a></h6><span class="hover-meta"> <a class="split" href="video-description-argument"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#video-argument" class="u"> <code>\Video</code> argument</a><a href="#_toc/video-description-argument" class="toc"></a><span class="tags"> Tags: <a href="#description-argument"><code>description</code> argument</a></span></div></nav></div><div class="p" id="_2156">See: <a href="#description-argument">Section "<code>description</code> argument"</a>.</div><div class="h" id="video-title-argument"><div class="notnav"><h6><a href="video-title-argument"><code>\Video</code> <code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="video-title-argument"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#video-argument" class="u"> <code>\Video</code> argument</a><a href="#_toc/video-title-argument" class="toc"></a><span class="tags"> Tags: <a href="#title-argument"><code>title</code> argument</a></span></div></nav></div><div class="p" id="_2158">See: <a href="#title-argument">Section "<code>title</code> argument"</a>.</div><div class="h" id="video-start-argument"><div class="notnav"><h6><a href="video-start-argument"><code>\Video</code> <code>start</code> argument</a></h6><span class="hover-meta"> <a class="split" href="video-start-argument"></a><span class="metrics"><span class="wcntr"> Words: 17</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#video-argument" class="u"> <code>\Video</code> argument</a><a href="#_toc/video-start-argument" class="toc"></a></div></nav></div><div class="p" id="_2159">The time to start playing the video at in seconds. Works for both <code>youtube</code> and non-YouTube videos.</div><div class="h" id="internal-link"><div class="notnav"><h4><a href="internal-link">Internal link <span class="meta">(<code>\x</code> macro)</span></a></h4><span class="hover-meta"> <a class="split" href="internal-link"></a><span class="metrics"><span class="wcntr"> Words: 4k</span><span class="dcnt"> Articles: 32</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro" class="u"> Macro</a><a href="#_toc/internal-link" class="toc"></a><span class="tags"> Tags: <a href="#macro-with-shorthand-syntax">Macro with shorthand syntax</a></span></div></nav></div><div class="p" id="_2162">Every macro in OurBigBook can have an optional <code>id</code> and many also have a reserved <code>title</code> property.</div><div class="p" id="_2163">When a macro in the document has a <code>title</code> argument but no <code>id</code> argument given, get an auto-generated ID from the title: <a href="#automatic-id-from-title">automatic ID from title</a>.</div><div class="p" id="_2164">Usually, the most convenient way to write <a href="#internal-link">internal links</a> is with the shorthand syntax with delimited angled braces:<div class="code" id="_2165"><div><pre><code>&lt;internal links&gt; are awesome.</code></pre></div></div><div class="p" id="_2166">which renders as:</div><div><blockquote id="_2167"><div class="p" id="_2168"><a href="#internal-link">internal links</a> are awesome.</div></blockquote></div>More details at: <a href="#shorthand-internal-link">shorthand internal link</a>.</div><div class="p" id="_2169">The sane equivalent to this is:<div class="code" id="_2170"><div><pre><code>\x[internal-link]{c}{p} are awesome section.</code></pre></div></div><div class="p" id="_2171">which renders as:</div><div><blockquote id="_2172"><div class="p" id="_2173"><a href="#internal-link">Internal links</a> are awesome section.</div></blockquote></div>Note how that is more verbose, especially because here we use both the <a href="#x-c-argument"><code>\x</code> <code>c</code> argument</a> and  <a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a> to capitalize and pluraize as desired.</div><div class="p" id="_2174">Another sane equivalent would be to add an explicit link body as in:<div class="code" id="_2175"><div><pre><code>\x[internal-link][Internal link] are awesome.</code></pre></div></div><div class="p" id="_2176">which renders as:</div><div><blockquote id="_2177"><div class="p" id="_2178"><a href="#internal-link">Internal link</a> are awesome.</div></blockquote></div></div><div class="h" id="shorthand-internal-link"><div class="notnav"><h5><a href="shorthand-internal-link">Shorthand internal link <span class="meta">(<code>&lt;&gt;</code>)</span></a></h5><span class="hover-meta"> <a class="split" href="shorthand-internal-link"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link" class="u"> Internal link</a><a href="#_toc/shorthand-internal-link" class="toc"></a><span class="tags"> Tags: <a href="#macro-shorthand-syntax">Shorthand macro syntax</a></span></div></nav></div><div class="h" id="shorthand-cross-reference"><div class="notnav"><h5><a href="shorthand-cross-reference">Shorthand cross reference <span class="meta">(<code>&lt;&gt;</code>)</span></a></h5><span class="hover-meta"> <a class="split" href="shorthand-cross-reference"></a><span class="metrics"><span class="wcntr"> Words: 118</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link" class="u"> Internal link</a><a href="#_toc/shorthand-cross-reference" class="toc"></a><span class="tags"> Tags: <a href="#macro-shorthand-syntax">Shorthand macro syntax</a></span></div></nav></div><div class="p" id="_2183">When you use an <a href="#shorthand-internal-link">shorthand internal link</a> (<code>&lt;&gt;</code>) such as in:<div class="code" id="_2184"><div><pre><code>&lt;Internal links&gt; are awesome.</code></pre></div></div><div class="p" id="_2185">which renders as:</div><div><blockquote id="_2186"><div class="p" id="_2187"><a href="#internal-link">Internal links</a> are awesome.</div></blockquote></div>it gets expanded exactly to the sane equivalent:<div class="code" id="_2188"><div><pre><code>\x[Internal links]{magic} are alwasome</code></pre></div></div>so we see that the <a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a> gets added. It is that argument that for example adds the missing <code>-</code>, and removes the pluralization to find the correct ID <code>internal-link</code>.  For more details, see the documentation of the <a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a>.</div><div class="p" id="_2189">Like other <a href="#macro-shorthand-syntax">shorthand</a> constructs, <a href="#shorthand-internal-link">shorthand internal links</a> are exactly equivalent to the sane version, so you can just add other arguments after the construct, e.g.:<div class="code" id="_2190"><div><pre><code>&lt;Internal links&gt;{full} are awesome.</code></pre></div></div><div class="p" id="_2191">which renders as:</div><div><blockquote id="_2192"><div class="p" id="_2193"><a href="#internal-link">Section "Internal link"</a> are awesome.</div></blockquote></div>which gets converted to exact the same as the sane:<div class="code" id="_2194"><div><pre><code>\x[internal-link]{full} are awesome.</code></pre></div></div><div class="p" id="_2195">which renders as:</div><div><blockquote id="_2196"><div class="p" id="_2197"><a href="#internal-link">Section "Internal link"</a> are awesome.</div></blockquote></div></div><div class="h" id="internal-link-title-inflection"><div class="notnav"><h5><a href="internal-link-title-inflection">Internal link title inflection</a></h5><span class="hover-meta"> <a class="split" href="internal-link-title-inflection"></a><span class="metrics"><span class="wcntr"> Words: 576</span><span class="dcnt"> Articles: 7</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link" class="u"> Internal link</a><a href="#_toc/internal-link-title-inflection" class="toc"></a></div></nav></div><div class="p" id="_2198">In most cases it is generally more convenient to simply use the <a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a> through <a href="#shorthand-internal-link">shorthand internal links</a> instead of the <code>c</code> and <code>p</code> arguments as described on the rest of this section, see also: <a href="#inflection-vs-magic">Section "Inflection vs magic"</a>.</div><div class="p" id="_2199">A common usage pattern is that we want to use <a href="#header">header</a> titles in <a href="#x-full-argument">non-full</a> <a href="#internal-link">internal links</a> as the definition of a concept without repeating the title, for example:<div class="code" id="_2200"><div><pre><code>== Dog

Cute animal.

\x[cats][Cats] are its natural enemies.

== Cats

This is the natural enemy of a \x[dog][dog].

\x[dog][Dogs] are cute, but they are still the enemy.

One example of a cat is \x[felix-the-cat].

=== Felix the Cat

Felix is not really a \x[cats][cat], just a carton character.</code></pre></div></div></div><div class="p" id="_2201">However, word <a href="https://en.wikipedia.org/wiki/Inflection">inflection</a> makes it much harder to avoid retyping the definition again.</div><div class="p" id="_2202">For example, in the previous example, without any further intelligent behaviour we would be forced to re-type <code>\x[dog][dog]</code> instead of the desired <code>\x[dog]</code>.</div><div class="p" id="_2203">OurBigBook can take care of some inflection cases for you.</div><div class="p" id="_2204">For capitalization, both headers and <a href="#internal-link">internal link</a> macros have the <code>c</code> <a href="#boolean-argument">boolean argument</a> which stands for "capitalized":<div class="list"><ul id="_2205"><li id="_2206"><div class="p" id="_2207">for headers, <code>c</code> means that the header title has fixed capitalization as given in the title, i.e.<div class="list"><ul id="_2208"><li id="_2209">if the title has a capital first character, it will always show as a capital, as is the case for most <a href="https://en.wikipedia.org/wiki/Proper_noun">proper noun</a></li><li id="_2210">if it is lower case, it will also always remain lower case, as is the case for some rare proper nouns, notably <a href="https://en.wikipedia.org/wiki/Arm_Holdings">the name of certain companies</a></li></ul></div></div><div class="p" id="_2211">This means that for such headers, <code>c</code> in the <code>x</code> has no effect. Maybe we should give an error in that case. But lazy now, send PR.</div></li><li id="_2212"><div class="p" id="_2213">for <a href="#internal-link">internal link</a> macros, <code>c</code> means that the first letter of the title should be capitalized.</div><div class="p" id="_2214">Using this option is required when you are starting a sentence with a non-proper noun.</div></li></ul></div>Capitalization is handled by a <a href="#javascript-case-conversion">JavaScript case conversion</a>.</div><div class="p" id="_2215">For pluralization, <a href="#internal-link">internal link</a> macros have the <code>p</code> <a href="#boolean-argument">boolean argument</a> which stands for "pluralize":<div class="list"><ul id="_2216"><li id="_2217">if given and true, this automatically pluralizes the last word of the target title by using the <a href="#blakeembrey-pluralize">blakeembrey/pluralize</a> library.</li><li id="_2218">if given and false, automatically singularize</li><li id="_2219">if not given, don't change the number of elements</li></ul></div>If your desired pluralization is any more complex than modifying the last word of the title, you must do it manually however.</div><div class="p" id="_2220">With those rules in mind, the previous OurBigBook example can be written with less repetition as:<div class="code" id="_2221"><div><pre><code>== Dog

Cute animal.

\x[cats]{c} are its natural enemies.

== Cats

This is the natural enemy of a \x[dog].

\x[dog]{p} are cute, but they are still the enemy.

One example of a cat is \x[Felix the Cat].

=== Felix the Cat
{c}

Felix is not really a \x[cats][cat], just a carton character.</code></pre></div></div></div><div class="p" id="_2222">If plural and capitalization don't handle your common desired inflections, you can also just create custom ones with the <a href="#h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a>.</div><div class="p" id="_2223">Now for a live example for quick and dirty interactive testing.</div><div class="h" id="internal-link-title-inflection-example"><div class="notnav"><h6><a href="internal-link-title-inflection-example">Internal link title inflection example</a></h6><span class="hover-meta"> <a class="split" href="internal-link-title-inflection-example"></a><span class="metrics"><span class="wcntr"> Words: 64</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link-title-inflection" class="u"> Internal link title inflection</a><a href="#_toc/internal-link-title-inflection-example" class="toc"></a></div></nav></div><div class="p" id="_2224"><div class="code" id="_2225"><div><pre><code>\x[inflection-example-not-proper]</code></pre></div></div><div class="p" id="_2226">which renders as:</div><div><blockquote id="_2227"><div class="p" id="_2228"><a href="#inflection-example-not-proper">inflection example not-proper</a></div></blockquote></div></div><div class="p" id="_2229"><div class="code" id="_2230"><div><pre><code>\x[inflection-example-not-proper]{c}</code></pre></div></div><div class="p" id="_2231">which renders as:</div><div><blockquote id="_2232"><div class="p" id="_2233"><a href="#inflection-example-not-proper">Inflection example not-proper</a></div></blockquote></div></div><div class="p" id="_2234"><div class="code" id="_2235"><div><pre><code>\x[inflection-example-not-proper]{full}</code></pre></div></div><div class="p" id="_2236">which renders as:</div><div><blockquote id="_2237"><div class="p" id="_2238"><a href="#inflection-example-not-proper">Section "Inflection example not-proper"</a></div></blockquote></div></div><div class="p" id="_2239"><div class="code" id="_2240"><div><pre><code>\x[inflection-example-proper]</code></pre></div></div><div class="p" id="_2241">which renders as:</div><div><blockquote id="_2242"><div class="p" id="_2243"><a href="#inflection-example-proper">Inflection example proper</a></div></blockquote></div></div><div class="p" id="_2244"><div class="code" id="_2245"><div><pre><code>\x[inflection-example-proper]{c}</code></pre></div></div><div class="p" id="_2246">which renders as:</div><div><blockquote id="_2247"><div class="p" id="_2248"><a href="#inflection-example-proper">Inflection example proper</a></div></blockquote></div></div><div class="p" id="_2249"><div class="code" id="_2250"><div><pre><code>\x[inflection-example-not-proper-lower]</code></pre></div></div><div class="p" id="_2251">which renders as:</div><div><blockquote id="_2252"><div class="p" id="_2253"><a href="#inflection-example-not-proper-lower">inflection example not-proper lower</a></div></blockquote></div></div><div class="p" id="_2254"><div class="code" id="_2255"><div><pre><code>\x[inflection-example-not-proper-lower]{c}</code></pre></div></div><div class="p" id="_2256">which renders as:</div><div><blockquote id="_2257"><div class="p" id="_2258"><a href="#inflection-example-not-proper-lower">Inflection example not-proper lower</a></div></blockquote></div></div><div class="p" id="_2259"><div class="code" id="_2260"><div><pre><code>\x[inflection-example-proper-lower]</code></pre></div></div><div class="p" id="_2261">which renders as:</div><div><blockquote id="_2262"><div class="p" id="_2263"><a href="#inflection-example-proper-lower">inflection example proper lower</a></div></blockquote></div></div><div class="p" id="_2264"><div class="code" id="_2265"><div><pre><code>\x[not-index]</code></pre></div></div><div class="p" id="_2266">which renders as:</div><div><blockquote id="_2267"><div class="p" id="_2268"><a href="not-index">not the index</a></div></blockquote></div></div><div class="p" id="_2269"><div class="code" id="_2270"><div><pre><code>\x[not-index]{c}</code></pre></div></div><div class="p" id="_2271">which renders as:</div><div><blockquote id="_2272"><div class="p" id="_2273"><a href="not-index">Not the index</a></div></blockquote></div></div><div class="p" id="_2274"><div class="code" id="_2275"><div><pre><code>\x[inflection-example-not-proper]{p}</code></pre></div></div><div class="p" id="_2276">which renders as:</div><div><blockquote id="_2277"><div class="p" id="_2278"><a href="#inflection-example-not-proper">inflection example not-propers</a></div></blockquote></div></div><div class="p" id="_2279"><div class="code" id="_2280"><div><pre><code>\x[inflection-plural-examples]</code></pre></div></div><div class="p" id="_2281">which renders as:</div><div><blockquote id="_2282"><div class="p" id="_2283"><a href="#inflection-plural-examples">inflection plural examples</a></div></blockquote></div></div><div class="p" id="_2284"><div class="code" id="_2285"><div><pre><code>\x[inflection-plural-examples]{p}</code></pre></div></div><div class="p" id="_2286">which renders as:</div><div><blockquote id="_2287"><div class="p" id="_2288"><a href="#inflection-plural-examples">inflection plural examples</a></div></blockquote></div></div><div class="p" id="_2289"><div class="code" id="_2290"><div><pre><code>\x[inflection-plural-examples]{p=0}</code></pre></div></div><div class="p" id="_2291">which renders as:</div><div><blockquote id="_2292"><div class="p" id="_2293"><a href="#inflection-plural-examples">inflection plural example</a></div></blockquote></div></div><div class="p" id="_2294"><div class="code" id="_2295"><div><pre><code>\x[inflection-plural-examples]{p=1}</code></pre></div></div><div class="p" id="_2296">which renders as:</div><div><blockquote id="_2297"><div class="p" id="_2298"><a href="#inflection-plural-examples">inflection plural examples</a></div></blockquote></div></div><div class="p" id="_2299"><div class="code" id="_2300"><div><pre><code>\x[not-the-index-header-with-fixed-case]</code></pre></div></div><div class="p" id="_2301">which renders as:</div><div><blockquote id="_2302"><div class="p" id="_2303"><a href="not-index#not-the-index-header-with-fixed-case">Not the index header with fixed case</a></div></blockquote></div></div><div class="h" id="inflection-example-not-proper"><div class="notnav"><h6 data-level="7"><a href="inflection-example-not-proper">Inflection example not-proper</a></h6><span class="hover-meta"> <a class="split" href="inflection-example-not-proper"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link-title-inflection-example" class="u"> Internal link title inflection example</a><a href="#_toc/inflection-example-not-proper" class="toc"></a></div></nav></div><div class="h" id="inflection-example-proper"><div class="notnav"><h6 data-level="7"><a href="inflection-example-proper">Inflection example proper</a></h6><span class="hover-meta"> <a class="split" href="inflection-example-proper"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link-title-inflection-example" class="u"> Internal link title inflection example</a><a href="#_toc/inflection-example-proper" class="toc"></a></div></nav></div><div class="h" id="inflection-example-not-proper-lower"><div class="notnav"><h6 data-level="7"><a href="inflection-example-not-proper-lower">inflection example not-proper lower</a></h6><span class="hover-meta"> <a class="split" href="inflection-example-not-proper-lower"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link-title-inflection-example" class="u"> Internal link title inflection example</a><a href="#_toc/inflection-example-not-proper-lower" class="toc"></a></div></nav></div><div class="h" id="inflection-example-proper-lower"><div class="notnav"><h6 data-level="7"><a href="inflection-example-proper-lower">inflection example proper lower</a></h6><span class="hover-meta"> <a class="split" href="inflection-example-proper-lower"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link-title-inflection-example" class="u"> Internal link title inflection example</a><a href="#_toc/inflection-example-proper-lower" class="toc"></a></div></nav></div><div class="h" id="inflection-plural-examples"><div class="notnav"><h6 data-level="7"><a href="inflection-plural-examples">Inflection plural examples</a></h6><span class="hover-meta"> <a class="split" href="inflection-plural-examples"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link-title-inflection-example" class="u"> Internal link title inflection example</a><a href="#_toc/inflection-plural-examples" class="toc"></a></div></nav></div><div class="h" id="blakeembrey-pluralize"><div class="notnav"><h6><a href="blakeembrey-pluralize">blakeembrey/pluralize</a></h6><span class="hover-meta"> <a class="split" href="blakeembrey-pluralize"></a><span class="metrics"><span class="wcntr"> Words: 54</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link-title-inflection" class="u"> Internal link title inflection</a><a href="#_toc/blakeembrey-pluralize" class="toc"></a></div></nav></div><div class="p" id="_2304"><a href="https://github.com/blakeembrey/pluralize">github.com/blakeembrey/pluralize</a></div><div class="p" id="_2305">This is the default automatic pluralization/singularization library used by OurBigBook <a href="#internal-link-title-inflection">internal link title inflection</a>.</div><div class="p" id="_2306">That library handles most cases well, but note that English language perfection is never possible with it as it would likely require having word databases which the authors do not wish to support, e.g. to deal with uncountable nouns such as "mathematics" correctly: <a href="https://github.com/plurals/pluralize/issues/60#issuecomment-310740594">github.com/plurals/pluralize/issues/60#issuecomment-310740594</a></div><div class="h" id="inflection-vs-magic"><div class="notnav"><h5><a href="inflection-vs-magic">Inflection vs magic</a></h5><span class="hover-meta"> <a class="split" href="inflection-vs-magic"></a><span class="metrics"><span class="wcntr"> Words: 146</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link" class="u"> Internal link</a><a href="#_toc/inflection-vs-magic" class="toc"></a></div></nav></div><div class="p" id="_2307">The <a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a> was introduced later, and basically became a better alternative to <a href="#internal-link-title-inflection">internal link title inflection</a> in all but the following cases:<div class="list"><ul id="_2308"><li id="_2309"><div class="p" id="_2310"><a href="#disambiguate-argument"><code>\H</code> <code>disambiguate</code> argument</a>: disambiguate prevents the determination of plural inflection, e.g. in:<div class="code" id="_2311"><div><pre><code>= Python
{disambiguate=animal}

I like &lt;python animal&gt;.</code></pre></div></div>there is currently no way to make it output <code>Pythons</code> in the plural without resorting to either <a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a> or an explicit content, because if you wrote:<div class="code" id="_2312"><div><pre><code>I like &lt;pythons animal&gt;.</code></pre></div></div>it would just lead to Id not found, as we would try the plural vs singular on <code>animal</code> only.</div><div class="p" id="_2313">Maybe one day we can implement an even more shorthand system that understands that parenthesis should skipped for the inflection as in:<div class="code" id="_2314"><div><pre><code>I like &lt;pythons (animal)&gt;.</code></pre></div></div><a href="https://github.com/ourbigbook/ourbigbook/issues/244">github.com/ourbigbook/ourbigbook/issues/244</a></div></li></ul></div></div><div class="list"><ul id="_2315"><li id="_2316">plural headers. We only attempt to singularize arguments for now, not pluralize them. So if you had:<div class="code" id="_2317"><div><pre><code>My &lt;dog&gt; is nice.

== Dogs</code></pre></div></div>you would instead need to write:<div class="code" id="_2318"><div><pre><code>My &lt;dog&gt;{p=0} is nice.</code></pre></div></div>or:<div class="code" id="_2319"><div><pre><code>My &lt;dog&gt;[dog] is nice.</code></pre></div></div></li></ul></div><div class="h" id="x-within-title-restrictions"><div class="notnav"><h5><a href="x-within-title-restrictions"><code>\x</code> within <code>title</code> restrictions</a></h5><span class="hover-meta"> <a class="split" href="x-within-title-restrictions"></a><span class="metrics"><span class="wcntr"> Words: 448</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link" class="u"> Internal link</a><a href="#_toc/x-within-title-restrictions" class="toc"></a></div></nav></div><div class="p" id="_2320">If you use an <a href="#internal-link">internal link</a> within a <a href="#title-argument"><code>title</code> argument</a>, that can generate complex dependencies between IDs, which would either be harder to implement, or lead to infinite recursion.</div><div class="p" id="_2321">To prevent such problems:<div class="list"><ul id="_2322"><li id="_2323">for the case of <a href="#header">headers</a>:<div class="list"><ul id="_2324"><li id="_2325">if the <a href="#internal-link">internal link</a> text is explicitly given, then it is used to calculate the ID of the title element and on render output</li><li id="_2326">otherwise, the href argument is used for the ID and the render output. This generally works best when you use <a href="#x-magic-argument">magic links</a>.</li></ul></div></li><li id="_2327">for non-<a href="#header">headers</a> such as <a href="#image">images</a>, you you can link to headers, and the rendered target gets used for both ID and rendered content</li></ul></div></div><div class="p" id="_2328">Here are some example:<div class="list"><ul id="_2329"><li id="_2330"><div class="code" id="_2331"><div><pre><code>= Hello \x[h2-id][the content]

== H2 title
{id=h2-id}</code></pre></div></div><div class="list"><ul id="_2332"><li id="_2333">h1 id: <code>hello-the-content</code></li><li id="_2334">h1 render content: <code>Hello the content</code></li></ul></div></li><li id="_2335"><div class="code" id="_2336"><div><pre><code>= Hello \x[h2-id]

== H2 title
{id=h2-id}</code></pre></div></div><div class="list"><ul id="_2337"><li id="_2338">h1 id: <code>hello-h2-id</code></li><li id="_2339">h1 render content: <code>Hello h2-id</code>. Note that this is not very nice due to the <code>-</code>, but it can be made nicer without repetition with a <a href="#x-magic-argument">magic link</a> as in the following example</li></ul></div></li><li id="_2340"><div class="code" id="_2341"><div><pre><code>= Hello &lt;blue dog&gt;

== Blue dog</code></pre></div></div><div class="list"><ul id="_2342"><li id="_2343">h1 id: <code>hello-blue-dog</code></li><li id="_2344">h1 render content: <code>Hello blue dog</code></li></ul></div></li><li id="_2345"><div class="p" id="_2346">non-header (e.g. an <a href="#image">image</a>) that links to the title of another non-header</div><div class="p" id="_2347">For non-headers, things are a bit more relaxed, and we can link to headers, e.g.:<div class="code" id="_2348"><div><pre><code>= h1

\Image[myimg.jpg]
{title=my \x[h1]}</code></pre></div></div>This is allowed because OurBigBook calculates IDs in two stages: first for all headers, and only later non non-headers.</div><div class="p" id="_2349">What you cannot do is link to another image e.g.:<div class="code" id="_2350"><div><pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=My image 1}

\Image[myimg.jpg]
{title=my \x[h1]}</code></pre></div></div>and there the workaround are much the same as for headers: either explicitly set the <a href="#internal-link">internal link</a> content:<div class="code" id="_2351"><div><pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=My image 1}

\Image[myimg.jpg]
{title=my \x[h1][My image 1]}</code></pre></div></div>or explicitly set an ID:<div class="code" id="_2352"><div><pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=My image 1}

\Image[myimg.jpg]
{id=myimage2}
{title=my \x[h1]}</code></pre></div></div>TODO both workaround are currently broken <a href="todo#image-title-with-x-to-image-with-content-incorrectly-disallowed">Image title with x to image with content incorrectly disallowed</a>, we forgot to add a test earlier on, and things inevitably broke... Should not be hard to fix though, we are just overchecking.</div></li></ul></div></div><div class="p" id="_2353">While it is technically possible relax the above limitations and give an error only in case of loops, it would require a bit of extra work which we don't want to put in right now: <a href="https://github.com/ourbigbook/ourbigbook/issues/95">github.com/ourbigbook/ourbigbook/issues/95</a>.</div><div class="p" id="_2354">Furthermore, the above rules do not exclude infinite rendering loops, but OurBigBook detects such loops and gives a nice error message, this has been fixed at: <a href="https://github.com/ourbigbook/ourbigbook/issues/34">github.com/ourbigbook/ourbigbook/issues/34</a></div><div class="p" id="_2355">For example this would contain an infinite loop:<div class="code" id="_2356"><div><pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=\x[myimage2]}

\Image[myimg.jpg]
{id=myimage2}
{title=\x[myimage1]}</code></pre></div></div></div><div class="p" id="_2357">This infinite recursion is fundamentally not technically solved: the user has to manually break the loop by providing an <code>x</code> content explicitly, e.g. in either:<div class="code" id="_2358"><div><pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=\x[myimage2][my content 2]}

\Image[myimg.jpg]
{id=myimage2}
{title=\x[myimage1]}</code></pre></div></div>or:<div class="code" id="_2359"><div><pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=\x[myimage2]}

\Image[myimg.jpg]
{id=myimage2}
{title=\x[myimage1][my content 1]}</code></pre></div></div></div><div class="p" id="_2360">A closely related limitation is the simplistic approach to <a href="#x-id-output-format"><code>\x</code> <code>id</code> output format</a>.</div><div class="h" id="cross-file-internal-link"><div class="notnav"><h5><a href="cross-file-internal-link">Cross file internal link</a></h5><span class="hover-meta"> <a class="split" href="cross-file-internal-link"></a><span class="metrics"><span class="wcntr"> Words: 882</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link" class="u"> Internal link</a><a href="#_toc/cross-file-internal-link" class="toc"></a></div></nav></div><div class="figure"><figure id="image-cross-file-internal-link"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/x/hilbert-space-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/x/hilbert-space-arrow.png" loading="lazy" height="571"  class="border"></a></div><figcaption><a href="#image-cross-file-internal-link"><span class="caption-prefix">Figure 44. </span></a><div class="title">Cross file internal link</div>. </figcaption></figure></div><div class="p" id="_2361">Reference to the first header of another file:<div class="code" id="_2362"><div><pre><code>\x[not-index]</code></pre></div></div><div class="p" id="_2363">which renders as:</div><div><blockquote id="_2364"><div class="p" id="_2365"><a href="not-index">not the index</a></div></blockquote></div></div><div class="p" id="_2366">Reference to a non-first header of another file:<div class="code" id="_2367"><div><pre><code>\x[h2-in-not-the-index]</code></pre></div></div><div class="p" id="_2368">which renders as:</div><div><blockquote id="_2369"><div class="p" id="_2370"><a href="not-index#h2-in-not-the-index">h2 in not the index</a></div></blockquote></div></div><div class="p" id="_2371">To make toplevel links cleaner, if the target header is the very first element of the other page, then the link does not get a fragment, e.g.: <code>\x[not-index]</code> rendered as:<div class="code" id="_2372"><div><pre><code>&lt;a href="not-index"</code></pre></div></div>and not:<div class="code" id="_2373"><div><pre><code>&lt;a href="not-index#not-index"</code></pre></div></div>while <code>\x[h2-in-not-the-index]</code> is rendered with the fragment:<div class="code" id="_2374"><div><pre><code>&lt;a href="not-index#h2-in-not-the-index"</code></pre></div></div></div><div class="p" id="_2375">Reference to the first header of another file that is a second inclusion:<div class="code" id="_2376"><div><pre><code>\x[included-by-not-index]</code></pre></div></div><div class="p" id="_2377">which renders as:</div><div><blockquote id="_2378"><div class="p" id="_2379"><a href="included-by-not-index">included by not the index</a></div></blockquote></div></div><div class="p" id="_2380">Reference to another header of another file, with <a href="#x-full-argument"><code>full</code></a>:<div class="code" id="_2381"><div><pre><code>\x[h2-in-not-the-index]{full}.</code></pre></div></div><div class="p" id="_2382">which renders as:</div><div><blockquote id="_2383"><div class="p" id="_2384"><a href="not-index#h2-in-not-the-index">Section "h2 in not the index"</a>.</div></blockquote></div>Note that when <code>full</code> is used with references in another file in <a href="#embed-includes">multi page mode</a>, the number is not rendered as explained at: <a href="#x-full-argument-in-cross-file-internal-links">Section "<code>\x</code> <code>full</code> argument in cross file internal links"</a>.</div><div class="p" id="_2385">Reference to an image in another file:<div class="code" id="_2386"><div><pre><code>\x[image-not-index-xi]{full}.</code></pre></div></div><div class="p" id="_2387">which renders as:</div><div><blockquote id="_2388"><div class="p" id="_2389"><a href="not-index#image-not-index-xi">Figure "Figure in not the index"</a>.</div></blockquote></div></div><div class="p" id="_2390">Reference to an image in another file:<div class="code" id="_2391"><div><pre><code>\x[image-figure-in-not-the-index-without-explicit-id]{full}.</code></pre></div></div><div class="p" id="_2392">which renders as:</div><div><blockquote id="_2393"><div class="p" id="_2394"><a href="not-index#image-figure-in-not-the-index-without-explicit-id">Figure "Figure in not the index without explicit id"</a>.</div></blockquote></div></div><div class="p" id="_2395">Remember that the <a href="#the-toplevel-header">ID of the toplevel header</a> is automatically derived from its file name, that's why we have to use:<div class="code" id="_2396"><div><pre><code>\x[not-index]</code></pre></div></div><div class="p" id="_2397">which renders as:</div><div><blockquote id="_2398"><div class="p" id="_2399"><a href="not-index">not the index</a></div></blockquote></div>instead of:<div class="code" id="_2400"><div><pre><code>\x[not-the-index]</code></pre></div></div></div><div class="p" id="_2401">Reference to a subdirectory:<div class="code" id="_2402"><div><pre><code>\x[subdir]

\x[subdir/h2]

\x[subdir/notindex]

\x[subdir/notindex-h2]</code></pre></div></div><div class="p" id="_2403">which renders as:</div><div><blockquote id="_2404"><div class="p" id="_2405"><a href="subdir">subdir</a></div><div class="p" id="_2406"><a href="subdir#h2">h2</a></div><div class="p" id="_2407"><a href="subdir/notindex">notindex</a></div><div class="p" id="_2408"><a href="subdir/notindex#notindex-h2">notindex h2</a></div></blockquote></div>Implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/116">github.com/ourbigbook/ourbigbook/issues/116</a></div><div class="p" id="_2409">Reference to an internal header of another file: <a href="not-index#h2-in-not-the-index">h2 in not the index</a>. By default, That header ID gets prefixed by the ID of the top header.</div><div class="p" id="_2410">When using <a href="#embed-includes"><code>--embed-includes</code></a> mode, the cross file internal links end up pointing to an ID inside the current HTML element, e.g.:<div class="code" id="_2411"><div><pre><code>&lt;a href="#not-index"&gt;</code></pre></div></div>rather than:<div class="code" id="_2412"><div><pre><code>&lt;a href="not-index.html/#not-index"&gt;</code></pre></div></div>This is why IDs must be unique for elements across all pages.</div><div class="h" id="cross-file-internal-link-internals"><div class="notnav"><h6><a href="cross-file-internal-link-internals">Cross file internal link internals <span class="meta">(<code>db.sqlite3</code>)</span></a></h6><span class="hover-meta"> <a class="split" href="cross-file-internal-link-internals"></a><span class="metrics"><span class="wcntr"> Words: 171</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#cross-file-internal-link" class="u"> Cross file internal link</a><a href="#_toc/cross-file-internal-link-internals" class="toc"></a></div></nav></div><div class="p" id="_2414">When running in Node.js, OurBigBook dumps the IDs of all processed files to a <code>_out/db.sqlite3</code> file in <a href="#the-out-directory">the <code>_out</code> directory</a>, and then reads from that file when IDs are needed.</div><div class="p" id="_2415">When converting under a directory that contains <a href="#ourbigbook-json"><code>ourbigbook.json</code></a>, <code>_out/db.sqlite3</code> is placed inside the same directory as the <code>ourbigbook.json</code> file.</div><div class="p" id="_2416">If there is no <code>ourbigbook.json</code> in parent directories, then <code>_out/db.sqlite3</code> is placed in the current working directory.</div><div class="p" id="_2417">These follows the principles described at: <a href="#the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json">the current working directory does not matter when there is a <code>ourbigbook.json</code></a>.</div><div class="p" id="_2418"><code>db.sqlite3</code> is not created or used when handling input from <a href="#stdin-conversion">stdin</a>.</div><div class="p" id="_2419">When running in the browser, the same JavaScript API will send queries to the server instead of a local SQLite database.</div><div class="p" id="_2420">To inspect the ID database to debug it, you can use:<div class="code" id="_2421"><div><pre><code>sqlite3 _out/db.sqlite3 .dump</code></pre></div></div></div><div class="p" id="_2422">It is often useful to dump a single table, e.g. to dump the <code>ids</code> table:<div class="code" id="_2423"><div><pre><code>sqlite3 _out/db.sqlite3 '.dump ids'</code></pre></div></div>and one particularly important query is to dump a list of all known IDs:<div class="code" id="_2424"><div><pre><code>sqlite3 _out/db.sqlite3 'select id from ids'</code></pre></div></div></div><div class="p" id="_2425">You can force <code>ourbigbook</code> to not use the ID database with the <a href="#no-db"><code>--no-db</code></a> command line option</div><div class="h" id="link-to-ids-not-url-path"><div class="notnav"><h6><a href="link-to-ids-not-url-path">Link to IDs, not URL path</a></h6><span class="hover-meta"> <a class="split" href="link-to-ids-not-url-path"></a><span class="metrics"><span class="wcntr"> Words: 336</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#cross-file-internal-link" class="u"> Cross file internal link</a><a href="#_toc/link-to-ids-not-url-path" class="toc"></a></div></nav></div><div class="p" id="_2426">This section describes the philosophy of <a href="#internal-link">internal links</a>.</div><div class="p" id="_2427">In many static website generators, you just link to URL specific paths of internal headers.</div><div class="p" id="_2428">In OurBigBook, <a href="#internal-link">internal links</a> point to IDs, not paths.</div><div class="p" id="_2429">For example, suppose "Superconductivity" is a descendant of "Condensed Matter Physics", and that the source for both is located at <code>condensed-matter-physics.bigb</code>, so that both appear on the same .html page <code>condensed-matter-physics.html</code>.</div><div class="p" id="_2430">When linking to Superconductivity from an external page such as <code>statistical-physics.bigb</code> you write just <code>&lt;superconductivity&gt;</code> and NOT <code>&lt;condensed-matter-physics#superconductivity&gt;</code>. OurBigBook then automatically trakcs where superconductivity is located and produces <code>href="condensed-matter-physics#superconductivity"</code> for you.</div><div class="p" id="_2431">This is important because on a static website, the location of headers might change. E.g. if you start writing a lot about superconductivity you would eventually want to split it to its own page, <code>superconductivity.html</code> otherwise page loads for <code>condensed-matter-physics.html</code> would become too slow as that file would become too large.</div><div class="p" id="_2432">But if your links read <code>&lt;condensed-matter-physics#superconductivity&gt;</code>, and all links would break when you move things around.</div><div class="p" id="_2433">So instead, you simply link to the ID <code>&lt;superconductivity&gt;</code>, and ourbigbook renders links correctly for you wherever the output lands.</div><div class="p" id="_2434">When moving headers to separate pages, it is true that existing links to subheaders will break, but that simply cannot be helped. Large pages must be split into smaller ones. The issue can be mitigated in the following ways:<div class="list"><ul id="_2435"><li id="_2436"><a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>, which readers will eventually understand are better permalinks</li><li id="_2437"><a href="#javascript-redirect-to-split-on-missing-id">JavaScript redirect to split on missing ID</a>, which automatically redirect <code>condensed-matter-physics#superconductivity</code> to <code>superconductivity</code>, potentially hitting a <a href="#split-headers">split header</a> if the current page does not contain the HTML ID <code>superconductivity</code>.</li></ul></div></div><div class="p" id="_2438">For <a href="#ourbigbook-web">OurBigBook Web</a>, this is even more important, as we have <a href="#ourbigbook-web-dynamic-article-tree">dynamic article trees</a>, so every header can appear on top.</div><div class="p" id="_2439">If you really want to to use scopes, e.g. enforce the ID of "superconductivity" to be "condensed-matter-physics/superconductivity", then you can use the <a href="#h-scope-argument">scope</a> feature. However, this particular case would likely be a bad use case for that feature. You want your IDs to be as short as possible, which causes less need for refactoring, and makes <a href="#ourbigbook-web-topics">topics</a> on <a href="#ourbigbook-web">OurBigBook Web</a> more likely to have matches from other users.</div><div class="figure"><figure id="image-cross-file-internal-link-link-to-ids-not-url-path"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/x/hilbert-space-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/x/hilbert-space-arrow.png" loading="lazy" height="571"  class="border"></a></div><figcaption><a href="#image-cross-file-internal-link-link-to-ids-not-url-path"><span class="caption-prefix">Figure 45. </span></a><div class="title">Cross file internal link</div>. </figcaption></figure></div><div class="h" id="internal-link-title-link-removal"><div class="notnav"><h6><a href="internal-link-title-link-removal">Internal link title link removal</a></h6><span class="hover-meta"> <a class="split" href="internal-link-title-link-removal"></a><span class="metrics"><span class="wcntr"> Words: 123</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#cross-file-internal-link" class="u"> Cross file internal link</a><a href="#_toc/internal-link-title-link-removal" class="toc"></a></div></nav></div><div class="p" id="_2440">If the target <code>title</code> argument contains a link from either another <a href="#internal-link">internal links</a> or a regular <a href="#link">external hyperlink</a>, OurBigBook automatically prevents that link from rendering as a link when no explicit body is given.</div><div class="p" id="_2441">This is done because <a href="https://stackoverflow.com/questions/9882916/are-you-allowed-to-nest-a-link-inside-of-a-link">nested links are illegal in HTML</a>, and the result would be confusing.</div><div class="p" id="_2442">This use case is most common when dealing with media such as <a href="#image">images</a>. For example in:<div class="code" id="_2443"><div><pre><code>= afds

\x[image-aa-zxcv-lolol-bb]

== qwer

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=aa \x[zxcv][zxcv] \a[http://example.com][lolol] bb}

== zxcv</code></pre></div></div>the <code>\x[image-aa-zxcv-lolol-bb]</code> renders something like:<div class="code" id="_2444"><div><pre><code>&lt;a href="#image-aa-zxcv-lolol-bb"&gt;aa zxcv lolol bb&lt;/a&gt;</code></pre></div></div>and not:<div class="code" id="_2445"><div><pre><code>&lt;a href="#image-aa-zxcv-lolol-bb"&gt;aa &lt;a href="zxcv"&gt;zxcv&lt;/a&gt; &lt;a href="http://example.com"&gt;lolol&lt;/a&gt; bb&lt;/a&gt;</code></pre></div></div></div><div class="p" id="_2446">Live example:<div class="code" id="_2447"><div><pre><code>This is a nice image: \x[image-aa-zxcv-lolol-bb].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=aa \x[internal-link-title-link-removal][zxcv] \a[http://example.com][lolol] bb}</code></pre></div></div><div class="p" id="_2448">which renders as:</div><div><blockquote id="_2449"><div class="p" id="_2450">This is a nice image: <a href="#image-aa-zxcv-lolol-bb">Figure 46. "aa zxcv lolol bb"</a>.</div><div class="figure"><figure id="image-aa-zxcv-lolol-bb"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-aa-zxcv-lolol-bb"><span class="caption-prefix">Figure 46. </span></a><div class="title">aa zxcv lolol bb</div>. </figcaption></figure></div></blockquote></div></div><div class="h" id="x-arguments"><div class="notnav"><h5><a href="x-arguments"><code>\x</code> arguments</a></h5><span class="hover-meta"> <a class="split" href="x-arguments"></a><span class="metrics"><span class="wcntr"> Words: 2k</span><span class="dcnt"> Articles: 15</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internal-link" class="u"> Internal link</a><a href="#_toc/x-arguments" class="toc"></a></div></nav></div><div class="h" id="x-c-argument"><div class="notnav"><h6><a href="x-c-argument"><code>\x</code> <code>c</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-c-argument"></a><span class="metrics"><span class="wcntr"> Words: 13</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-c-argument" class="toc"></a></div></nav></div><div class="p" id="_2451">Capitalizes the first letter of the target title.</div><div class="p" id="_2452">For more details, see: <a href="#internal-link-title-inflection">Section "Internal link title inflection"</a>.</div><div class="h" id="x-child-argument"><div class="notnav"><h6><a href="x-child-argument"><code>\x</code> <code>child</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-child-argument"></a><span class="metrics"><span class="wcntr"> Words: 426</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-child-argument" class="toc"></a><span class="tags"> Tags: <a href="#disabled-macro-argument">Disabled macro argument</a></span></div></nav></div><div class="p" id="_2454">Setting the <code>child</code> <a href="#boolean-argument">boolean argument</a> on a <a href="#internal-link">internal link</a> to a header as in:<div class="code" id="_2455"><div><pre><code>\x[my-header]{child}</code></pre></div></div>makes that header show up on the list of extra parents of the child.</div><div class="p" id="_2456">This argument is deprecated in favor of the <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a>.</div><div class="p" id="_2457">This allows a section to have multiple parents, e.g. to include it into multiple categories. For example:<div class="code" id="_2458"><div><pre><code>= Animal

== Mammal

=== Bat

=== Cat

== Flying animal

These animals fly:
* \x[bat]{child}

These animals don't fly:
* \x[cat]</code></pre></div></div>would render something like:<div class="code" id="_2459"><div><pre><code>= Animal

== Mammal

=== Bat (Parent section: Mammal)
(Tags: Flying animal)

=== Cat (Parent section: Mammal)

== Flying animal (Parent section: Animal)

These animals fly:
* \x[bat]

These animals don't fly:
* \x[cat]</code></pre></div></div>so note how "Bat" has a list of tags including "Flying animal", but Cat does not, due to the <code>child</code>.</div><div class="p" id="_2460">This property does not affect how the <a href="#table-of-contents">table of contents</a> is rendered. We could insert elements sections there multiple times, but it has the downside that browser Ctrl + F searches would hit the same thing multiple times on the table of contents, which might make finding things harder.<div class="code" id="_2461"><div><pre><code>== My title{id=my-id}

Read this \x[my-id][amazing section].</code></pre></div></div></div><div class="p" id="_2462">If the second argument, the <a href="#content-argument"><code>content</code> argument</a>, is not present, it expand to the header title, e.g.:<div class="code" id="_2463"><div><pre><code>== My title{id=my-id}

Read this \x[my-id].</code></pre></div></div>is the same as:<div class="code" id="_2464"><div><pre><code>== My title{id=my-id}

Read this \x[my-id][My title].</code></pre></div></div></div><div class="h" id="secondary-children"><div class="notnav"><h6 data-level="7"><a href="secondary-children">Secondary children</a></h6><span class="hover-meta"> <a class="split" href="secondary-children"></a><span class="metrics"><span class="wcntr"> Words: 208</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-child-argument" class="u"> <code>\x</code> <code>child</code> argument</a><a href="#_toc/secondary-children" class="toc"></a></div></nav></div><div class="p" id="_2465">The term refers to sections that have a parent/child relationship via either of the:<div class="list"><ul id="_2466"><li id="_2467"><a href="#x-child-argument"><code>\x</code> <code>child</code> argument</a></li><li id="_2468"><a href="#x-parent-argument"><code>\x</code> <code>parent</code> argument</a></li><li id="_2469"><a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a></li><li id="_2470"><a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a></li></ul></div>rather than via the usual <a href="#header">header</a> hierarchy.</div><div class="p" id="_2471">Secondary children show up for example on the <a href="#tagged-metadata-section">tagged metadata section</a>, but not on the <a href="#table-of-contents">table of contents</a>, which is what the header hierarchy already shows.</div><div class="p" id="_2472">Secondary children are normally basically used as "tags": a header such as <code>Bat</code> can be a direct child of <code>Mammal</code>, and a secondary child of <code>Flying animal</code>, or vice versa. Both <code>Mammal</code> and <code>Flying animal</code> are then basically ancestors. But we have to chose one main ancestor as "the parent", and other secondary ancestors will be seen as tags.</div><div class="p" id="_2473">This option first does <a href="#id-target-from-title">ID target from title</a> conversion on the argument, so you can e.g. keep any spaces or use capitalization in the title as in:<div class="code" id="_2474"><div><pre><code>= Animal

== Flying animal
{child=Big bat}

== Big bat</code></pre></div></div>TODO the fact that this transformation is done currently makes it impossible to use "non-standard IDs" that contain spaces or uppercase letters. If someone ever wants that, we could maybe add a separate argument that does not do the expansion e.g.:<div class="code" id="_2475"><div><pre><code>= Animal

== Flying animal
{childId=Big bat}

== Big bat
{id=Big bat}</code></pre></div></div>but definitely the most important use case is having easier to type and read source with the standard IDs.</div><div class="h" id="x-file-argument"><div class="notnav"><h6><a href="x-file-argument"><code>\x</code> <code>file</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-file-argument"></a><span class="metrics"><span class="wcntr"> Words: 47</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-file-argument" class="toc"></a></div></nav></div><div class="p" id="_2476">Allows to link to <a href="#header">headers</a> with the <a href="#h-file-argument"><code>\H</code> <code>file</code> argument</a>, e.g.:<div class="code" id="_2477"><div><pre><code>= My header

Check out this amazing file: &lt;path/to/myfile.txt&gt;{file}

== path/to/myfile.txt</code></pre></div></div></div><div class="p" id="_2478">Some live demos follow:<div class="code" id="_2479"><div><pre><code>\x[file_demo]{file}</code></pre></div></div><div class="p" id="_2480">which renders as:</div><div><blockquote id="_2481"><div class="p" id="_2482"><a href="#_file/file_demo">file_demo</a></div></blockquote></div></div><div class="p" id="_2483"><div class="code" id="_2484"><div><pre><code>\x[file_demo/file_demo_subdir]{file}</code></pre></div></div><div class="p" id="_2485">which renders as:</div><div><blockquote id="_2486"><div class="p" id="_2487"><a href="#_file/file_demo/file_demo_subdir">file_demo/file_demo_subdir</a></div></blockquote></div></div><div class="p" id="_2488"><div class="code" id="_2489"><div><pre><code>\x[file_demo/file_demo_subdir/hello_world.js]{file}</code></pre></div></div><div class="p" id="_2490">which renders as:</div><div><blockquote id="_2491"><div class="p" id="_2492"><a href="#_file/file_demo/file_demo_subdir/hello_world.js">file_demo/file_demo_subdir/hello_world.js</a></div></blockquote></div></div><div class="p" id="_2493"><div class="code" id="_2494"><div><pre><code>\x[file_demo/my.bin]{file}</code></pre></div></div><div class="p" id="_2495">which renders as:</div><div><blockquote id="_2496"><div class="p" id="_2497"><a href="#_file/file_demo/my.bin">file_demo/my.bin</a></div></blockquote></div></div><div class="p" id="_2498"><div class="code" id="_2499"><div><pre><code>\x[Tank_man_standing_in_front_of_some_tanks.jpg]{file}</code></pre></div></div><div class="p" id="_2500">which renders as:</div><div><blockquote id="_2501"><div class="p" id="_2502"><a href="#_file/Tank_man_standing_in_front_of_some_tanks.jpg">Tank_man_standing_in_front_of_some_tanks.jpg</a></div></blockquote></div></div><div class="p" id="_2503"><div class="code" id="_2504"><div><pre><code>\x[https://www.youtube.com/watch?v=YeFzeNAHEhU]{file}</code></pre></div></div><div class="p" id="_2505">which renders as:</div><div><blockquote id="_2506"><div class="p" id="_2507"><a href="#_file/https://www.youtube.com/watch?v=YeFzeNAHEhU">https://www.youtube.com/watch?v=YeFzeNAHEhU</a></div></blockquote></div></div><div class="h" id="x-full-argument"><div class="notnav"><h6><a href="x-full-argument"><code>\x</code> <code>full</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-full-argument"></a><span class="metrics"><span class="wcntr"> Words: 130</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-full-argument" class="toc"></a></div></nav></div><div class="p" id="_2508">To also show the section auto-generated number as in "Section X.Y My title" we add the optional <code>{full}</code> <a href="#boolean-argument">boolean argument</a> to the <a href="#internal-link">internal link</a>, for example:<div class="code" id="_2509"><div><pre><code>\x[x-full-argument]{full}.</code></pre></div></div><div class="p" id="_2510">which renders as:</div><div><blockquote id="_2511"><div class="p" id="_2512"><a href="#x-full-argument">Section "<code>\x</code> <code>full</code> argument"</a>.</div></blockquote></div></div><div class="p" id="_2513"><code>{full}</code> is not needed for <a href="#internal-link">internal links</a> to most macros besides <a href="#header">headers</a>, which use <code>full</code> by default as seen by the <code>default_x_style_full</code> macro property in <a href="#help-macros"><code>--help-macros</code></a>. This is for example the case for <a href="#image">images</a>. You can force this to be disabled with <code>{full=0}</code>:<div class="code" id="_2514"><div><pre><code>Compare \x[image-my-test-image]{full=0} vs \x[image-my-test-image]{full=1}.</code></pre></div></div><div class="p" id="_2515">which renders as:</div><div><blockquote id="_2516"><div class="p" id="_2517">Compare <a href="#image-my-test-image">The title of my image</a> vs <a href="#image-my-test-image">Figure 26. "The title of my image"</a>.</div></blockquote></div></div><div class="h" id="x-full-argument-in-cross-file-internal-links"><div class="notnav"><h6 data-level="7"><a href="x-full-argument-in-cross-file-internal-links"><code>\x</code> <code>full</code> argument in cross file internal links</a></h6><span class="hover-meta"> <a class="split" href="x-full-argument-in-cross-file-internal-links"></a><span class="metrics"><span class="wcntr"> Words: 50</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-full-argument" class="u"> <code>\x</code> <code>full</code> argument</a><a href="#_toc/x-full-argument-in-cross-file-internal-links" class="toc"></a></div></nav></div><div class="p" id="_2518">For example in the following <a href="#cross-file-internal-link">cross file internal link</a>:<div class="code" id="_2519"><div><pre><code>\x[h2-in-not-the-index]{full}.</code></pre></div></div><div class="p" id="_2520">which renders as:</div><div><blockquote id="_2521"><div class="p" id="_2522"><a href="not-index#h2-in-not-the-index">Section "h2 in not the index"</a>.</div></blockquote></div>we get just something like:<div class="code" id="_2523"><div><pre><code>Section "h2 in not the index"</code></pre></div></div>instead of:<div class="code" id="_2524"><div><pre><code>Section 1.2 "h2 in not the index"</code></pre></div></div>This is because the number "Section 1.2" might already have been used in the current page, leading to confusion.</div><div class="h" id="x-magic-argument"><div class="notnav"><h6><a href="x-magic-argument"><code>\x</code> <code>magic</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-magic-argument"></a><span class="metrics"><span class="wcntr"> Words: 383</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-magic-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_2526">This argument makes writing many <a href="#internal-link">internal links</a> more convenient, and it was notably introduced because it serves as the sane version of <a href="#shorthand-internal-link">shorthand internal links</a>.</div><div class="p" id="_2527">If given e.g. as in:<div class="code" id="_2528"><div><pre><code>= Internal reference

\x[Internal references]{magic}</code></pre></div></div>the link treated magically as follows:<div class="list"><ul id="_2529"><li id="_2530"><div class="p" id="_2531">content capitalization and pluralization are detected from the string, and implicitly set the <a href="#x-c-argument"><code>\x</code> <code>c</code> argument</a> and <a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a>. In the example:<div class="list"><ul id="_2532"><li id="_2533"><code>{c}</code> capitalization is set because <code>Internal references</code> starts with an upper case character <code>I</code></li><li id="_2534"><code>{p}</code> pluralization is set because <code>Internal references</code> ends in a plural word</li></ul></div>In this simple example, the content therefore will be exactly <code>Internal references</code> as in the source. But note that this does not necessarily need to be the case, e.g. if we had done:<div class="code" id="_2535"><div><pre><code>\x[Internal Reference]{magic}</code></pre></div></div>then the content would be:<div class="code" id="_2536"><div><pre><code>Internal reference</code></pre></div></div>without capital <code>R</code>, i.e. everything except capitalization and pluralization is ignored. This forgiving way of doing things means that writers don't need to remember the exact ideal capitalization of everything, which is very hard to remember.</div><div class="p" id="_2537">It also means that any more complex elements will be automatically rendered as usual, e.g. if we had:<div class="code" id="_2538"><div><pre><code>= \i[Internal] reference

\x[internal reference]{magic}</code></pre></div></div>then the output would still contain the <code>&lt;i&gt;</code> italic tag.</div><div class="p" id="_2539">If we had a scope as in <code>\x[my scope/Internal references]</code>, then each scope part is checked separately. E.g. in this case we would have upper case <code>Internal references</code>, even though <code>my scope</code> is lowercase, and so <code>{c}</code> would be set.</div></li><li id="_2540">the ID is calculated as follows:<div class="list"><ul id="_2541"><li id="_2542"><div class="p" id="_2543"><a href="#automatic-id-from-title">automatic ID from title</a> conversion is performed, with you exception: forwards slashs <code>/</code> are kept, in order to make <a href="#h-scope-argument">scopes</a> work.</div><div class="p" id="_2544">In our case, there aren't any slashes <code>/</code>, so it just gives <code>internal-references</code>. But if instead we had e.g.: <code>\x[my scope/internal reference]{magic}</code>, then we would reach <code>my-scope/internal-reference</code> and not <code>my-scope-internal-reference</code>.</div></li><li id="_2545">if there is a match to an existing ID use it. <code>internal-references</code> in the plural does not match, so go to the next step</li><li id="_2546">if the above failed, try singularizing the last word as in the <a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a> with <code>p=0</code> before doing <a href="#automatic-id-from-title">automatic ID from title</a> conversion. This gives <code>internal-reference</code>, which does exist, and so we use that.</li></ul></div></li></ul></div></div><div class="p" id="_2547">There may be some cases where you might still want to use <a href="#internal-link-title-inflection">internal link title inflection</a> however, see: <a href="#inflection-vs-magic">Section "Inflection vs magic"</a>.</div><div class="h" id="shorthand-magic-link"><div class="notnav"><h6 data-level="7"><a href="shorthand-magic-link">Shorthand magic link</a></h6><span class="hover-meta"> <a class="split" href="shorthand-magic-link"></a><span class="metrics"><span class="wcntr"> Words: 24</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-magic-argument" class="u"> <code>\x</code> <code>magic</code> argument</a><a href="#_toc/shorthand-magic-link" class="toc"></a><span class="tags"> Tags: <a href="#macro-shorthand-syntax">Shorthand macro syntax</a></span></div></nav></div><div class="p" id="_2549">A <a href="#x-magic-argument">magic link</a> can be created more succinctly by surrounding the link with "angle brackets" (<code>&lt;&gt;</code>), e.g.:<div class="code" id="_2550"><div><pre><code>&lt;Partial derivative&gt;</code></pre></div></div>is equivalent to:<div class="code" id="_2551"><div><pre><code>\x[Partial derivative]{magic}</code></pre></div></div></div><div class="h" id="x-parent-argument"><div class="notnav"><h6><a href="x-parent-argument"><code>\x</code> <code>parent</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-parent-argument"></a><span class="metrics"><span class="wcntr"> Words: 26</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-parent-argument" class="toc"></a><span class="tags"> Tags: <a href="#disabled-macro-argument">Disabled macro argument</a></span></div></nav></div><div class="p" id="_2553">The <code>parent</code> argument is exactly like the <a href="#x-child-argument"><code>\x</code> <code>child</code> argument</a>, but it reverses the direction of the parent/child relation.</div><div class="p" id="_2554">This argument is deprecated in favor of the <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a>.</div><div class="h" id="x-ref-argument"><div class="notnav"><h6><a href="x-ref-argument"><code>\x</code> <code>ref</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-ref-argument"></a><span class="metrics"><span class="wcntr"> Words: 70</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-ref-argument" class="toc"></a></div></nav></div><div class="p" id="_2555">The <code>ref</code> argument of <code>\x</code> marks the link as reference, e.g.:<div class="code" id="_2556"><div><pre><code>Trump said this and that.\x[donald-trump-access-hollywood-tape]{ref}

= Donald Trump Access Hollywood tape</code></pre></div></div>renders something like:<div class="code" id="_2557"><div><pre><code>Trump said this and that.&lt;a href="donald-trump-access-hollywood-tape"&gt;*&lt;/a&gt;</code></pre></div></div></div><div class="p" id="_2558">This could currently be replicated without <code>ref</code> by just using:<div class="code" id="_2559"><div><pre><code>Trump said this and that.\x[donald-trump-access-hollywood-tape][*]</code></pre></div></div>but later on we might add more precise reference fields like the page of a book or date fetched as Wikipedia supports.</div><div class="p" id="_2560">Implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/137">github.com/ourbigbook/ourbigbook/issues/137</a></div><div class="h" id="x-topic-argument"><div class="notnav"><h6><a href="x-topic-argument"><code>\x</code> <code>topic</code> argument <span class="meta">(<code>&lt;#Black holes&gt;</code>, Topic link)</span></a></h6><span class="hover-meta"> <a class="split" href="x-topic-argument"></a><span class="metrics"><span class="wcntr"> Words: 410</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-topic-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_2564">If true, then the target of a this link is called a "topic link" and gets treated specially, pointing to an external <a href="#ourbigbook-web-topics">OurBigBook Web topic</a> rather than a header defined in the current project.</div><div class="p" id="_2565">For example, when rendering a <a href="#p-publish">static website</a>, a link such as:<div class="code" id="_2566"><div><pre><code>\x[Albert Einstein]{topic}</code></pre></div></div>would produce output similar to:<div class="code" id="_2567"><div><pre><code>\a[https://ourbigbook.com/go/topic/john-smith][John Smith]</code></pre></div></div>e.g.:<div class="code" id="_2568"><div><pre><code>\x[Albert Einstein]{topic}</code></pre></div></div><div class="p" id="_2569">which renders as:</div><div><blockquote id="_2570"><div class="p" id="_2571"><a href="https://ourbigbook.com/go/topic/albert-einstein">Albert Einstein</a></div></blockquote></div></div><div class="p" id="_2572">This allows static website creators to easily link to topics they might not have already written about which others may have covered.</div><div class="p" id="_2573">The <a href="#ourbigbook-web">OurBigBook Web</a> instance linked to can be configured with <a href="#ourbigbook-json/web/host"><code>host</code></a>.</div><div class="p" id="_2574">Those links also work on <a href="#ourbigbook-web">OurBigBook Web</a> rendering of course, and point to the current Web instance.</div><div class="h" id="shorthand-topic-link"><div class="notnav"><h6 data-level="7"><a href="shorthand-topic-link">Shorthand topic link <span class="meta">(<code>&lt;#Albert Einstein&gt;</code>)</span></a></h6><span class="hover-meta"> <a class="split" href="shorthand-topic-link"></a><span class="metrics"><span class="wcntr"> Words: 160</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-topic-argument" class="u"> <code>\x</code> <code>topic</code> argument</a><a href="#_toc/shorthand-topic-link" class="toc"></a><span class="tags"> Tags: <a href="#macro-shorthand-syntax">Shorthand macro syntax</a></span></div></nav></div><div class="p" id="_2577">If an <a href="#shorthand-magic-link">shorthand magic link</a> starts with a hash sign (<code>#</code>), then it is converted to a <a href="#x-topic-argument">topic link</a> instead of a <a href="#x-magic-argument">magic link</a>.</div><div class="p" id="_2578">For example:<div class="code" id="_2579"><div><pre><code>&lt;#Albert Einstein&gt;</code></pre></div></div><div class="p" id="_2580">which renders as:</div><div><blockquote id="_2581"><div class="p" id="_2582"><a href="https://ourbigbook.com/go/topic/albert-einstein">Albert Einstein</a></div></blockquote></div>is equivalent to:<div class="code" id="_2583"><div><pre><code>\x[Albert Einstein]{topic}</code></pre></div></div></div><div class="h" id="shorthand-topic-links-with-a-single-word"><div class="notnav"><h6 data-level="8"><a href="shorthand-topic-links-with-a-single-word">Shorthand topic links with a single word <span class="meta">(<code>#star</code>)</span></a></h6><span class="hover-meta"> <a class="split" href="shorthand-topic-links-with-a-single-word"></a><span class="metrics"><span class="wcntr"> Words: 128</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#shorthand-topic-link" class="u"> Shorthand topic link</a><a href="#_toc/shorthand-topic-links-with-a-single-word" class="toc"></a><span class="tags"> Tags: <a href="#macro-shorthand-syntax">Shorthand macro syntax</a></span></div></nav></div><div class="p" id="_2586">If an <a href="#shorthand-topic-link">shorthand topic link</a> is made up of a single word then it can be written in the following even succincter notation, without the need for angle brackets:<div class="code" id="_2587"><div><pre><code>I like #dogs</code></pre></div></div><div class="p" id="_2588">which renders as:</div><div><blockquote id="_2589"><div class="p" id="_2590">I like <a href="https://ourbigbook.com/go/topic/dog">dogs</a></div></blockquote></div>is equivalent to:<div class="code" id="_2591"><div><pre><code>I like &lt;#dogs&gt;</code></pre></div></div></div><div class="p" id="_2592">Word separation is defined analogously to <a href="#shorthand-link-parsing-rules">shorthand link parsing rules</a>, i.e.:<div class="list"><ul id="_2593"><li id="_2594"><code>#</code> can start from anywhere, including the middle of words, e.g.:<div class="code" id="_2595"><div><pre><code>abc#mytopic</code></pre></div></div><div class="p" id="_2596">which renders as:</div><div><blockquote id="_2597"><div class="p" id="_2598">abc<a href="https://ourbigbook.com/go/topic/mytopic">mytopic</a></div></blockquote></div>would produce a link immediately preceded by the characters <code>abc</code>.</li><li id="_2599"><code>#</code> ends at any <a href="#shorthand-link-termination-character">shorthand link termination character</a>, e.g.:<div class="list"><ul id="_2600"><li id="_2601">Topic is <code>mytopic</code>:<div class="code" id="_2602"><div><pre><code>#mytopic is cool</code></pre></div></div><div class="p" id="_2603">which renders as:</div><div><blockquote id="_2604"><div class="p" id="_2605"><a href="https://ourbigbook.com/go/topic/mytopic">mytopic</a> is cool</div></blockquote></div></li><li id="_2606">Topic is <code>mytopic,</code> with the comma:<div class="code" id="_2607"><div><pre><code>#mytopic, is cool</code></pre></div></div><div class="p" id="_2608">which renders as:</div><div><blockquote id="_2609"><div class="p" id="_2610"><a href="https://ourbigbook.com/go/topic/mytopic">mytopic,</a> is cool</div></blockquote></div>So you likely would have had instead used the sane syntax in this case with <code>&lt;#mytopic&gt;, is cool</code> to avoid that.</li></ul></div></li></ul></div></div><div class="h" id="topic-link-pluralization"><div class="notnav"><h6 data-level="7"><a href="topic-link-pluralization">Topic link pluralization</a></h6><span class="hover-meta"> <a class="split" href="topic-link-pluralization"></a><span class="metrics"><span class="wcntr"> Words: 148</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-topic-argument" class="u"> <code>\x</code> <code>topic</code> argument</a><a href="#_toc/topic-link-pluralization" class="toc"></a></div></nav></div><div class="p" id="_2611">Unlike local links, it is not possible to automatically determine the exact pluralization of a <a href="#x-topic-argument">topic link</a> because:<div class="list"><ul id="_2612"><li id="_2613">it would require communicating with the <a href="#ourbigbook-web">OurBigBook Web</a> API, which we could in principle do, but we would rather not have static builds depend on Web instances</li><li id="_2614">topics can be written by multiple authors, and there could be both plural and singular versions of each topic ID, which makes it hard to determine which one is "correct"</li></ul></div></div><div class="p" id="_2615">Therefore, it is up to authors to specifically specify the desired pluralization of their topic links:<div class="list"><ul id="_2616"><li id="_2617">by default, topic IDs are automatically singularized, e.g.:<div class="code" id="_2618"><div><pre><code>&lt;#Many Dogs&gt;</code></pre></div></div>renders something like:<div class="code" id="_2619"><div><pre><code>\a[https://ourbigbook.com/go/topic/many-dog][Many Dogs]</code></pre></div></div></li><li id="_2620">to prevent this automatic singularization, use <a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a> with <code>{p}</code>, e.g.:<div class="code" id="_2621"><div><pre><code>&lt;#Many Dogs&gt;{p}</code></pre></div></div>renders something like:<div class="code" id="_2622"><div><pre><code>\a[https://ourbigbook.com/go/topic/many-dogs][Many Dogs]</code></pre></div></div>This is unfortunately always necessary for uncountable nouns such as "mathematics":<div class="code" id="_2623"><div><pre><code>I like #mathematics{p}</code></pre></div></div><div class="p" id="_2624">which renders as:</div><div><blockquote id="_2625"><div class="p" id="_2626">I like <a href="https://ourbigbook.com/go/topic/mathematics">mathematics</a></div></blockquote></div>since our underlying pluralization library <a href="#blakeembrey-pluralize">blakeembrey/pluralize</a> cannot handle uncountable nouns reliably.</li></ul></div></div><div class="h" id="x-p-argument"><div class="notnav"><h6><a href="x-p-argument"><code>\x</code> <code>p</code> argument</a></h6><span class="hover-meta"> <a class="split" href="x-p-argument"></a><span class="metrics"><span class="wcntr"> Words: 15</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#x-arguments" class="u"> <code>\x</code> arguments</a><a href="#_toc/x-p-argument" class="toc"></a><span class="tags"> Tags: <a href="#boolean-argument">Boolean argument</a></span></div></nav></div><div class="p" id="_2628">Pluralizes or singularizes the last word of the target title.</div><div class="p" id="_2629">For more details, see: <a href="#internal-link-title-inflection">Section "Internal link title inflection"</a>.</div><div class="h" id="ourbigbook-markup-syntax"><div class="notnav"><h3><a href="ourbigbook-markup-syntax">OurBigBook Markup syntax</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-markup-syntax"></a><span class="metrics"><span class="wcntr"> Words: 3k</span><span class="dcnt"> Articles: 39</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup" class="u"> OurBigBook Markup</a><a href="#_toc/ourbigbook-markup-syntax" class="toc"></a></div></nav></div><div class="h" id="macro-shorthand-syntax"><div class="notnav"><h4><a href="macro-shorthand-syntax">Macro shorthand syntax</a></h4><span class="hover-meta"> <a class="split" href="macro-shorthand-syntax"></a><span class="metrics"><span class="wcntr"> Words: 556</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-syntax" class="u"> OurBigBook Markup syntax</a><a href="#_toc/macro-shorthand-syntax" class="toc"></a></div></nav></div><div class="p" id="_2630">Certain commonly used macros have a shorthand macro syntax that do not start with backslash (<code>\</code>). It is a form of <a href="https://ourbigbook.com/go/topic/syntactic-sugar">syntactic sugar</a>.</div><div class="p" id="_2631">For example, you could write <a href="#code-block">code blocks</a> as:<div class="code" id="_2632"><div><pre><code>I like my code:
\C[[
print("hello world")
]]</code></pre></div></div><div class="p" id="_2633">which renders as:</div><div><blockquote id="_2634"><div class="p" id="_2635">I like my code:<div class="code" id="_2636"><div><pre><code>print("hello world")</code></pre></div></div></div></blockquote></div>but that is very verbose and annoying to read and write. Therefore, in addition to the <a href="#macro-shorthand-syntax">explicit</a> <code>\C</code> syntax, most people will prefer the backtick shorthand syntax:<div class="code" id="_2637"><div><pre><code>I like my code:
``
print("hello world")
``</code></pre></div></div><div class="p" id="_2638">which renders as:</div><div><blockquote id="_2639"><div class="p" id="_2640">I like my code:<div class="code" id="_2641"><div><pre><code>print("hello world")</code></pre></div></div></div></blockquote></div></div><div class="p" id="_2642">Originally, <a href="#design-goals">Ciro wanted to avoid those</a>, but they just feel too good to avoid.</div><div class="p" id="_2643">Every shorthand syntax does however have an equivalent sane syntax.</div><div class="p" id="_2644">Our style recommendation is: use the shorthand version which is shorter, unless you have a specific reason to use the sane version.</div><div class="p" id="_2645">Shorthand in our context does not mean worse. It just mean "harder for the computer to understand". But it is more important that humans can understand in the first place! It is find to make the computer work a bit more for us when we are able to.</div><div class="h" id="macro-with-shorthand-syntax"><div class="notnav"><h5><a href="macro-with-shorthand-syntax">Macro with shorthand syntax</a></h5><span class="hover-meta"> <a class="split" href="macro-with-shorthand-syntax"></a><span class="metrics"><span class="wcntr"> Words: 371</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-shorthand-syntax" class="u"> Macro shorthand syntax</a><a href="#_toc/macro-with-shorthand-syntax" class="toc"></a></div></nav></div><div class="list"><ul id="_2646"><li id="_2647"><a href="#paragraph">Section "Paragraph"</a>: <code>\n\n</code> (double newline)</li><li id="_2648"><a href="#link">Section "Link"</a>: <code>a http://example.com b</code> (space followed by <code>http://</code>)</li><li id="_2649"><a href="#internal-link">Section "Internal link"</a>: <code>&lt;Internal links&gt;</code> (angle brackets), see: <a href="#shorthand-internal-link">Section "Shorthand internal link"</a></li><li id="_2650"><a href="#mathematics">Section "Mathematics"</a>: <code>$</code>, described at: <a href="#code-and-math-shorthands">code and math shorthands</a></li><li id="_2651"><a href="#code-block">Section "Code block"</a>: <code>`</code>, described at: <a href="#code-and-math-shorthands">code and math shorthands</a></li><li id="_2652"><a href="#list">Section "List"</a>: <code>* </code> and indentation</li><li id="_2653"><a href="#table">Section "Table"</a>: <code>|| </code>, <code>| </code> and indentation</li><li id="_2654"><a href="#quotation">Section "Quotation"</a>: <code>&gt; </code></li></ul></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#code-block">Code block</a></li><li><a href="#internal-link">Internal link</a></li><li><a href="#link">Link</a></li><li><a href="#list">List</a></li><li><a href="#mathematics">Mathematics</a></li><li><a href="#paragraph">Paragraph</a></li><li><a href="#quotation">Quotation</a></li><li><a href="#table">Table</a></li></ul></div></div><div class="h" id="code-and-math-shorthands"><div class="notnav"><h6><a href="code-and-math-shorthands">Code and math shorthands</a></h6><span class="hover-meta"> <a class="split" href="code-and-math-shorthands"></a><span class="metrics"><span class="wcntr"> Words: 72</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-with-shorthand-syntax" class="u"> Macro with shorthand syntax</a><a href="#_toc/code-and-math-shorthands" class="toc"></a></div></nav></div><div class="p" id="_2655">The shorthand code and math shortcuts work very analogously and are therefore described together in this section.</div><div class="p" id="_2656">The shorthand inline code syntax:<div class="code" id="_2657"><div><pre><code>a `b c` d</code></pre></div></div><div class="p" id="_2658">which renders as:</div><div><blockquote id="_2659"><div class="p" id="_2660">a <code>b c</code> d</div></blockquote></div>and is equivalent to the sane:<div class="code" id="_2661"><div><pre><code>a \c[[b c]] d</code></pre></div></div></div><div class="p" id="_2662">The shorthand block code:<div class="code" id="_2663"><div><pre><code>a

``
b c
``

d</code></pre></div></div><div class="p" id="_2664">which renders as:</div><div><blockquote id="_2665"><div class="p" id="_2666">a</div><div class="code" id="_2667"><div><pre><code>b c</code></pre></div></div><div class="p" id="_2668">d</div></blockquote></div>and is equivalent to the sane:<div class="code" id="_2669"><div><pre><code>a

\C[[
b c
]]

d</code></pre></div></div></div><div class="h" id="shorthand-syntax-extra-arguments"><div class="notnav"><h6><a href="shorthand-syntax-extra-arguments">Shorthand syntax extra arguments</a></h6><span class="hover-meta"> <a class="split" href="shorthand-syntax-extra-arguments"></a><span class="metrics"><span class="wcntr"> Words: 118</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-with-shorthand-syntax" class="u"> Macro with shorthand syntax</a><a href="#_toc/shorthand-syntax-extra-arguments" class="toc"></a></div></nav></div><div class="p" id="_2670">Shorthand arguments always work by abbreviating:<div class="list"><ul id="_2671"><li id="_2672">the macro name</li><li id="_2673">one or more of its positional arguments, which are fixed as either <a href="#literal-arguments">literal or non-literal</a> for a given shorthand construct</li></ul></div>This means that you can add further arguments as usual.</div><div class="p" id="_2674">For example, an shorthand code block with an id can be written as:<div class="code" id="_2675"><div><pre><code>a `b c`{id=ef} g</code></pre></div></div>because that is the same as:<div class="code" id="_2676"><div><pre><code>a \c[b c]{id=ef} g</code></pre></div></div><div class="p" id="_2677">which renders as:</div><div><blockquote id="_2678"><div class="p" id="_2679">a <div id="ef"><div><div class="caption"><a href="#ef"><span class="caption-prefix">C 1</span></a></div><code>b c</code></div></div> g</div></blockquote></div>So we see that the <code>b c</code> argument is the very first argument of <code>\c</code>.</div><div class="p" id="_2680">Extra arguments must come after the shorthand opening, e.g. the following does not work:<div class="code" id="_2681"><div><pre><code>a {id=ef}`b c` g</code></pre></div></div></div><div class="p" id="_2682">This restriction things easy to parse for humans and machines alike.</div><div class="h" id="escapes-in-macro-shorthands"><div class="notnav"><h6><a href="escapes-in-macro-shorthands">Escapes in macro shorthands</a></h6><span class="hover-meta"> <a class="split" href="escapes-in-macro-shorthands"></a><span class="metrics"><span class="wcntr"> Words: 140</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-with-shorthand-syntax" class="u"> Macro with shorthand syntax</a><a href="#_toc/escapes-in-macro-shorthands" class="toc"></a></div></nav></div><div class="p" id="_2683">Literal backticks and dollar signs can be produced witha backslash escape as in:<div class="code" id="_2684"><div><pre><code>a \` \$ b</code></pre></div></div><div class="p" id="_2685">which renders as:</div><div><blockquote id="_2686"><div class="p" id="_2687">a ` $ b</div></blockquote></div></div><div class="p" id="_2688">It is not possible to escape backticks (<code>`</code>) inside an shorthand inline code, or dollar signs (<code>$</code>) in shorthand math.</div><div class="p" id="_2689">The design reason for that is because multiple backticks produce block code.</div><div class="p" id="_2690">The upside is that then you don't have to escape anything else, e.g. backslashes (<code>\</code>) are rendered literally.</div><div class="p" id="_2691">The only way to do it is to use the sane syntax instead:<div class="code" id="_2692"><div><pre><code>a \c[[b ` c]] d

a \m[[\sqrt{\$4}]] d</code></pre></div></div><div class="p" id="_2693">which renders as:</div><div><blockquote id="_2694"><div class="p" id="_2695">a <code>b ` c</code> d</div><div class="p" id="_2696">a <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1078em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">$4</span></span></span><span style="top:-2.8922em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1078em;"><span></span></span></span></span></span></span></span></span> d</div></blockquote></div></div><div class="p" id="_2697">Within block code and math, you can just add more separators:<div class="code" id="_2698"><div><pre><code>```
code with two backticks
``
nice
```</code></pre></div></div><div class="p" id="_2699">which renders as:</div><div><blockquote id="_2700"><div class="code" id="_2701"><div><pre><code>code with two backticks
``
nice</code></pre></div></div></blockquote></div></div><div class="h" id="macro-identifier"><div class="notnav"><h4><a href="macro-identifier">Macro identifier</a></h4><span class="hover-meta"> <a class="split" href="macro-identifier"></a><span class="metrics"><span class="wcntr"> Words: 35</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-syntax" class="u"> OurBigBook Markup syntax</a><a href="#_toc/macro-identifier" class="toc"></a></div></nav></div><div class="p" id="_2702"><a href="#ourbigbook-markup">OurBigBook Markup</a> macro identifiers can consist of the following letters:<div class="list"><ul id="_2703"><li id="_2704"><code>a-z</code> lowercase</li><li id="_2705"><code>A-Z</code> uppercase</li><li id="_2706"><code>0-9</code></li></ul></div>Since underscores <code>_</code>  or hyphens <code>=</code> are not allowed, <a href="https://en.wikipedia.org/wiki/Camel_case">camel case</a> macro names are recommended, e.g. for <a href="#ourbigbookexample"><code>\OurBigBookExample</code></a> we use the name:<div class="code" id="_2707"><div><pre><code>OurBigBookExample</code></pre></div></div></div><div class="h" id="macro-argument"><div class="notnav"><h4><a href="macro-argument">Macro argument</a></h4><span class="hover-meta"> <a class="split" href="macro-argument"></a><span class="metrics"><span class="wcntr"> Words: 3k</span><span class="dcnt"> Articles: 32</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-syntax" class="u"> OurBigBook Markup syntax</a><a href="#_toc/macro-argument" class="toc"></a></div></nav></div><div class="h" id="positional-vs-named-arguments"><div class="notnav"><h5><a href="positional-vs-named-arguments">Positional vs named arguments <span class="meta">(<code>[...]</code> vs <code>{key=...}</code>)</span></a></h5><span class="hover-meta"> <a class="split" href="positional-vs-named-arguments"></a><span class="metrics"><span class="wcntr"> Words: 392</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/positional-vs-named-arguments" class="toc"></a></div></nav></div><div class="p" id="_2709">Every argument in OurBigBook is either positional or named.</div><div class="p" id="_2710">For example, in a <a href="#header">header</a> definition with an ID:<div class="code" id="_2711"><div><pre><code>= My asdf
{id=asdf qwer}
{scope}</code></pre></div></div>which is equivalent to the <a href="#macro-shorthand-syntax">explicit</a> version:<div class="code" id="_2712"><div><pre><code>\H[1][My asdf]
{id=asdf qwer}
{scope}</code></pre></div></div>we have:<div class="list"><ul id="_2713"><li id="_2714">two positional argument: <code>[1]</code> and <code>[My asdf]</code>. Those are surrounded by square brackets <code>[]</code> and have no name</li><li id="_2715"><div class="p" id="_2716">two named arguments: <code>{id=asdf qwer}</code> and <code>{scope}</code>.</div><div class="p" id="_2717">The first one has name <code>id</code>, followed by the separator <code>=</code>, followed by the value <code>asdf qwer</code>.</div><div class="p" id="_2718">The separator <code>=</code> always is optional. If not given, it is equivalent to an empty value, e.g.:<div class="code" id="_2719"><div><pre><code>{id=}</code></pre></div></div>is the same as:<div class="code" id="_2720"><div><pre><code>{id}</code></pre></div></div></div></li></ul></div></div><div class="p" id="_2721">You can determine if a macro is positional or named by using <a href="#help-macros"><code>--help-macros</code></a>. Its output contains something like:<div class="code" id="_2722"><div><pre><code>  "h": {
    "name": "h",
    "positional_args": [
      {
        "name": "level"
      },
      {
        "name": "content"
      }
    ],
    "named_args": {
      "id": {
        "name": "id"
      }
      "scope": {
        "name": "scope"
      }
    },</code></pre></div></div>and so we see that <code>level</code> and the <a href="#content-argument"><code>content</code> argument</a> are positional arguments, and <code>id</code> and <code>scope</code> are named arguments.</div><div class="p" id="_2723">Generally, positional arguments are few (otherwise it would be hard to know which is which is which), and are almost always used for a given element so that they save us from typing the name too many times.</div><div class="p" id="_2724">The order of positional arguments must of course be fixed, but named arguments can go anywhere. We can even mix positional and named arguments however we want, although this is not advised for clarity.</div><div class="p" id="_2725">The following are therefore all equivalent:<div class="code" id="_2726"><div><pre><code>\H[1][My asdf]{id=asdf qwer}{scope}
\H[1][My asdf]{scope}{id=asdf qwer}
\H{id=asdf qwer}{scope}[1][My asdf]
\H{scope}[1]{id=asdf qwer}[My asdf]</code></pre></div></div></div><div class="p" id="_2727">Just like named arguments, positional arguments are never mandatory.</div><div class="h" id="positional-argument"><div class="notnav"><h6><a href="positional-argument">Positional argument</a></h6><span class="hover-meta"> <a class="split" href="positional-argument"></a><span class="metrics"><span class="wcntr"> Words: 121</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#positional-vs-named-arguments" class="u"> Positional vs named arguments</a><a href="#_toc/positional-argument" class="toc"></a></div></nav></div><div class="p" id="_2728">See: <a href="#positional-vs-named-arguments">Section "Positional vs named arguments"</a>.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#image-src-argument">Image <code>src</code> argument</a></li></ul></div></div><div class="h" id="positional-argument-default-values"><div class="notnav"><h6 data-level="7"><a href="positional-argument-default-values">Positional argument default values</a></h6><span class="hover-meta"> <a class="split" href="positional-argument-default-values"></a><span class="metrics"><span class="wcntr"> Words: 82</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#positional-argument" class="u"> Positional argument</a><a href="#_toc/positional-argument-default-values" class="toc"></a></div></nav></div><div class="p" id="_2729">Most positional arguments will default to an empty string if not given.</div><div class="p" id="_2730">However, some positional arguments can have special effects if not given.</div><div class="p" id="_2731">For example, an anchor with the first positional argument present (the URL), but not the second positional argument (the link text) as in:<div class="code" id="_2732"><div><pre><code>\a[http://example.com]</code></pre></div></div><div class="p" id="_2733">which renders as:</div><div><blockquote id="_2734"><div class="p" id="_2735"><a href="http://example.com">example.com</a></div></blockquote></div>has the special effect of generating automatic links as in:<div class="code" id="_2736"><div><pre><code>\a[http://example.com][http://example.com]</code></pre></div></div></div><div class="p" id="_2737">This can be contrasted with named arguments, for which there is always a default value, notably for <a href="#boolean-argument">boolean arguments</a>.</div><div class="p" id="_2738">See also: <a href="#link">Section "Link"</a>.</div><div class="h" id="mandatory-positional-arguments"><div class="notnav"><h6 data-level="7"><a href="mandatory-positional-arguments">Mandatory positional arguments</a></h6><span class="hover-meta"> <a class="split" href="mandatory-positional-arguments"></a><span class="metrics"><span class="wcntr"> Words: 37</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#positional-argument" class="u"> Positional argument</a><a href="#_toc/mandatory-positional-arguments" class="toc"></a></div></nav></div><div class="p" id="_2739">Some positional arguments are required, and if not given OurBigBook reports an error and does not render the node.</div><div class="p" id="_2740">This is for example the <code>level</code> of a <a href="#header">header</a>.</div><div class="p" id="_2741">These arguments marked with the <code>mandatory: true</code> <a href="#help-macros"><code>--help-macros</code></a> argument property.</div><div class="h" id="named-argument"><div class="notnav"><h6><a href="named-argument">Named argument</a></h6><span class="hover-meta"> <a class="split" href="named-argument"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#positional-vs-named-arguments" class="u"> Positional vs named arguments</a><a href="#_toc/named-argument" class="toc"></a></div></nav></div><div class="p" id="_2742">See: <a href="#positional-vs-named-arguments">Section "Positional vs named arguments"</a>.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#image-border-argument">Image <code>border</code> argument</a></li><li><a href="#image-description-argument">Image <code>description</code> argument</a></li><li><a href="#image-external-argument">Image <code>external</code> argument</a></li><li><a href="#image-link-argument">Image <code>link</code> argument</a></li><li><a href="#image-source-argument">Image <code>source</code> argument</a></li></ul></div></div><div class="h" id="macro-argument-type"><div class="notnav"><h5><a href="macro-argument-type">Macro argument type</a></h5><span class="hover-meta"> <a class="split" href="macro-argument-type"></a><span class="metrics"><span class="wcntr"> Words: 171</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/macro-argument-type" class="toc"></a></div></nav></div><div class="h" id="boolean-argument"><div class="notnav"><h6><a href="boolean-argument">Boolean argument</a></h6><span class="hover-meta"> <a class="split" href="boolean-argument"></a><span class="metrics"><span class="wcntr"> Words: 123</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-type" class="u"> Macro argument type</a><a href="#_toc/boolean-argument" class="toc"></a></div></nav></div><div class="p" id="_2743">Name arguments marked in <a href="#help-macros"><code>--help-macros</code></a> as <code>boolean: true</code> must either:<div class="list"><ul id="_2744"><li id="_2745">take no value and no <code>=</code> sign, in which case the value is implicitly set to <code>1</code></li><li id="_2746">take value exactly <code>0</code> or <code>1</code></li><li id="_2747">not be given, in which case a custom per-macro default is used. That value is the <code>default</code> from <a href="#help-macros"><code>--help-macros</code></a>, or <code>0</code> if such default is not given</li></ul></div></div><div class="p" id="_2748">For example, the <a href="#x-full-argument"><code>\x</code> <code>full</code> argument</a> of <a href="#internal-link">internal links</a> is correctly written as:<div class="code" id="_2749"><div><pre><code>\x[boolean-argument]{full}</code></pre></div></div><div class="p" id="_2750">which renders as:</div><div><blockquote id="_2751"><div class="p" id="_2752"><a href="#boolean-argument">Section "Boolean argument"</a></div></blockquote></div>without the <code>=</code> sign, or equivalently:<div class="code" id="_2753"><div><pre><code>\x[boolean-argument]{full=1}</code></pre></div></div><div class="p" id="_2754">which renders as:</div><div><blockquote id="_2755"><div class="p" id="_2756"><a href="#boolean-argument">Section "Boolean argument"</a></div></blockquote></div>The <code>full=0</code> version is useful in the case of reference targets that unlike <a href="#header">headers</a> expand the title on the <a href="#internal-link">internal link</a> by default, e.g. <a href="#image">images</a>:<div class="code" id="_2757"><div><pre><code>\x[boolean-argument]{full=1}</code></pre></div></div><div class="p" id="_2758">which renders as:</div><div><blockquote id="_2759"><div class="p" id="_2760"><a href="#boolean-argument">Section "Boolean argument"</a></div></blockquote></div></div><div class="p" id="_2761">The name "boolean argument" is given by analogy to the <a href="https://stackoverflow.com/questions/16109358/what-is-the-correct-readonly-attribute-syntax-for-input-text-elements/24588427#24588427">"boolean attribute" concept in HTML5</a>.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#a-external-argument"><code>\a</code> <code>external</code> argument</a></li><li><a href="#a-ref-argument"><code>\a</code> <code>ref</code> argument</a></li><li><a href="#h-numbered-argument"><code>\H</code> <code>numbered</code> argument</a></li><li><a href="#h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a></li><li><a href="#h-toplevel-argument"><code>\H</code> <code>toplevel</code> argument</a></li><li><a href="#image-border-argument">Image <code>border</code> argument</a></li><li><a href="#image-external-argument">Image <code>external</code> argument</a></li><li><a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a></li><li><a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a></li><li><a href="#x-topic-argument"><code>\x</code> <code>topic</code> argument</a></li></ul></div></div><div class="h" id="date-argument"><div class="notnav"><h6><a href="date-argument">Date argument</a></h6><span class="hover-meta"> <a class="split" href="date-argument"></a><span class="metrics"><span class="wcntr"> Words: 19</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-type" class="u"> Macro argument type</a><a href="#_toc/date-argument" class="toc"></a></div></nav></div><div class="p" id="_2762">The value of this argument must be a valid date string as accepted by JavaScript <code>new Date()</code> e.g. 2000-01-02.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#h-created-argument"><code>\H</code> <code>created</code> argument</a></li><li><a href="#h-updated-argument"><code>\H</code> <code>updated</code> argument</a></li></ul></div></div><div class="h" id="positive-nonzero-integer-argument"><div class="notnav"><h6><a href="positive-nonzero-integer-argument">Positive nonzero integer argument</a></h6><span class="hover-meta"> <a class="split" href="positive-nonzero-integer-argument"></a><span class="metrics"><span class="wcntr"> Words: 29</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-type" class="u"> Macro argument type</a><a href="#_toc/positive-nonzero-integer-argument" class="toc"></a></div></nav></div><div class="p" id="_2763">Positive nonzero integer arguments accept only the characters <code>[0-9]</code> as their input, and 0 may not be the first character. If anything else is present, an error is raised.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#image-height-argument">Image <code>height</code> argument</a></li><li><a href="#image-width-argument">Image <code>width</code> argument</a></li></ul></div></div><div class="h" id="common-argument"><div class="notnav"><h5><a href="common-argument">Common argument</a></h5><span class="hover-meta"> <a class="split" href="common-argument"></a><span class="metrics"><span class="wcntr"> Words: 446</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/common-argument" class="toc"></a></div></nav></div><div class="p" id="_2764"><a href="#common-argument">Common arguments</a> are argument names that are present in all macros.</div><div class="h" id="id-argument"><div class="notnav"><h6><a href="id-argument"><code>id</code> argument</a></h6><span class="hover-meta"> <a class="split" href="id-argument"></a><span class="metrics"><span class="wcntr"> Words: 113</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#common-argument" class="u"> Common argument</a><a href="#_toc/id-argument" class="toc"></a></div></nav></div><div class="p" id="_2765">Explicitly sets the ID of a macro.</div><div class="p" id="_2766">In <a href="#ourbigbook-markup">OurBigBook Markup</a>, every single macro has an ID, which can be either:<div class="list"><ul id="_2767"><li id="_2768">explicit: extracted from some input given by the user, either the <a href="#id-argument"><code>id</code> argument</a> or the <a href="#title-argument"><code>title</code> argument</a>. Explicit IDs can be referenced in <a href="#internal-link">Internal links</a> and must be unique</li><li id="_2769">implicit: automatically generated numerical ID. Implicit IDs cannot be referenced in <a href="#internal-link">internal links</a> and don't need to be unique. Their primary application is generating on hover links next to everything you hover, e.g. arbitrary paragraphs.</li></ul></div></div><div class="p" id="_2770">The most common way to assign an ID is implicitly with <a href="#automatic-id-from-title">automatic ID from title</a> conversion for macros that have a <a href="#title-argument"><code>title</code> argument</a>.</div><div class="p" id="_2771">The <a href="#id-argument"><code>id</code> argument</a> allows to either override the <a href="#automatic-id-from-title">automatic ID from title</a>, or provide an explicit ID for elements that don't have a <a href="#title-argument"><code>title</code> argument</a>.</div><div class="h" id="disambiguate-argument"><div class="notnav"><h6><a href="disambiguate-argument"><code>disambiguate</code> argument</a></h6><span class="hover-meta"> <a class="split" href="disambiguate-argument"></a><span class="metrics"><span class="wcntr"> Words: 324</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#common-argument" class="u"> Common argument</a><a href="#_toc/disambiguate-argument" class="toc"></a></div></nav></div><div class="p" id="_2772">Sometimes the short version of a name is ambiguous, and you need to add some extra text to make both its title and ID unique.</div><div class="p" id="_2773">For example, the word "Python" could either refer to:<div class="list"><ul id="_2774"><li id="_2775">the programming language: <a href="https://en.wikipedia.org/wiki/Python_(programming_language)">en.wikipedia.org/wiki/Python_(programming_language)</a></li><li id="_2776">the genus of snakes: <a href="https://en.wikipedia.org/wiki/Python_(genus)">en.wikipedia.org/wiki/Python_(genus)</a></li></ul></div></div><div class="p" id="_2777">The <code>disambiguate</code> <a href="#named-argument">named argument</a> helps you deal more neatly with such problems.</div><div class="p" id="_2778">Have a look at this example:<div class="code" id="_2779"><div><pre><code>My favorite snakes are \x[python-genus]{p}!

My favorite programming language is \x[python-programming-language]!

\x[python-genus]{full}

\x[python-programming-language]{full}

= Python
{disambiguate=genus}
{parent=disambiguate-argument}

= Python
{c}
{disambiguate=programming language}
{parent=disambiguate-argument}
{title2=.py}
{wiki}</code></pre></div></div>from which we observe how <code>disambiguate</code>:<div class="list"><ul id="_2780"><li id="_2781">gets added to the ID after conversion following the same rules as <a href="#automatic-id-from-title">automatic ID from title</a></li><li id="_2782">shows up on the header between parenthesis, much like Wikipedia, as well as in <a href="#x-full-argument"><code>full</code> internal links</a></li><li id="_2783">does not show up on non-<code>full</code> references. This makes it much more likely that you will be able to reuse the title automatically on an <a href="#internal-link">internal link</a> without the <a href="#content-argument"><code>content</code> argument</a>: we wouldn't want to say "My favorite programming language is Python (programming language)" all the time, would we?</li><li id="_2784">gets added to the default <a href="#h-wiki-argument"><code>\H</code> <code>wiki</code> argument</a> inside parenthesis, following Wikipedia convention, therefore increasing the likelihood that you will be able to go with the default Wikipedia value</li></ul></div></div><div class="p" id="_2785">Besides disambiguating headers, the <code>disambiguate</code> argument has a second related application: disambiguating IDs of images. For example:<div class="code" id="_2786"><div><pre><code>\x[image-the-title-of-my-disambiguate-image]{full=0}

\x[image-the-title-of-my-disambiguate-image-2]{full=0}

\x[image-the-title-of-my-disambiguate-image]{full}

\x[image-the-title-of-my-disambiguate-image-2]{full}

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=The title of my disambiguate image}

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=The title of my disambiguate image}
{disambiguate=2}</code></pre></div></div><div class="p" id="_2787">which renders as:</div><div><blockquote id="_2788"><div class="p" id="_2789"><a href="#image-the-title-of-my-disambiguate-image">The title of my disambiguate image</a></div><div class="p" id="_2790"><a href="#image-the-title-of-my-disambiguate-image-2">The title of my disambiguate image</a></div><div class="p" id="_2791"><a href="#image-the-title-of-my-disambiguate-image">Figure 47. "The title of my disambiguate image"</a></div><div class="p" id="_2792"><a href="#image-the-title-of-my-disambiguate-image-2">Figure 48. "The title of my disambiguate image"</a></div><div class="figure"><figure id="image-the-title-of-my-disambiguate-image"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-the-title-of-my-disambiguate-image"><span class="caption-prefix">Figure 47. </span></a><div class="title">The title of my disambiguate image</div>. </figcaption></figure></div><div class="figure"><figure id="image-the-title-of-my-disambiguate-image-2"><div class="float-wrap"><a href="_raw/Tank_man_standing_in_front_of_some_tanks.jpg"><img src="_raw/Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a></div><figcaption><a href="#image-the-title-of-my-disambiguate-image-2"><span class="caption-prefix">Figure 48. </span></a><div class="title">The title of my disambiguate image</div>. </figcaption></figure></div></blockquote></div>Note that unlike for headers, <code>disambiguate</code> does not appear on the title of images at all. It serves only to create an unique ID that can be later referred to. Headers are actually the only case where <code>disambiguate</code> shows up on the visible rendered output. We intend on making this application obsolete however with:</div><div class="p" id="_2793">This use case is even more useful when <code>title-from-src</code> is enable by default for the <a href="#ourbigbook-json/media-providers"><code>media-providers</code></a> entry, so you don't have to repeat titles several times over and over.</div><div class="h" id="javascript-interface-for-arguments"><div class="notnav"><h5><a href="javascript-interface-for-arguments">JavaScript interface for arguments</a></h5><span class="hover-meta"> <a class="split" href="javascript-interface-for-arguments"></a><span class="metrics"><span class="wcntr"> Words: 54</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/javascript-interface-for-arguments" class="toc"></a></div></nav></div><div class="p" id="_2794">The JavaScript interface sees arguments as follows:<div class="code" id="_2795"><div><pre><code>function macro_name(args)</code></pre></div></div>where args is a dict such that:<div class="list"><ul id="_2796"><li id="_2797">optional arguments have the key/value pairs explicitly given on the call</li><li id="_2798"><div class="p" id="_2799">mandatory arguments have a key documented by the API, and the value on the call.</div><div class="p" id="_2800">For example, the link API names its arguments <code>href</code> and <code>text</code>.</div></li></ul></div></div><div class="h" id="literal-arguments"><div class="notnav"><h5><a href="literal-arguments">Literal arguments <span class="meta">(<code>[[...]]</code> and <code>{{key=...}}</code>)</span></a></h5><span class="hover-meta"> <a class="split" href="literal-arguments"></a><span class="metrics"><span class="wcntr"> Words: 274</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/literal-arguments" class="toc"></a></div></nav></div><div class="p" id="_2802">Arguments that are opened with more than one square brackets <code>[</code> or curly braces <code>{</code> are literal arguments.</div><div class="p" id="_2803">In literal arguments, OurBigBook is not parsed, and the entire argument is considered as text until a corresponding close with the same number of characters.</div><div class="p" id="_2804">Therefore, you cannot have nested content, but it makes it extremely convenient to write <a href="#code-block">code blocks</a> or <a href="#mathematics">mathematics</a>.</div><div class="p" id="_2805">For example, a multiline code block with double open and double close square brackets inside can be enclosed in triple square brackets:<div class="code" id="_2806"><div><pre><code>A literal argument looks like this in OurBigBook:

\C[[
\C[
A multiline

code block.
]
]]

And another paragraph.</code></pre></div></div><div class="p" id="_2807">which renders as:</div><div><blockquote id="_2808"><div class="p" id="_2809">A literal argument looks like this in OurBigBook:</div><div class="code" id="_2810"><div><pre><code>\C[
A multiline

code block.
]</code></pre></div></div><div class="p" id="_2811">And another paragraph.</div></blockquote></div></div><div class="p" id="_2812">The same works for inline code:<div class="code" id="_2813"><div><pre><code>The program \c[[puts("]");]] is very complex.</code></pre></div></div><div class="p" id="_2814">which renders as:</div><div><blockquote id="_2815"><div class="p" id="_2816">The program <code>puts("]");</code> is very complex.</div></blockquote></div></div><div class="p" id="_2817">Within literal blocks, only one thing can be escaped with backslashes are:<div class="list"><ul id="_2818"><li id="_2819">leading open square bracket <code>[</code></li><li id="_2820">trailing close square bracket <code>]</code></li></ul></div></div><div class="p" id="_2821">The rule is that:<div class="list"><ul id="_2822"><li id="_2823">if the first character of a literal argument is a sequence of backslashes (<code>\</code>), and it is followed by another argument open character (e.g. <code>[</code>, remove the first <code>\</code> and treat the other characters as regular text</li><li id="_2824">if the last character of a literal argument is a <code>\</code>, ignore it and treat the following closing character (e.g. <code>]</code>) as regular text</li></ul></div></div><div class="p" id="_2825">See the following open input/output pairs:<div class="code" id="_2826"><div><pre><code>\c[[\ b]]
&lt;code&gt;\ b&lt;/code&gt;

\c[[\a b]]
&lt;code&gt;\a b&lt;/code&gt;

\c[[\[ b]]
&lt;code&gt;[ b&lt;/code&gt;

\c[[\\[ b]]
&lt;code&gt;\[ b&lt;/code&gt;

\c[[\\\[ b]]
&lt;code&gt;\\[ b&lt;/code&gt;</code></pre></div></div>and close examples:<div class="code" id="_2827"><div><pre><code>\c[[a \]]
&lt;code&gt;a \&lt;/code&gt;

\c[[a \]]]
&lt;code&gt;a ]&lt;/code&gt;

\c[[a \\]]]
&lt;code&gt;a \]&lt;/code&gt;</code></pre></div></div></div><div class="h" id="newline-removal"><div class="notnav"><h5><a href="newline-removal">Newline removal</a></h5><span class="hover-meta"> <a class="split" href="newline-removal"></a><span class="metrics"><span class="wcntr"> Words: 367</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/newline-removal" class="toc"></a></div></nav></div><div class="p" id="_2828">OurBigBook ignores most single newlines present in your source code. This allows authors to write much more readable <a href="#ourbigbook-markup">OurBigBook Markup</a> source.</div><div class="p" id="_2829">This removal includes things like:<div class="list"><ul id="_2830"><li id="_2831"><a href="#argument-newlines-between-arguments-removal">argument newlines between arguments removal</a></li><li id="_2832">when the newline is surrounded by one or two <a href="#block-macro">block macros</a>, for example:<div class="code" id="_2833"><div><pre><code>This quote:\Q[My quote]is very cool</code></pre></div></div>is the same as:<div class="code" id="_2834"><div><pre><code>This quote:
\Q[My quote]
is very cool</code></pre></div></div>because <a href="#quotation">quotation</a> is a <a href="#block-macro">block macro</a>.</li><li id="_2835"><a href="#argument-leading-and-trailing-newline-removal">argument leading and trailing newline removal</a></li></ul></div></div><div class="p" id="_2836">The exception is when the newline is placed between two <a href="#inline-macro">inline macros</a>, where it generates an explicit <a href="#line-break">line break</a>. This is particularly useful for poetry, for example:<div class="code" id="_2837"><div><pre><code>Roses are red
Violets are blue</code></pre></div></div><div class="p" id="_2838">which renders as:</div><div><blockquote id="_2839"><div class="p" id="_2840">Roses are red<br>Violets are blue</div></blockquote></div>and produces HTML like:<div class="code" id="_2841"><div><pre><code>Roses are red&lt;br&gt;Violets are blue</code></pre></div></div></div><div class="p" id="_2842">Double newlines generate <a href="#paragraph">paragraphs</a>, and triple newlines are forbidden except in <a href="#literal-arguments">literal arguments</a>.</div><div class="h" id="argument-leading-and-trailing-newline-removal"><div class="notnav"><h6><a href="argument-leading-and-trailing-newline-removal">Argument leading and trailing newline removal</a></h6><span class="hover-meta"> <a class="split" href="argument-leading-and-trailing-newline-removal"></a><span class="metrics"><span class="wcntr"> Words: 121</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#newline-removal" class="u"> Newline removal</a><a href="#_toc/argument-leading-and-trailing-newline-removal" class="toc"></a></div></nav></div><div class="p" id="_2843">If the very first or very last character of an argument is a newline, then that character is ignored if it would be part of a regular plaintext node.</div><div class="p" id="_2844">For example:<div class="code" id="_2845"><div><pre><code>\C[[
a

b
]]</code></pre></div></div>generates something like:<div class="code" id="_2846"><div><pre><code>&lt;pre&gt;&lt;code&gt;a

b&lt;/code&gt;&lt;/pre&gt;</code></pre></div></div>instead of:<div class="code" id="_2847"><div><pre><code>&lt;pre&gt;&lt;code&gt;
a

b
&lt;/code&gt;&lt;/pre&gt;</code></pre></div></div>This is extremely convenient to improve the readability of code blocks and similar constructs.</div><div class="p" id="_2848">The newline is however considered if it would be part of some <a href="#macro-shorthand-syntax">macro shorthand syntax</a>. For example, we can start an <a href="#list">shorthand list</a> inside a <a href="#quotation">quotations</a> as in:<div class="code" id="_2849"><div><pre><code>\Q[
* a
* b
]</code></pre></div></div><div class="p" id="_2850">which renders as:</div><div><blockquote id="_2851"><div><blockquote id="_2852"><div class="list"><ul id="_2853"><li id="_2854">a</li><li id="_2855">b</li></ul></div></blockquote></div></blockquote></div>where the shorthand list requires a leading newline <code>\n* </code> to work. That newline is not ignored, even though it comes immediately after the <code>\Q[</code> opening.</div><div class="h" id="argument-newlines-between-arguments-removal"><div class="notnav"><h6><a href="argument-newlines-between-arguments-removal">Argument newlines between arguments removal</a></h6><span class="hover-meta"> <a class="split" href="argument-newlines-between-arguments-removal"></a><span class="metrics"><span class="wcntr"> Words: 109</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#newline-removal" class="u"> Newline removal</a><a href="#_toc/argument-newlines-between-arguments-removal" class="toc"></a></div></nav></div><div class="p" id="_2856">The macro name and the first argument, and any two consecutive arguments, can be optionally separated by exactly one newline character, e.g.:<div class="code" id="_2857"><div><pre><code>\H
[2]
{scope}
[Design goals]</code></pre></div></div>is equivalent to:<div class="code" id="_2858"><div><pre><code>\H[2]{scope}[Design goals]</code></pre></div></div>which is also equivalent to:<div class="code" id="_2859"><div><pre><code>\H[2]{scope}
[Design goals]</code></pre></div></div>This allows to greatly improve the readability of long argument lists by having them one per line.</div><div class="p" id="_2860">There is one exception to this however: inside an <a href="#header">shorthand header</a>, any newline is interpreted as the end of the shorthand header. This is why the following works as expected:<div class="code" id="_2861"><div><pre><code>== My header 2 `some code`
{id=asdf}</code></pre></div></div>and the <code>id</code> gets assigned to the header rather than the trailing code element.</div><div class="h" id="document-trailing-newline-removal"><div class="notnav"><h6><a href="document-trailing-newline-removal">Document trailing newline removal</a></h6><span class="hover-meta"> <a class="split" href="document-trailing-newline-removal"></a><span class="metrics"><span class="wcntr"> Words: 20</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#newline-removal" class="u"> Newline removal</a><a href="#_toc/document-trailing-newline-removal" class="toc"></a></div></nav></div><div class="p" id="_2862">If the document ends one newline, it is ignored.</div><div class="p" id="_2863">If it is two or more, then that generates an error.</div><div class="h" id="crlf"><div class="notnav"><h5><a href="crlf">CRLF</a></h5><span class="hover-meta"> <a class="split" href="crlf"></a><span class="metrics"><span class="wcntr"> Words: 12</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/crlf" class="toc"></a></div></nav></div><div class="p" id="_2864">OurBigBook treats CRLF newlines exactly as LF, to help with Windows interoperability.</div><div class="h" id="escape-characters"><div class="notnav"><h5><a href="escape-characters">Escape characters</a></h5><span class="hover-meta"> <a class="split" href="escape-characters"></a><span class="metrics"><span class="wcntr"> Words: 222</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/escape-characters" class="toc"></a></div></nav></div><div class="p" id="_2865">Every character that cannot be a <a href="#macro-identifier">macro identifier</a> can be escaped with a backslash <code>\</code>. If you try to escape a macro identifier it of course treats the thing as a macro instead and fails, e.g. in <code>\a</code> it would try to use a macro called <code>\a</code>, not escape the character <code>a</code>.</div><div class="p" id="_2866">For some characters, escaping or not does not make any difference because they don't have any meaning to <a href="#ourbigbook-markup">OurBigBook Markup</a>, e.g. currently <code>%</code> is always the exact same as <code>\%</code>.</div><div class="p" id="_2867">But in <a href="#literal-arguments">non-literal macro arguments</a>, you have to use a backslash to escape the following if you want them to not have any magical meaning:<div class="list"><ul id="_2868"><li id="_2869"><code>\</code>: backslashes start macros</li><li id="_2870"><code>\[</code> and <code>\]</code>: open and close <a href="#positional-vs-named-arguments">positional macro arguments</a></li><li id="_2871"><code>\{</code> and <code>\}</code>: open and close <a href="#positional-vs-named-arguments">optional macro arguments</a></li><li id="_2872">escapes for <a href="#macro-with-shorthand-syntax">macros with shorthand syntax</a>:<div class="list"><ul id="_2873"><li id="_2874"><code>&lt;</code> (open angle brackets, less than sign): <a href="#macro-shorthand-syntax">macro shorthand syntax</a> for <a href="#shorthand-internal-link">shorthand internal links</a></li><li id="_2875"><code>$</code> (dollar sign): <a href="#macro-shorthand-syntax">macro shorthand syntax</a> for <a href="#mathematics">mathematics</a></li><li id="_2876"><code>`</code> (backtick): <a href="#macro-shorthand-syntax">macro shorthand syntax</a> for <a href="#code-block">code blocks</a></li><li id="_2877"><code>#</code> (hash): <a href="#shorthand-topic-link">shorthand topic links</a></li></ul></div></li></ul></div></div><div class="p" id="_2878">Furthermore, only at:<div class="list"><ul id="_2879"><li id="_2880">at the start of the document</li><li id="_2881">after a newline</li><li id="_2882">at the start of a new argument</li></ul></div>you must also escape the following <a href="#macro-with-shorthand-syntax">macros with shorthand syntax</a>:<div class="list"><ul id="_2883"><li id="_2884"><code>* </code> for shorthand <a href="#list">lists</a></li><li id="_2885"><code>| </code> and <code>|| </code> for shorthand <a href="#table">tables</a></li><li id="_2886"><code>= </code> for shorthand <a href="#header">headers</a></li></ul></div></div><div class="p" id="_2887">The escape rules for literal arguments are described at: <a href="#literal-arguments">Section "Literal arguments"</a>.</div><div class="p" id="_2888">This is good for short arguments of regular text, but for longer blocks like <a href="#code-block">code blocks</a> or <a href="#mathematics">mathematics</a>, you may want to use <a href="#literal-arguments">literal arguments</a></div><div class="h" id="macro-argument-property"><div class="notnav"><h5><a href="macro-argument-property">Macro argument property</a></h5><span class="hover-meta"> <a class="split" href="macro-argument-property"></a><span class="metrics"><span class="wcntr"> Words: 529</span><span class="dcnt"> Articles: 7</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/macro-argument-property" class="toc"></a></div></nav></div><div class="p" id="_2889">Each <a href="#macro-argument">macro argument</a> can have certain properties associated to it.</div><div class="p" id="_2890">These properties have programmatic effects, and allow users and developers to more easily understand and create new macro arguments.</div><div class="h" id="disabled-macro-argument"><div class="notnav"><h6><a href="disabled-macro-argument">Disabled macro argument</a></h6><span class="hover-meta"> <a class="split" href="disabled-macro-argument"></a><span class="metrics"><span class="wcntr"> Words: 47</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-property" class="u"> Macro argument property</a><a href="#_toc/disabled-macro-argument" class="toc"></a></div></nav></div><div class="p" id="_2891">Some macro arguments are disabled by default.</div><div class="p" id="_2892">These are typicially arguments which felt like a good idea one day, but which we ended up regretting.</div><div class="p" id="_2893">They can be enabled via <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> options TODO, but doing so will make the project incompatible with <a href="#ourbigbook-web">OurBigBook Web</a>, so it is not advised.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a></li><li><a href="#x-child-argument"><code>\x</code> <code>child</code> argument</a></li><li><a href="#x-parent-argument"><code>\x</code> <code>parent</code> argument</a></li></ul></div></div><div class="h" id="cannotcontains-macro-argument"><div class="notnav"><h6><a href="cannotcontains-macro-argument"><code>cannotContains</code> macro argument</a></h6><span class="hover-meta"> <a class="split" href="cannotcontains-macro-argument"></a><span class="metrics"><span class="wcntr"> Words: 41</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-property" class="u"> Macro argument property</a><a href="#_toc/cannotcontains-macro-argument" class="toc"></a></div></nav></div><div class="p" id="_2894">A set of strings. Each one is a macro that this argument cannot contain.</div><div class="p" id="_2895">The prototypical use case of this is to prevent nesting of HTML <code>&lt;a&gt;</code> elements which is illegal in HTML and doesn't make much sense anyways, e.g.:<div class="code" id="_2896"><div><pre><code>\a[http://example.com][\a[http://example2.com]]</code></pre></div></div></div><div class="h" id="empty-macro-argument"><div class="notnav"><h6><a href="empty-macro-argument"><code>empty</code> macro argument</a></h6><span class="hover-meta"> <a class="split" href="empty-macro-argument"></a><span class="metrics"><span class="wcntr"> Words: 42</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-property" class="u"> Macro argument property</a><a href="#_toc/empty-macro-argument" class="toc"></a></div></nav></div><div class="p" id="_2897">An <code>empty</code> macro argument must always be empty, or else an error is raised.</div><div class="p" id="_2898">The main application of such arguments is to allow macros that normally take no arguments to be immediately followed by text, e.g.:<div class="code" id="_2899"><div><pre><code>ab\br[]cd</code></pre></div></div><div class="p" id="_2900">which renders as:</div><div><blockquote id="_2901"><div class="p" id="_2902">ab<br>cd</div></blockquote></div></div><div class="h" id="inlineonly"><div class="notnav"><h6><a href="inlineonly"><code>inlineOnly</code></a></h6><span class="hover-meta"> <a class="split" href="inlineonly"></a><span class="metrics"><span class="wcntr"> Words: 164</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-property" class="u"> Macro argument property</a><a href="#_toc/inlineonly" class="toc"></a></div></nav></div><div class="p" id="_2903">A macro argument property that is <code>inlineOnly</code> can only contain <a href="#inline-macro">inline macros</a>. If any <a href="#block-macro">block macros</a> present in the argument or its descendants, will lead to a conversion error.</div><div class="p" id="_2904">Some notable rules:<div class="list"><ul id="_2905"><li id="_2906"><a href="#title-argument"><code>title</code> arguments</a> are alwayws <code>inlineOnly</code></li><li id="_2907">all arguments of <a href="#inline-macro">inline macros</a> are <code>inlineOnly</code></li></ul></div></div><div class="p" id="_2908">There are two main rationales for enforcing these rules:<div class="list"><ul id="_2909"><li id="_2910">the HTML <code>h1</code> - <code>h6</code> header HTML elements can only contain phrasing content (analogout to our <a href="#inline-macro">inline macros</a>) for the HTML to be valid. We could chose to use styled <code>div</code>s instead of <code>h</code> elements, but this could have a negative SEO impact. All other HTML elements could be replaced by <code>div</code>s without issue however, the problem really is only <code>h</code>.</li><li id="_2911">on <a href="#ourbigbook-web">OurBigBook Web</a>, where multiple users are working together and many titles from multiple users show on index pages, it is saner to be more restrictive on what is allowed on titles and to prevent visually very large things from being added in order to prevent bad actors or accidents from disrupting other users too much</li></ul></div></div><div class="h" id="multiple-argument"><div class="notnav"><h6><a href="multiple-argument"><code>multiple</code> argument</a></h6><span class="hover-meta"> <a class="split" href="multiple-argument"></a><span class="metrics"><span class="wcntr"> Words: 91</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-property" class="u"> Macro argument property</a><a href="#_toc/multiple-argument" class="toc"></a></div></nav></div><div class="p" id="_2912">By default, arguments can be given only once.</div><div class="p" id="_2913">However, arguments with the <code>multiple</code> <a href="#macro-argument-property">macro argument property</a> set to <code>true</code> can be given multiple times, and each time the argument is given, the new value is appended to a list containing all the values.</div><div class="p" id="_2914">An example is the <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a>.</div><div class="p" id="_2915"><a href="#internals-api">Internally</a>, multiple is implemented by creating a new level in the <a href="#abstract-syntax-tree">abstract syntax tree</a>, and storing each argument separately under a newly generated dummy nodes as in:<div class="code" id="_2916"><div><pre><code>AstNode: H
  AstArgument: child
    AstNode: Comment
      AstArgument: content
        AstNode: plaintext
        AstNode: x
    AstNode: Comment
      AstArgument: content
        AstNode: plaintext
        AstNode: x</code></pre></div></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a></li><li><a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a></li><li><a href="#h-title2-argument"><code>\H</code> <code>title2</code> argument</a></li></ul></div></div><div class="h" id="notempty-macro-argument"><div class="notnav"><h6><a href="notempty-macro-argument"><code>notEmpty</code> macro argument</a></h6><span class="hover-meta"> <a class="split" href="notempty-macro-argument"></a><span class="metrics"><span class="wcntr"> Words: 18</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-property" class="u"> Macro argument property</a><a href="#_toc/notempty-macro-argument" class="toc"></a></div></nav></div><div class="p" id="_2917">This property is the opposite of the <a href="#empty-macro-argument"><code>empty</code> macro argument</a>: the argument cannot be empty or else that is error.</div><div class="h" id="remove-whitespace-children"><div class="notnav"><h6><a href="remove-whitespace-children"><code>remove_whitespace_children</code></a></h6><span class="hover-meta"> <a class="split" href="remove-whitespace-children"></a><span class="metrics"><span class="wcntr"> Words: 99</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument-property" class="u"> Macro argument property</a><a href="#_toc/remove-whitespace-children" class="toc"></a></div></nav></div><div class="p" id="_2918">In HTML, certain elements such as <code>&lt;ul&gt;</code> cannot have any <code>text</code> nodes in them, and any whitespace is ignored, see <a href="https://stackoverflow.com/questions/2161337/can-we-use-any-other-tag-inside-ul-along-with-li/60885802#60885802">stackoverflow.com/questions/2161337/can-we-use-any-other-tag-inside-ul-along-with-li/60885802#60885802</a>.</div><div class="p" id="_2919">A similar concept applies to OurBigBook, e.g.:<div class="code" id="_2920"><div><pre><code>\Ul[
\L[aa]
\L[bb]
]</code></pre></div></div>does not parse as:<div class="code" id="_2921"><div><pre><code>\Ul[\L[aa]&lt;NEWLINE&gt;\L[bb]&lt;NEWLINE&gt;]</code></pre></div></div>but rather as:<div class="code" id="_2922"><div><pre><code>\Ul[\L[aa]\L[bb]]</code></pre></div></div>because the <a href="#content-argument"><code>content</code> argument</a> of <code>ul</code> is marked with <code>remove_whitespace_children</code> and automatically removes any whitespace children (such as a newline) as a result.</div><div class="p" id="_2923">This also applies to consecutive sequences of <a href="#auto-parent"><code>auto_parent</code> macro property</a> macros, e.g.:<div class="code" id="_2924"><div><pre><code>\L[aa]
\L[bb]</code></pre></div></div>also does not include the newline between the list items.</div><div class="p" id="_2925">The definition of whitespace is the same as the ASCII whitespace definition of HTML5: <code> \r\n\f\t</code>.</div><div class="h" id="pseudo-macro-argument-property"><div class="notnav"><h5><a href="pseudo-macro-argument-property">Pseudo-macro argument property</a></h5><span class="hover-meta"> <a class="split" href="pseudo-macro-argument-property"></a><span class="metrics"><span class="wcntr"> Words: 293</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#macro-argument" class="u"> Macro argument</a><a href="#_toc/pseudo-macro-argument-property" class="toc"></a></div></nav></div><div class="p" id="_2926">This section documents ways to classify macro arguments that are analogous to <a href="#macro-argument-property">macro argument properties</a>, but which don't yet have clear and uniform programmatic effects and so are a bit more hand wavy for now.</div><div class="h" id="content-argument"><div class="notnav"><h6><a href="content-argument"><code>content</code> argument</a></h6><span class="hover-meta"> <a class="split" href="content-argument"></a><span class="metrics"><span class="wcntr"> Words: 172</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#pseudo-macro-argument-property" class="u"> Pseudo-macro argument property</a><a href="#_toc/content-argument" class="toc"></a></div></nav></div><div class="p" id="_2927">The <a href="#content-argument"><code>content</code> argument</a> of macros contains the "main content" of the macro, i.e. the textual content that will show the most proeminently once the macro is rendered. It is usually, but not always, the first <a href="#positional-argument">positional argument</a> of macros. We should probably make it into an official <a href="#macro-argument-property">macro argument property</a> at some point.</div><div class="p" id="_2928">In most cases, it is quite obvious which argument is the <a href="#content-argument"><code>content</code> argument</a>, e.g.:<div class="list"><ul id="_2929"><li id="_2930"><a href="#italic"><code>\i</code> macro</a>: in <code>\i[asdf qwer]</code> then <code>asdf qwer</code> is the <a href="#content-argument"><code>content</code> argument</a></li><li id="_2931"><a href="#link"><code>\a</code> macro</a>: in <code>\a[https://example.com][example website]</code> then <code>example website</code> is the <a href="#content-argument"><code>content</code> argument</a></li></ul></div></div><div class="p" id="_2932">Some macros however don't have a <a href="#content-argument"><code>content</code> argument</a>, especially when they don't show any textual acontent as their primary rendered output, e.g.:<div class="list"><ul id="_2933"><li id="_2934"><a href="#image"><code>\Image</code> macro</a>: this macro has <code>title</code> byt not content, e.g. as in: <code>\Image[flower.jpg]{title=}</code>, since the primary content is the <code>Image</code> rather than any specific text</li></ul></div></div><div class="p" id="_2935">Philosophically, the <a href="#content-argument"><code>content</code> argument</a> of a macro is analogous to the <code>innerHTML</code> of an HTML tag, as opposed to attributes such as <code>href=</code> and so on. The difference is that in <a href="#ourbigbook-markup">OurBigBook Markup</a>, every macro argument can contain child elements, while in HTML only the <code>innerHTML</code>, but not the attributes, can.</div><div class="h" id="title-argument"><div class="notnav"><h6><a href="title-argument"><code>title</code> argument</a></h6><span class="hover-meta"> <a class="split" href="title-argument"></a><span class="metrics"><span class="wcntr"> Words: 57</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#pseudo-macro-argument-property" class="u"> Pseudo-macro argument property</a><a href="#_toc/title-argument" class="toc"></a></div></nav></div><div class="p" id="_2936">The <a href="#title-argument"><code>title</code> argument</a> is an argument that gets used in <a href="#automatic-id-from-title">automatic ID from title</a> calculation of macro IDs.</div><div class="p" id="_2937">The <a href="#title-argument"><code>title</code> argument</a> currently appears as both <a href="#positional-argument">positional arguments</a> and <a href="#named-argument">named arguments</a></div><div class="p" id="_2938">Examples:<div class="list"><ul id="_2939"><li id="_2940"><a href="#header">headers</a>: <code>= My header</code> is equivalent to <code>\H[1][My header]</code>, and <code>My header</code> is the <a href="#title-argument"><code>title</code> argument</a>, which is a <a href="#positional-argument">positional argument</a> in this case</li><li id="_2941"><a href="#image">images</a>: in <code>\Image[flower.jpg]{title=My header}</code> and <code>My header</code> is the <a href="#title-argument"><code>title</code> argument</a>, which is a <a href="#named-argument">named argument</a> in this case</li></ul></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#c-title-argument"><code>\C</code> <code>title</code> argument</a></li><li><a href="#h-title-argument"><code>\H</code> <code>title</code> argument</a></li><li><a href="#image-title-argument">Image <code>title</code> argument</a></li><li><a href="#m-title-argument"><code>\M</code> <code>title</code> argument</a></li><li><a href="#q-title-argument"><code>\Q</code> <code>title</code> argument</a></li><li><a href="#table-title-argument"><code>\Table</code> <code>title</code> argument</a></li><li><a href="#video-title-argument"><code>\Video</code> <code>title</code> argument</a></li></ul></div></div><div class="h" id="description-argument"><div class="notnav"><h6><a href="description-argument"><code>description</code> argument</a></h6><span class="hover-meta"> <a class="split" href="description-argument"></a><span class="metrics"><span class="wcntr"> Words: 31</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#pseudo-macro-argument-property" class="u"> Pseudo-macro argument property</a><a href="#_toc/description-argument" class="toc"></a></div></nav></div><div class="p" id="_2942">The <a href="#description-argument"><code>description</code> argument</a> is similar to the <a href="#title-argument"><code>title</code> argument</a> in that it adds information about some block such as an <a href="#image">image</a> or <a href="#code-block">code block</a>. The difference from the title is that it does not count toward <a href="#automatic-id-from-title">automatic ID from title</a> calculations.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#c-description-argument"><code>\C</code> <code>description</code> argument</a></li><li><a href="#image-description-argument">Image <code>description</code> argument</a></li><li><a href="#m-description-argument"><code>\M</code> <code>description</code> argument</a></li><li><a href="#q-description-argument"><code>\Q</code> <code>description</code> argument</a></li><li><a href="#table-description-argument"><code>\Table</code> <code>description</code> argument</a></li><li><a href="#video-description-argument"><code>\Video</code> <code>description</code> argument</a></li></ul></div></div><div class="h" id="ourbigbook-markup-concepts"><div class="notnav"><h3><a href="ourbigbook-markup-concepts">OurBigBook Markup concepts</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-markup-concepts"></a><span class="metrics"><span class="wcntr"> Words: 455</span><span class="dcnt"> Articles: 10</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup" class="u"> OurBigBook Markup</a><a href="#_toc/ourbigbook-markup-concepts" class="toc"></a></div></nav></div><div class="p" id="_2943">These are shared concepts that are used across other sections.</div><div class="h" id="auto-parent"><div class="notnav"><h4><a href="auto-parent"><code>auto_parent</code> macro property</a></h4><span class="hover-meta"> <a class="split" href="auto-parent"></a><span class="metrics"><span class="wcntr"> Words: 52</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><a href="#_toc/auto-parent" class="toc"></a></div></nav></div><div class="p" id="_2944">Some sequences of macros such as <code>l</code> from <a href="#list">lists</a> and <code>tr</code> from <a href="#table">tables</a> automatically generate implicit parents, e.g.:<div class="code" id="_2945"><div><pre><code>\Ul[
\L[aa]
\L[bb]
]</code></pre></div></div>parses exactly like:<div class="code" id="_2946"><div><pre><code>\L[aa]
\L[bb]</code></pre></div></div></div><div class="p" id="_2947">The children are always added as arguments of the <a href="#content-argument"><code>content</code> argument</a> of the implicit parent.</div><div class="p" id="_2948">If present, the <code>auto_parent</code> macro property determines which auto-parent gets added to those macros.</div><div class="h" id="block-vs-inline-macros"><div class="notnav"><h4><a href="block-vs-inline-macros">Block vs inline macros</a></h4><span class="hover-meta"> <a class="split" href="block-vs-inline-macros"></a><span class="metrics"><span class="wcntr"> Words: 81</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><a href="#_toc/block-vs-inline-macros" class="toc"></a></div></nav></div><div class="p" id="_2949">Every OurBigBook macro is either block or inline:<div class="list"><ul id="_2950"><li id="_2951"><div class="p" id="_2952">a block macro is one that takes up the entire line when rendered</div><div class="p" id="_2953">All block macros start with a capital letter, e.g. <code>\H</code> for <a href="#header">headers</a>.</div></li><li id="_2954"><div class="p" id="_2955">and an inline macro is one that goes inside of a line.</div><div class="p" id="_2956">Every inline macro starts with a lowercase letter e.g. <code>\a</code> for <a href="#link">links</a>.</div></li></ul></div></div><div class="p" id="_2957">Some macros have both a block and an inline version, and like any other macro, those are differentiated by capitalization:<div class="list"><ul id="_2958"><li id="_2959"><a href="#mathematics">mathematics</a></li><li id="_2960"><a href="#code-block">code blocks</a></li><li id="_2961"><a href="#comment">comments</a></li></ul></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#block-and-inline-images">Block and inline images</a></li></ul></div></div><div class="h" id="block-macro"><div class="notnav"><h5><a href="block-macro">Block macro</a></h5><span class="hover-meta"> <a class="split" href="block-macro"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#block-vs-inline-macros" class="u"> Block vs inline macros</a><a href="#_toc/block-macro" class="toc"></a></div></nav></div><div class="p" id="_2962">See: <a href="#block-vs-inline-macros">Section "Block vs inline macros"</a>.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#header">Header</a></li><li><a href="#quotation">Quotation</a></li></ul></div></div><div class="h" id="inline-macro"><div class="notnav"><h5><a href="inline-macro">Inline macro</a></h5><span class="hover-meta"> <a class="split" href="inline-macro"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#block-vs-inline-macros" class="u"> Block vs inline macros</a><a href="#_toc/inline-macro" class="toc"></a></div></nav></div><div class="p" id="_2963">See: <a href="#block-vs-inline-macros">Section "Block vs inline macros"</a>.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#a-argument"><code>\a</code> argument</a></li><li><a href="#bold">Bold</a></li><li><a href="#inline-image">Inline image</a></li><li><a href="#link">Link</a></li></ul></div></div><div class="h" id="known-url-protocols"><div class="notnav"><h4><a href="known-url-protocols">Known URL protocols</a></h4><span class="hover-meta"> <a class="split" href="known-url-protocols"></a><span class="metrics"><span class="wcntr"> Words: 50</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><a href="#_toc/known-url-protocols" class="toc"></a></div></nav></div><div class="p" id="_2964">Certain common URL protocols are treated as "known" by OurBigBook, and when found they have special effects in some parts of the conversion.</div><div class="p" id="_2965">The currently known protocols are:<div class="list"><ul id="_2966"><li id="_2967"><code>http://</code></li><li id="_2968"><code>https://</code></li></ul></div></div><div class="p" id="_2969">Effects of known protocols include:<div class="list"><ul id="_2970"><li id="_2971"><a href="#shorthand-link-parsing-rules">shorthand link parsing rules</a>: mark the start of shorthand links</li><li id="_2972"><a href="#store-images-in-a-separate-media-repository">store images in a separate media repository</a>: mark an image <code>src</code> to ignore <code>provider</code></li></ul></div></div><div class="h" id="javascript-case-conversion"><div class="notnav"><h4><a href="javascript-case-conversion">JavaScript case conversion</a></h4><span class="hover-meta"> <a class="split" href="javascript-case-conversion"></a><span class="metrics"><span class="wcntr"> Words: 53</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><a href="#_toc/javascript-case-conversion" class="toc"></a></div></nav></div><div class="p" id="_2973">Some parts of OurBigBook use "JavaScript case conversion".</div><div class="p" id="_2974">This means that the conversion is done as if by the <code>toLowerCase</code>/<code>toUpperCase</code> functions.</div><div class="p" id="_2975">The most important fact about those functions is that they do convert non-ASCII Unicode capitalization, e.g. between <code>É</code> and <code>é</code>:<div class="list"><ul id="_2976"><li id="_2977"><a href="https://stackoverflow.com/questions/3590833/does-javascript-string-tolowercase-follow-unicode-standards-in-case-conversion">stackoverflow.com/questions/3590833/does-javascript-string-tolowercase-follow-unicode-standards-in-case-conversion</a></li><li id="_2978"><a href="https://stackoverflow.com/questions/929079/unicode-lowercase-characters">stackoverflow.com/questions/929079/unicode-lowercase-characters</a></li></ul></div></div><div class="p" id="_2979">These conversions are also specified in the Unicode standard.</div><div class="h" id="javascript-regular-expression"><div class="notnav"><h4><a href="javascript-regular-expression">JavaScript regular expression</a></h4><span class="hover-meta"> <a class="split" href="javascript-regular-expression"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><a href="#_toc/javascript-regular-expression" class="toc"></a></div></nav></div><div class="p" id="_2980"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions</a></div><div class="h" id="git-tracked-project"><div class="notnav"><h4><a href="git-tracked-project">Git tracked project</a></h4><span class="hover-meta"> <a class="split" href="git-tracked-project"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><a href="#_toc/git-tracked-project" class="toc"></a></div></nav></div><div class="p" id="_2981">If the <a href="#project-toplevel-directory">project toplevel directory</a> of an OurBigBook project is also a git repository, and if <code>git</code> is installed, then the OurBigBook project is said to be a "Git tracked project".</div><div class="h" id="element-id"><div class="notnav"><h4><a href="element-id">Element ID</a></h4><span class="hover-meta"> <a class="split" href="element-id"></a><span class="metrics"><span class="wcntr"> Words: 181</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-markup-concepts" class="u"> OurBigBook Markup concepts</a><a href="#_toc/element-id" class="toc"></a></div></nav></div><div class="p" id="_2982">In general usages of a <a href="#macro">macro</a> produces an element, and every element has an ID.</div><div class="p" id="_2983">IDs must be unique, and they are used as the target of <a href="#internal-link">internal links</a>.</div><div class="p" id="_2984">E.g. due to <a href="#automatic-id-from-title">Section "Automatic ID from title"</a>, the elements:<div class="code" id="_2985"><div><pre><code>= Animal

== Big dog

I like &lt;big dogs&gt;.</code></pre></div></div>would have IDs respectively:<div class="list"><ul id="_2986"><li id="_2987"><code>animal</code></li><li id="_2988"><code>big-dog</code></li></ul></div></div><div class="p" id="_2989">Such IDs are almost always rendered as HTML IDs as something like:<div class="code" id="_2990"><div><pre><code>&lt;h1 id="animal"&gt;
&lt;h2 id="big-dog"&gt;</code></pre></div></div>and can therefore be linked to in a page with the corresponding fragment:<div class="code" id="_2991"><div><pre><code>animal.html#big-dog</code></pre></div></div></div><div class="h" id="reserved-ids"><div class="notnav"><h5><a href="reserved-ids">Reserved IDs</a></h5><span class="hover-meta"> <a class="split" href="reserved-ids"></a><span class="metrics"><span class="wcntr"> Words: 103</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#element-id" class="u"> Element ID</a><a href="#_toc/reserved-ids" class="toc"></a></div></nav></div><div class="p" id="_2992">IDs that start with an underscore <code>_</code> are reserved for OurBigBook usage, and will give an error if you try to use them, in order to prevent ID conflicts.</div><div class="p" id="_2993">For example:<div class="list"><ul id="_2994"><li id="_2995">the <a href="#table-of-contents">table of contents</a> uses an ID <code>_toc</code> the <a href="#element-id">ID</a> of the ToC is always fixed to <code>toc</code>. If you try to use that for another element, you will get the following error:</li><li id="_2996">elements without an explicit ID may receive automatically generated IDs of type <code>_1</code>, <code>_2</code> and so on</li></ul></div></div><div class="p" id="_2997">If you use a reserved ID, you will get an error mesasge of type:<div class="code" id="_2998"><div><pre><code>error: tmp.bigb:3:1: IDs that start with "_" are reserved: "_toc"</code></pre></div></div></div><div class="h" id="ourbigbook-cli"><div class="notnav"><h2><a href="ourbigbook-cli">OurBigBook CLI <span class="meta">(<code>ourbigbook</code> executable)</span></a></h2><span class="hover-meta"> <a class="split" href="ourbigbook-cli"></a><span class="metrics"><span class="wcntr"> Words: 12k</span><span class="dcnt"> Articles: 119</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/ourbigbook-cli" class="toc"></a></div></nav></div><div class="p" id="_3000">OurBigBook CLI is the executable program called <code>ourbigbook</code> which comes when you install <code>npm install ourbigbook</code>. It is the main command line utility of the <a href="">OurBigBook Project</a>.</div><div class="p" id="_3001">Its functionality will also be exposed on GUI <a href="#editor-support">editor support</a> such as <a href="#visual-studio-code">Visual Studio Code</a> to make things nicer for non-technical users.</div><div class="p" id="_3002">The main functionalities of the executable are to:<div class="list"><ul id="_3003"><li id="_3004"><div class="p" id="_3005">convert <a href="#ourbigbook-markup">OurBigBook Markup</a> files to HTML files or other formats</div><div class="p" id="_3006">The HTML files can then be either viewd from your filesystem on a browser, or uploaded and hosted very cheaply or for free so that others can see it, e.g. on <a href="#publish-to-github-pages">GitHub Pages</a>.</div></li><li id="_3007"><a href="#publish-your-content">publish your content</a>, either to <a href="#ourbigbook-web">OurBigBook Web</a> or as a <a href="#p-publish">static website</a></li></ul></div></div><div class="p" id="_3008">Or if you are a programmer: OurBigBook CLI is a Static Wiki generator that can be invoked from the command line with the <a href="#ourbigbook-cli"><code>ourbigbook</code> executable</a>.</div><div class="p" id="_3009">OurBigBook CLI is how <a href="https://cirosantilli.com">cirosantilli.com</a> is published.</div><div class="p" id="_3010">OurBigBook Web takes as input the exact same format of OurBigBook Markup files used by OurBigBook CLI. TODO support/improve import/export to/from OurBigBook Web, see also: <a href="#web"><code>-W</code>, <code>--web</code></a>.</div><div class="p" id="_3011">The OurBigBook CLI calls the <a href="#ourbigbook-library">OurBigBook Library</a> to convert each input file.</div><div class="p" id="_3012">Convert a <code>.bigb</code> file to HTML and output the HTML to a file with the same basename without extension, e.g.:<div class="code" id="_3013"><div><pre><code>ourbigbook hello.bigb
firefox _out/html/hello.html</code></pre></div></div></div><div class="p" id="_3014">Files named <code>index.bigb</code> are converted to <code>index.html</code> so that they will show on the website's base address:<div class="code" id="_3015"><div><pre><code>ourbigbook index.bigb
firefox _out/html/index.html</code></pre></div></div></div><div class="p" id="_3016">Convert all <code>.bigb</code> files in a directory to HTML files, e.g. <code>somefile.bigb</code> to <code>_out/html/somefile.html</code>:<div class="code" id="_3017"><div><pre><code>ourbigbook .</code></pre></div></div>The HTML output files are placed right next to each corresponding <code>.bigb</code>.</div><div class="p" id="_3018">The output file can be selected explicitly with: <a href="#outfile"><code>--outfile &lt;outfie&gt;</code></a>.</div><div class="p" id="_3019">Output to stdout instead of saving it to a file:<div class="code" id="_3020"><div><pre><code>ourbigbook --stdout index.bigb</code></pre></div></div></div><div class="p" id="_3021">In order to resolve <a href="#cross-file-internal-link">cross file internal links</a>, this actually does two passes:<div class="list"><ul id="_3022"><li id="_3023">first an <a href="#id-extraction">ID extraction</a> pass, which parses all inputs and dumps their IDs to the ID database</li><li id="_3024">then a second render pass, which uses the IDs in the ID database</li></ul></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#ourbigbook-cli-enforces-consistent-header-tree-by-default">OurBigBook CLI enforces consistent header tree by default</a></li></ul></div></div><div class="h" id="stdin-conversion"><div class="notnav"><h3><a href="stdin-conversion">stdin conversion</a></h3><span class="hover-meta"> <a class="split" href="stdin-conversion"></a><span class="metrics"><span class="wcntr"> Words: 92</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/stdin-conversion" class="toc"></a></div></nav></div><div class="p" id="_3025">Convert a <code>.bigb</code> file from stdin to HTML and output the contents of <code>&lt;body&gt;</code> to stdout:<div class="code" id="_3026"><div><pre><code>printf 'ab\ncd\n' | ourbigbook --body-only</code></pre></div></div></div><div class="p" id="_3027">Stdin converion is a bit different from conversion from a file in that it ignores the <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> and any other setting files present in the current directory or its ancestors. Also, it does not produce any changes to the <a href="#cross-file-internal-link-internals">ID database</a>. In other words, a conversion from stdin is always treated as if it were outside of any project, and therefore should always produce the same results regardless of the current working directory.</div><div class="h" id="ourbigbook-cli-quick-start"><div class="notnav"><h3><a href="ourbigbook-cli-quick-start">OurBigBook CLI quick start</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-cli-quick-start"></a><span class="metrics"><span class="wcntr"> Words: 732</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/ourbigbook-cli-quick-start" class="toc"></a></div></nav></div><div class="h" id="play-with-the-template"><div class="notnav"><h4><a href="play-with-the-template">Play with the template</a></h4><span class="hover-meta"> <a class="split" href="play-with-the-template"></a><span class="metrics"><span class="wcntr"> Words: 267</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-quick-start" class="u"> OurBigBook CLI quick start</a><a href="#_toc/play-with-the-template" class="toc"></a></div></nav></div><div class="p" id="_3028">Learn the syntax basics in 5 minutes: <a href="https://docs.ourbigbook.com/_obb/dist/editor">docs.ourbigbook.com/_obb/dist/editor</a>.</div><div class="p" id="_3029">First ensure that Node.js is installed in your computer. You should be able to successfully the following command successfully from a terminal:<div class="code" id="_3030"><div><pre><code>node --version</code></pre></div></div></div><div class="p" id="_3031">Now let's play with <a href="https://github.com/ourbigbook/template">an OurBigBook template</a> locally:<div class="code" id="_3032"><div><pre><code>git clone https://github.com/ourbigbook/template
cd template
npm install
npx ourbigbook .
firefox _out/html/index.html</code></pre></div></div>That template can be seen rendered live at: <a href="http://cirosantilli.com/ourbigbook-generate-multifile/">cirosantilli.com/ourbigbook-generate-multifile/</a> Other templates are documented at: <a href="#generate"><code>--generate</code></a>.</div><div class="p" id="_3033">To <a href="#publish-to-github-pages">publish to GitHub Pages</a> on your repository you can just fork the repository <a href="https://github.com/ourbigbook/template">github.com/ourbigbook/template</a> to your own <a href="https://github.com/johndoe/template">github.com/johndoe/template</a> and then:<div class="code" id="_3034"><div><pre><code>git remote set-url origin git@github.com:johndoe/template.git
npx ourbigbook --publish</code></pre></div></div>and it should now be visible at: <a href="https://johndoe.github.io/template">johndoe.github.io/template</a></div><div class="p" id="_3035">Then, every time you make a change you can publish the new version with:<div class="code" id="_3036"><div><pre><code>git add .
git commit --message 'hacked stuff'
ourbigbook --publish .</code></pre></div></div>or equivalently with the <a href="#publish-commit"><code>-P, --publish-commit &lt;commit-message&gt;</code></a> shortcut:<div class="code" id="_3037"><div><pre><code>ourbigbook --publish-commit 'hacked stuff'</code></pre></div></div></div><div class="p" id="_3038">If you want to publish to your root page <a href="https://johndoe.github.io">johndoe.github.io</a> instead of <a href="https://johndoe.github.io/template">johndoe.github.io/template</a> you need to rename the <code>master</code> branch to <code>dev</code> as mentioned at <a href="#publish-to-github-pages-root-page">publish to GitHub pages root page</a>:<div class="code" id="_3039"><div><pre><code>git remote set-url origin git@github.com:johndoe/johndoe.github.io.git

# Rename master to dev, and delete the old master.
git checkout -b dev
git push origin dev:dev
git branch -D master
git push --delete origin master

npx ourbigbook --publish</code></pre></div></div></div><div class="p" id="_3040">The following files of the template control the global style of the output, and you are free to edit them:<div class="list"><ul id="_3041"><li id="_3042"><code>ourbigbook.liquid.html</code>: global HTML template in <a href="https://shopify.github.io/liquid/">Liquid format</a>. Available variables are documented at <a href="#template">Section "<code>--template</code>"</a></li><li id="_3043"><div class="p" id="_3044"><code>main.scss</code>: <a href="https://sass-lang.com/">Sass</a> file that gets converted to raw CSS <code>main.css</code> by <code>npx ourbigbook .</code>.</div><div class="p" id="_3045">Sass is just much more convenient to write than raw CSS.</div><div class="p" id="_3046">That file gets included into the global HTML template inside <code>ourbigbook.liquid.html</code> at:<div class="code" id="_3047"><div><pre><code>&lt;link rel="stylesheet" href="{{ root_relpath }}main.css"&gt;</code></pre></div></div></div></li></ul></div></div><div class="h" id="important-command-line-options"><div class="notnav"><h4><a href="important-command-line-options">Important command line options</a></h4><span class="hover-meta"> <a class="split" href="important-command-line-options"></a><span class="metrics"><span class="wcntr"> Words: 296</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-quick-start" class="u"> OurBigBook CLI quick start</a><a href="#_toc/important-command-line-options" class="toc"></a></div></nav></div><div class="p" id="_3048">When you run:<div class="code" id="_3049"><div><pre><code>npx ourbigbook .</code></pre></div></div>it converts all files in the current directory separately, e.g.:<div class="list"><ul id="_3050"><li id="_3051"><code>index.bigb</code> to <code>_out/html/index.html</code>, since <code>index</code> is a magic name that we want to show on the root URL</li><li id="_3052"><code>not-index.bigb</code> to <code>_out/html/not-index.html</code>, as this one is a regular name unlike <code>index</code></li><li id="_3053"><code>main.scss</code> to <code>main.css</code></li></ul></div></div><div class="p" id="_3054">If one of the input files starts getting too large, usually the toplevel <code>index.bigb</code> in which you dump everything by default like Ciro does, you can speed up development and just compile files individually with either:<div class="code" id="_3055"><div><pre><code>npx ourbigbook index.bigb
npx ourbigbook not-index.bigb</code></pre></div></div>Note however that when those individual files have a <a href="#cross-file-internal-link">cross file internal link</a> to something defined in <code>not-index.bigb</code>, e.g. via <code>\x[h2-in-not-the-index]</code>, then you must have first previously done pass once with:<div class="code" id="_3056"><div><pre><code>npx ourbigbook .</code></pre></div></div>to parse all files and extract all necessary IDs to the <a href="#cross-file-internal-link-internals">ID database</a>. That would be optimized slightly with the <a href="#no-render"><code>--no-render</code></a> command line option:<div class="code" id="_3057"><div><pre><code>npx ourbigbook --no-render .</code></pre></div></div>to only extract the IDs but not render, which speeds things up considerably</div><div class="p" id="_3058">When dealing with large files, you might also be interested in the following amazing options:<div class="list"><ul id="_3059"><li id="_3060"><a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a></li><li id="_3061"><a href="#h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a></li></ul></div></div><div class="h" id="produce-a-standalone-html-file"><div class="notnav"><h5><a href="produce-a-standalone-html-file">Produce a standalone HTML file</a></h5><span class="hover-meta"> <a class="split" href="produce-a-standalone-html-file"></a><span class="metrics"><span class="wcntr"> Words: 117</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#important-command-line-options" class="u"> Important command line options</a><a href="#_toc/produce-a-standalone-html-file" class="toc"></a></div></nav></div><div class="p" id="_3062">To produce a single standalone output file that contains everything the viewer needs to correctly see the page do:<div class="code" id="_3063"><div><pre><code>npx ourbigbook --embed-resources --embed-includes index.bigb</code></pre></div></div>You can now just give the generated <code>_out/html/index.html</code> to any reader and they should be able to view it offline without installing anything. The flags are:<div class="list"><ul id="_3064"><li id="_3065"><a href="#embed-includes"><code>--embed-includes</code></a>: without this, <code>\Include[not-index]</code> shows as a link to the file <code>_out/html/not-index.html</code> which comes from <code>not-index.bigb</code> With the flag, <code>not-index.bigb</code> output gets embedded into the output <code>_out/html/index.html</code> directly</li><li id="_3066"><a href="#embed-resources"><code>--embed-resources</code></a>: by default, we link to CSS and JavaScript that lives inside <code>node_modules</code>. With this flag, that CSS and JavaScript is copied inline into the document instead. One day we will try to handle <a href="#image">images</a> that way as well</li></ul></div></div><div class="h" id="useless-knowledge"><div class="notnav"><h4><a href="useless-knowledge">Useless knowledge</a></h4><span class="hover-meta"> <a class="split" href="useless-knowledge"></a><span class="metrics"><span class="wcntr"> Words: 169</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-quick-start" class="u"> OurBigBook CLI quick start</a><a href="#_toc/useless-knowledge" class="toc"></a></div></nav></div><div class="p" id="_3067">Install the NPM package globally and use it from the command line for a quick conversion:<div class="code" id="_3068"><div><pre><code>npm install -g ourbigbook
printf 'ab\ncd\n' | ourbigbook --body-only</code></pre></div></div>or to a file:<div class="code" id="_3069"><div><pre><code>printf 'ab\ncd\n' | ourbigbook &gt; tmp.html</code></pre></div></div>You almost never want to do this except when <a href="#developing-ourbigbook">developing OurBigBook</a>, as it won't be clear what version of <code>ourbigbook</code> the document should be compiled with. Just be a good infant and use OurBigBook <a href="#play-with-the-template">with the template</a> that contains a <code>package.json</code> via <code>npx</code>, OK?</div><div class="p" id="_3070">Furthermore, the default install of Chromium on Ubuntu 21.04 uses Snap and blocks access to dotfiles. For example, in a sane NVM install, our global CSS would live under <code>/home/ciro/.nvm/versions/node/v14.17.0/lib/node_modules/ourbigbook/_obb/ourbigbook.css</code>, which gets blocked because of the <code>.nvm</code> part:<div class="list"><ul id="_3071"><li id="_3072"><a href="https://forum.snapcraft.io/t/dot-files/7062">forum.snapcraft.io/t/dot-files/7062</a></li><li id="_3073"><a href="https://bugs.launchpad.net/snapd/+bug/1607067">bugs.launchpad.net/snapd/+bug/1607067</a></li><li id="_3074"><a href="https://superuser.com/questions/1546550/chromium-81-wont-display-dotfiles-anymore">superuser.com/questions/1546550/chromium-81-wont-display-dotfiles-anymore</a></li><li id="_3075"><a href="https://askubuntu.com/questions/1184357/why-cant-chromium-suddenly-access-any-partition-except-for-home">askubuntu.com/questions/1184357/why-cant-chromium-suddenly-access-any-partition-except-for-home</a></li><li id="_3076"><a href="https://askubuntu.com/questions/1214346/as-a-user-is-there-any-way-to-change-the-confinement-of-a-snap-package">askubuntu.com/questions/1214346/as-a-user-is-there-any-way-to-change-the-confinement-of-a-snap-package</a></li></ul></div>One workaround is to use <a href="#embed-resources"><code>--embed-resources</code></a>, but this of course generates larger outputs.</div><div class="p" id="_3077">To run master globally from source for development see: <a href="#run-ourbigbook-master">Section "Run OurBigBook master"</a>. This one actually works despite the dotfile thing since your development path is normally outside of dotfiles.</div><div class="p" id="_3078">Try out the JavaScript API with <a href="_raw/lib_hello.js">lib_hello.js</a>:<div class="code" id="_3079"><div><pre><code>npm install ourbigbook
./lib_hello.js</code></pre></div></div></div><div class="h" id="publish-your-content"><div class="notnav"><h3><a href="publish-your-content">Publish your content</a></h3><span class="hover-meta"> <a class="split" href="publish-your-content"></a><span class="metrics"><span class="wcntr"> Words: 271</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/publish-your-content" class="toc"></a></div></nav></div><div class="p" id="_3080">There are two ways to publish your <a href="">OurBigBook</a> content:<div class="list"><ul id="_3081"><li id="_3082">as a <a href="#p-publish">static website</a>. This means that you generate HTML files from <a href="#ourbigbook-markup">OurBigBook Markup</a> files and then publish them either by:<div class="list"><ul id="_3083"><li id="_3084">uploading to a static website server such as <a href="#publish-to-github-pages">GitHub Pages</a> by using the <a href="#publish-your-content">publish</a> option</li><li id="_3085">converting with <a href="#publish-target-local"><code>--publish-target local</code></a> and sending a zip with the pages to someone to view locally</li></ul></div></li><li id="_3086">to an <a href="#ourbigbook-web">OurBigBook Web</a> instance such as <a href="#ourbigbook-com">OurBigBook.com</a>. This can be done either by:<div class="list"><ul id="_3087"><li id="_3088">editing on the <a href="#ourbigbook-web-editor">OurBigBook Web editor</a> directly in your browser</li><li id="_3089">uploading <a href="#ourbigbook-markup">OurBigBook Markup</a> files from your computer with the <a href="#web"><code>-W</code>, <code>--web</code></a> option</li></ul></div></li></ul></div>A fundamental design choice of the <a href="">OurBigBook Project</a> is that, except for bugs, a single <a href="#ourbigbook-markup">OurBigBook Markup</a> source tree can be published in both of those ways without any changes.</div><div class="p" id="_3090">The trade-offs between the two options are highlighted at: <a href="#ourbigbook-web-vs-static-website-publishing">OurBigBook Web vs static website publishing</a>.</div><div class="figure"><figure id="image-you-can-publish-local-lightweight-markup-files-to-either-ourbigbook-web-or-as-a-static-website"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/local-editing/bigb-publish-to-web-or-static-editor-logos.svg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/local-editing/bigb-publish-to-web-or-static-editor-logos.svg" loading="lazy" height="600"></a></div><figcaption><a href="#image-you-can-publish-local-lightweight-markup-files-to-either-ourbigbook-web-or-as-a-static-website"><span class="caption-prefix">Figure 49. </span></a><div class="title">You can publish local lightweight markup files to either OurBigBook Web or as a static website</div>. </figcaption></figure></div><div class="figure"><figure id="video-edit-locally-and-publish-demo"><div class="float-wrap"><iframe width="720" height="720" loading="lazy" src="https://www.youtube.com/embed/Ghvlztiu6rI" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-edit-locally-and-publish-demo"><span class="caption-prefix">Video 13. </span></a><div class="title">Edit locally and publish demo</div>. <a href="https://www.youtube.com/watch?v=Ghvlztiu6rI">Source</a>. </figcaption></figure></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#ourbigbook-web-editor">OurBigBook Web editor</a></li><li><a href="#p-publish"><code>-p</code>, <code>--publish</code></a></li><li><a href="#publish-target"><code>--publish-target</code></a></li><li><a href="#web"><code>-W</code>, <code>--web</code></a></li></ul></div></div><div class="h" id="ourbigbook-web-vs-static-website-publishing"><div class="notnav"><h4><a href="ourbigbook-web-vs-static-website-publishing">OurBigBook Web vs static website publishing</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-vs-static-website-publishing"></a><span class="metrics"><span class="wcntr"> Words: 140</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publish-your-content" class="u"> Publish your content</a><a href="#_toc/ourbigbook-web-vs-static-website-publishing" class="toc"></a></div></nav></div><div class="list"><ul id="_3091"><li id="_3092"><div class="p" id="_3093"><a href="#p-publish">static websites</a> are cheaper to host, including many free options such as <a href="#publish-to-github-pages">GitHub Pages</a>.</div><div class="p" id="_3094">This means that you are likely to always have several free or cheap choices of where to upload your content to, making it essentially all but <a href="https://en.wiktionary.org/wiki/TEOTWAWKI">TEOTWAWKI</a>-proof</div><div class="p" id="_3095">Pages will also load slightly fatser.</div></li><li id="_3096"><div class="p" id="_3097"><a href="#ourbigbook-web">OurBigBook Web</a> has killer multi-user features: <a href="#ourbigbook-web-topics">OurBigBook Web topics</a>, article upvotes and <a href="#ourbigbook-web-discussions">OurBigBook Web discussions</a></div><div class="p" id="_3098">Furthermore, it also has some non multi-user features which cannot be feasibly implemented in a static website because they would require too much storage, on the fly generation is the only feasible way to deal with them:<div class="list"><ul id="_3099"><li id="_3100"><a href="#ourbigbook-web-dynamic-article-tree">OurBigBook Web dynamic article tree</a></li><li id="_3101">article history. Unimplemented as of writing: <a href="https://github.com/ourbigbook/ourbigbook/issues/248">github.com/ourbigbook/ourbigbook/issues/248</a></li></ul></div></div><div class="p" id="_3102">Its main downside is that it is more expensive to host.</div><div class="p" id="_3103">The <a href="">OurBigBook Project</a> will do its best to keep <a href="#ourbigbook-com">OurBigBook.com</a> uploading as free as possible, but upload limits necessarily have to be more strict than those of static websites, as the underlying operating cost is larger.</div></li></ul></div><div class="h" id="index-file"><div class="notnav"><h3><a href="index-file">Index file</a></h3><span class="hover-meta"> <a class="split" href="index-file"></a><span class="metrics"><span class="wcntr"> Words: 795</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/index-file" class="toc"></a></div></nav></div><div class="p" id="_3104">An index file is a file with basename <code>index.bigb</code>.</div><div class="p" id="_3105">Those basenames have the following magic properties:<div class="list"><ul id="_3106"><li id="_3107">the default output file name for an index file in HTML output is either:<div class="list"><ul id="_3108"><li id="_3109"><code>index.html</code> when in the <a href="#project-toplevel-directory">project toplevel directory</a>. E.g. <code>index.bigb</code> renders to <code>index.html</code>. Note that GitHub and many other static website hosts then automatically hide the <code>index.html</code> part from the URL, so that your <code>index.bigb</code> hosted at <code>http://example.com</code> will be accessible simply under <code>http://example.com</code> and not <code>http://example.com/index.html</code></li><li id="_3110"><div class="p" id="_3111">the name of the subdirectory in which it is located when not in the <a href="#project-toplevel-directory">project toplevel directory</a>. E.g. <code>mysubdir/index.bigb</code> outputs to <code>mysubdir.html</code></div><div class="p" id="_3112">Previously, we had placed the output in <code>mysubdir/index.html</code>, but this is not as nice as it makes GitHub pages produce URLs with a trailing slash as <code>mysubdir/</code>, which is ugly, see also: <a href="https://stackoverflow.com/questions/5948659/when-should-i-use-a-trailing-slash-in-my-url">stackoverflow.com/questions/5948659/when-should-i-use-a-trailing-slash-in-my-url</a></div></li></ul></div></li><li id="_3113">the default <a href="#the-toplevel-header">toplevel header</a> ID of an index files is derived from the parent directory basename rather than from the source file basename</li></ul></div></div><div class="h" id="project-toplevel-directory"><div class="notnav"><h4><a href="project-toplevel-directory">Project toplevel directory</a></h4><span class="hover-meta"> <a class="split" href="project-toplevel-directory"></a><span class="metrics"><span class="wcntr"> Words: 642</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#index-file" class="u"> Index file</a><a href="#_toc/project-toplevel-directory" class="toc"></a></div></nav></div><div class="p" id="_3114">This directory is determined by first checking the presence of a <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> file.</div><div class="p" id="_3115">If a <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> is found, then the project toplevel directory is the directory that contains that file.<div class="list"><ul id="_3116"><li id="_3117">otherwise, if the input path is a descendant of the current working directory, then the current working directory is used, see also: <a href="#the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json">the current working directory does not matter when there is a <code>ourbigbook.json</code></a></li><li id="_3118">otherwise, if the input path is a directory, it is used</li><li id="_3119">otherwise, the directory containing the input file is used</li></ul></div></div><div class="p" id="_3120">For example, consider the file following file structure relative to the current working directory:<div class="code" id="_3121"><div><pre><code>path/to/notindex.bigb</code></pre></div></div></div><div class="p" id="_3122">In this case:<div class="list"><ul id="_3123"><li id="_3124">if there is no <code>ourbigbook.json</code> file:<div class="list"><ul id="_3125"><li id="_3126">if we run <code>ourbigbook .</code>: the toplevel directory is the current directory <code>.</code>, and so <code>notindex.bigb</code> has ID <code>path/to/notindex</code></li><li id="_3127">if we run <code>ourbigbook path</code>: same</li><li id="_3128">if we run <code>ourbigbook path/to</code>: same</li><li id="_3129">if we run <code>ourbigbook path/to/notindex.bigb</code>: same</li></ul></div></li><li id="_3130">if there is a <code>path/ourbigbook.json</code> file:<div class="list"><ul id="_3131"><li id="_3132">if we run <code>ourbigbook .</code>: the toplevel directory is the current directory <code>.</code> because the <code>ourbigbook.json</code> is below the entry point and is not seen, and so <code>notindex.bigb</code> has ID <code>path/to/notindex</code></li><li id="_3133">if we run <code>ourbigbook path</code>: the toplevel directory is the directory with the <code>ourbigbook.json</code>, <code>path</code>, and so <code>notindex.bigb</code> has ID <code>to/notindex</code></li><li id="_3134">if we run <code>ourbigbook path/to</code>: same</li><li id="_3135">if we run <code>ourbigbook path/to/notindex.bigb</code>: same</li></ul></div></li></ul></div></div><div class="h" id="the-toplevel-index-file"><div class="notnav"><h5><a href="the-toplevel-index-file">The toplevel index file</a></h5><span class="hover-meta"> <a class="split" href="the-toplevel-index-file"></a><span class="metrics"><span class="wcntr"> Words: 430</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-toplevel-directory" class="u"> Project toplevel directory</a><a href="#_toc/the-toplevel-index-file" class="toc"></a></div></nav></div><div class="p" id="_3136">This is the <a href="#index-file">index file</a> present in the <a href="#project-toplevel-directory">project toplevel directory</a>, i.e. the file with path exactly <code>index.bigb</code>.</div><div class="h" id="the-home-article"><div class="notnav"><h6><a href="the-home-article">The home article</a></h6><span class="hover-meta"> <a class="split" href="the-home-article"></a><span class="metrics"><span class="wcntr"> Words: 237</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#the-toplevel-index-file" class="u"> The toplevel index file</a><a href="#_toc/the-home-article" class="toc"></a><span class="tags"> Tags: <a href="#the-toplevel-header">Toplevel header</a></span></div></nav></div><div class="p" id="_3138">The "home article" is the first article of <a href="#the-toplevel-index-file">the toplevel index file</a>. E.g. in:</div><div class="p" id="_3139">index.bigb<div class="code" id="_3140"><div><pre><code>= John Smith's Homepage

== I like dogs</code></pre></div></div>then "John Smith's Homepage" is the home article, but "I like dogs" is not.</div><div class="p" id="_3141">The home article has some special handling done to it, notably:<div class="list"><ul id="_3142"><li id="_3143">it renders as "Home" in many places as such as the breadcrumb, a way to make things more unified and succinct, especially on web</li><li id="_3144"><div class="p" id="_3145">it automatically gets two IDs:<div class="list"><ul id="_3146"><li id="_3147">a main empty ID</li><li id="_3148">a <a href="#h-synonym-argument">synonym</a> to that empty ID</li></ul></div>For example we could write:<div class="code" id="_3149"><div><pre><code>= John Smith's Homepage

== I like dogs

This is my homepage: &lt;&gt;

And also: &lt;John Smith's Homepage&gt;</code></pre></div></div>Here<div class="list"><ul id="_3150"><li id="_3151"><code>&lt;&gt;</code> renders as "Home"</li><li id="_3152"><code>&lt;John Smith's Homepage&gt;</code> renders as <code>John Smith's Homepage</code></li></ul></div>but both link to the same location</div><div class="p" id="_3153">As a consequence of the ID being empty, you have to set <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a> of subsequent headers to empty if you witsh to use them as in:<div class="code" id="_3154"><div><pre><code>= John Smith's Homepage

= I like dogs
{parent=}</code></pre></div></div></div><div class="p" id="_3155">Doing:<div class="code" id="_3156"><div><pre><code>= John Smith's Homepage

= I like dogs
{parent=John Smith's Homepage}</code></pre></div></div>doesn't current work because the ID <code>john-smith-s-homepage</code> is just a synonym to the empty ID, and you can't currently set <code>parent=</code> to point to synonyms:</div><div class="p" id="_3157">This is because the ID John Smith's Homepage</div><div class="p" id="_3158">You can prevent a second ID from being giving by simply setting the ID to be explicitly empty:<div class="code" id="_3159"><div><pre><code>= John Smith's Homepage
{id=}</code></pre></div></div>which would generte just a single empty ID.</div></li></ul></div></div><div class="h" id="the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json"><div class="notnav"><h6><a href="the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json">The current working directory does not matter when there is a <code>ourbigbook.json</code></a></h6><span class="hover-meta"> <a class="split" href="the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json"></a><span class="metrics"><span class="wcntr"> Words: 178</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#the-toplevel-index-file" class="u"> The toplevel index file</a><a href="#_toc/the-current-working-directory-does-not-matter-when-there-is-a-ourbigbook-json" class="toc"></a></div></nav></div><div class="p" id="_3160">When the file or directory being converted has an ancestor directory with a <code>ourbigbook.json</code> file, then your current working directory does not have any effect on OurBigBook output. For example if we have:<div class="code" id="_3161"><div><pre><code>/project/ourbigbook.json
/project/index.bigb
/project/subdir/index.bigb</code></pre></div></div>then all of the following conversions produce the same output:<div class="list"><ul id="_3162"><li id="_3163">directory conversion:<div class="list"><ul id="_3164"><li id="_3165"><code>cd /project &amp;&amp; ourbigbook .</code></li><li id="_3166"><code>cd / &amp;&amp; ourbigbook project</code></li><li id="_3167"><code>cd project/subdir &amp;&amp; ourbigbook ..</code></li></ul></div></li><li id="_3168">file conversion:<div class="list"><ul id="_3169"><li id="_3170"><code>cd /project &amp;&amp; ourbigbook index.bigb</code></li><li id="_3171"><code>cd / &amp;&amp; ourbigbook project/index.bigb</code></li><li id="_3172"><code>cd project/subdir &amp;&amp; ourbigbook ../index.bigb</code></li></ul></div></li></ul></div></div><div class="p" id="_3173">When there isn't a <code>ourbigbook.json</code>, everything happens as though there were an empty <code>ourbigbook.json</code> file in the current working directory. So for example:<div class="list"><ul id="_3174"><li id="_3175">outputs that would be placed relative to inputs are still placed in that place, e.g. <code>index.bigb -&gt; index.html</code> always stay together</li><li id="_3176">outputs that would be placed next to the <code>ourbigbook.json</code> are put in the current working directory, e.g. <a href="#the-out-directory">the <code>_out</code> directory</a></li></ul></div></div><div class="p" id="_3177">Internally, the general philosophy is that the JavaScript API in <a href="_raw/index.js">index.js</a> works exclusively with paths relative to the <a href="#project-toplevel-directory">project toplevel directory</a>. It is then up to callers such as <a href="_raw/ourbigbook">ourbigbook</a> to ensure that filesystem specifics handle the relative paths correctly.</div><div class="h" id="ourbigbook-cli-options"><div class="notnav"><h3><a href="ourbigbook-cli-options">OurBigBook CLI options</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-cli-options"></a><span class="metrics"><span class="wcntr"> Words: 7k</span><span class="dcnt"> Articles: 64</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/ourbigbook-cli-options" class="toc"></a></div></nav></div><div class="h" id="check-db-only"><div class="notnav"><h4><a href="check-db-only"><code>--check-db-only</code></a></h4><span class="hover-meta"> <a class="split" href="check-db-only"></a><span class="metrics"><span class="wcntr"> Words: 29</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/check-db-only" class="toc"></a></div></nav></div><div class="p" id="_3178">Check the database for consistency, e.g. duplicated IDs. Don't do anything else, including <a href="#id-extraction">ID extraction</a>, which must have been done previously.</div><div class="p" id="_3179">The initial use case was for usage in <a href="#parallel-build">Parallel builds</a>.</div><div class="h" id="china"><div class="notnav"><h4><a href="china"><code>--china</code></a></h4><span class="hover-meta"> <a class="split" href="china"></a><span class="metrics"><span class="wcntr"> Words: 43</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/china" class="toc"></a></div></nav></div><div class="p" id="_3180">This is the most important option of the software.</div><div class="p" id="_3181">It produces a copy of the HTML of <a href="https://cirosantilli.com/china-dictatorship">cirosantilli.com/china-dictatorship</a> to stdout.</div><div class="p" id="_3182">The data is stored inside an NPM package, making it hard to censor that information, see also: <a href="https://cirosantilli.com/china-dictatorship#mirrors">cirosantilli.com/china-dictatorship#mirrors</a></div><div class="p" id="_3183">Usage:<div class="code" id="_3184"><div><pre><code>ourbigbook --china &gt; china.html
firefox china.html</code></pre></div></div></div><div class="h" id="dry-run"><div class="notnav"><h4><a href="dry-run"><code>--dry-run</code></a></h4><span class="hover-meta"> <a class="split" href="dry-run"></a><span class="metrics"><span class="wcntr"> Words: 95</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/dry-run" class="toc"></a></div></nav></div><div class="p" id="_3185">The <code>--dry-run</code> option is a good way to debug the <a href="#p-publish"><code>--publish</code> option</a>, as it builds the publish output files without doing any git commands that would be annoying to revert. So after doing:<div class="code" id="_3186"><div><pre><code>ourbigbook --dry-run --publish .</code></pre></div></div>you can just go and inspect the generated HTML to see what would get pushed at:<div class="code" id="_3187"><div><pre><code>cd _out/publish/_out/publish/</code></pre></div></div>see also: <a href="#the-out-directory">the <code>_out</code> directory</a>.</div><div class="p" id="_3188">Inspiration: <a href="https://github.com/cirosantilli/linux-kernel-module-cheat/tree/6d0a900f4c3c15e65d850f9d29d63315a6f976bf#dry-run-to-get-commands-for-your-project">github.com/cirosantilli/linux-kernel-module-cheat/tree/6d0a900f4c3c15e65d850f9d29d63315a6f976bf#dry-run-to-get-commands-for-your-project</a></div><div class="h" id="dry-run-push"><div class="notnav"><h5><a href="dry-run-push"><code>--dry-run-push</code></a></h5><span class="hover-meta"> <a class="split" href="dry-run-push"></a><span class="metrics"><span class="wcntr"> Words: 37</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#dry-run" class="u"> <code>--dry-run</code></a><a href="#_toc/dry-run-push" class="toc"></a></div></nav></div><div class="p" id="_3189">Similar to <a href="#dry-run"><code>--dry-run</code></a>, but it runs all git commands except for <code>git push</code>, which gives a clearer idea of what <code>--publish</code> would actually do including the git operations, but without publishing anything:<div class="code" id="_3190"><div><pre><code>./ourbigbook --dry-run --publish .</code></pre></div></div></div><div class="h" id="embed-includes"><div class="notnav"><h4><a href="embed-includes"><code>--embed-includes</code></a></h4><span class="hover-meta"> <a class="split" href="embed-includes"></a><span class="metrics"><span class="wcntr"> Words: 244</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/embed-includes" class="toc"></a></div></nav></div><div class="p" id="_3191">Makes <a href="#include">includes</a> render the included content in the same output file as the include is located, instead of the default behaviour of creating links.</div><div class="p" id="_3192">For example given:</div><div class="p" id="_3193">index.bigb<div class="code" id="_3194"><div><pre><code>= Index

\Include[notindex]</code></pre></div></div></div><div class="p" id="_3195">notindex.bigb<div class="code" id="_3196"><div><pre><code>= Notindex

A paragraph in notindex.

== Notindex 2</code></pre></div></div></div><div class="p" id="_3197">then for conversion with:<div class="code" id="_3198"><div><pre><code>ourbigbook --embed-includes index.bigb</code></pre></div></div>then the output <code>index.html</code> contains an output equivalent to if your input file were:<div class="code" id="_3199"><div><pre><code>= Index

== Notindex

A paragraph in notindex.

=== Notindex 2</code></pre></div></div></div><div class="p" id="_3200">Note that a prior <a href="#id-extraction">ID extraction</a> pass is not required, <code>--embed-includes</code> just makes <code>\Include</code> read files as they are found in the source.</div><div class="p" id="_3201">In addition to this:<div class="list"><ul id="_3202"><li id="_3203"><div class="p" id="_3204"><a href="#cross-file-internal-link">cross file internal links</a> outside the included files are disabled, and the cross file ID database does not get updated.</div><div class="p" id="_3205">It should be possible to work around this, but we are starting with the simplest implementation that forbids it. TODO at: <a href="https://github.com/ourbigbook/ourbigbook/issues/343">github.com/ourbigbook/ourbigbook/issues/343</a></div><div class="p" id="_3206">The problem those cause is that the IDs of included headers show as duplicate IDs of those in the ID database.</div><div class="p" id="_3207">This should be OK to start with because the more common use case with <code>--html-single-page</code> is that of including all headers in a single document. TODO: this option is gone.</div></li></ul></div></div><div class="p" id="_3208">Otherwise, <code>include</code> only adds the headers of the other file to the table of contents of the current one, but not the body of the other file. The ToC entries then point to the headers of the included external files.</div><div class="p" id="_3209">You may want to use this option together with <a href="#embed-resources"><code>--embed-resources</code></a> to produce fully self-contained individual HTML files for your project.</div><div class="h" id="escape-literal"><div class="notnav"><h4><a href="escape-literal"><code>--escape-literal</code></a></h4><span class="hover-meta"> <a class="split" href="escape-literal"></a><span class="metrics"><span class="wcntr"> Words: 88</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/escape-literal" class="toc"></a></div></nav></div><div class="p" id="_3210">Take input from stdin as a plaintext string and produce output escaping the input string so that OurBigBook conversion will result in a single output string. E.g.:<div class="code" id="_3211"><div><pre><code>printf '\\a[`\n' | ourbigbook --escape-literal</code></pre></div></div>outputs:<div class="code" id="_3212"><div><pre><code>\\a\[\`\</code></pre></div></div>so that every <a href="#escape-characters">character that needed to be escaped</a> was fully escaped to produce plaintext output.</div><div class="p" id="_3213">Note that newlines are also currently escaped even when that is not strictly needed, e.g. in the case of double newlines it would be needed but not for single newlines. But we are keeping it simple for now.</div><div class="h" id="embed-resources"><div class="notnav"><h4><a href="embed-resources"><code>--embed-resources</code></a></h4><span class="hover-meta"> <a class="split" href="embed-resources"></a><span class="metrics"><span class="wcntr"> Words: 528</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/embed-resources" class="toc"></a></div></nav></div><div class="p" id="_3214">Embed as many external resources such as images and CSS as possible into the HTML output files, rather than linking to external resources.</div><div class="p" id="_3215">For example, when converting a simple document to HTML:</div><div class="p" id="_3216">index.bigb<div class="code" id="_3217"><div><pre><code>= Index

My paragraph.</code></pre></div></div></div><div class="p" id="_3218">with:<div class="code" id="_3219"><div><pre><code>ourbigbook index.bigb</code></pre></div></div>the output contains references to where OurBigBook is installed in our local filesystem:<div class="code" id="_3220"><div><pre><code>&lt;style&gt;
@import "/home/ciro/bak/git/ourbigbook/_obb/ourbigbook.css";
&lt;/style&gt;
&lt;script src="/home/ciro/bak/git/ourbigbook/_obb/ourbigbook_runtime.js"&gt;&lt;/script&gt;</code></pre></div></div>The advantage of this is that we don't have to duplicate this for every single file. But if you are giving this file to someone else, they would likely not have those files at those exact locations, which would break the HTML page.</div><div class="p" id="_3221">With <code>--embed-resources</code>, the output contains instead something like:<div class="code" id="_3222"><div><pre><code>&lt;style&gt;/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{ [[ ... A LOT MORE CSS ... ]]&lt;/style&gt;
&lt;script&gt;/*! For license information please see ourbigbook_runtime.js.LICENSE.txt */ !function(t,e){"object"==typeof exports&amp;&amp;"object"==typeof module?module.exports=e() [[ ... A LOT MORE JAVASCRIPT ... ]]&lt;/script&gt;</code></pre></div></div>This way, all the required CSS and JavaScript will be present in the HTML file itself, and so readers will be able to view the file correctly without needing to install any missing dependencies.</div><div class="p" id="_3223">The use case for this option is to produce a single HTML file for an entire build that is fully self contained, and can therefore be given to consumers and viewed offline, much like a PDF.</div><div class="p" id="_3224">Examples of embeddings done:<div class="list"><ul id="_3225"><li id="_3226"><div class="p" id="_3227">CSS and JavaScript are copy pasted in place into the HTML.</div><div class="p" id="_3228">The default built-in CSS and JavaScript files used by OurBigBook (e.g. the KaTeX CSS <a href="#mathematics">used for mathematics</a>) are currently all automatically downloaded as NPM package dependencies to ourbigbook</div><div class="p" id="_3229">Without <code>--embed-resources</code>, those CSS and JavaScript use their main cloud CDN URLs, and therefore require Internet connection to view the generated documents.</div><div class="p" id="_3230">The embedded version of the document can be viewed offline however.</div><div class="p" id="_3231">There is however a known bug: KaTeX fonts are not currently embedded, so math won't work properly. The situation is similar as for images, but a bit harder because we also need to fetch the blobs from the CSS, which is likely doable from Webpack:<div class="list"><ul id="_3232"><li id="_3233"><a href="https://github.com/ourbigbook/ourbigbook/issues/157">github.com/ourbigbook/ourbigbook/issues/157</a></li><li id="_3234"><a href="https://stackoverflow.com/questions/41657087/webpack-inline-font-with-url-loader">stackoverflow.com/questions/41657087/webpack-inline-font-with-url-loader</a></li><li id="_3235"><a href="https://stackoverflow.com/questions/35369419/how-to-use-images-in-css-with-webpack">stackoverflow.com/questions/35369419/how-to-use-images-in-css-with-webpack</a></li></ul></div></div></li></ul></div></div><div class="p" id="_3236">Examples of embedding that could be implemented in the future:<div class="list"><ul id="_3237"><li id="_3238"><div class="p" id="_3239"><a href="#image">images</a> are downloaded if needed and embedded as <code>data:</code> URLs.</div><div class="p" id="_3240">Doing this however has a downside: it would slow the page loading down. The root problem is that HTML was not designed to contain assets, and notably it doesn't have byte position indices that can tell it to skip blobs while parsing, and how to refer to them later on when they show up on the screen. This is kind of why EPUB exists: <a href="https://github.com/ourbigbook/ourbigbook/issues/158">github.com/ourbigbook/ourbigbook/issues/158</a></div><div class="p" id="_3241">Images that are managed by the project itself and already locally present, such as those inside the project itself or due to <a href="#ourbigbook-json/media-providers"><code>media-providers</code></a> usually don't require download.</div><div class="p" id="_3242">For images linked directly from the web, we maintain a local download cache, and skip downloads if the image is already in the cache.</div><div class="p" id="_3243">To re-download due to image updates, use either:<div class="list"><ul id="_3244"><li id="_3245"><code>--asset-cache-update</code>: download all images such that the local disk timestamp is older than the HTTP modification date with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since"><code>If-Modified-Since</code></a></li><li id="_3246"><code>--asset-cache-update-force</code>: forcefully redownload all assets</li></ul></div></div></li></ul></div></div><div class="p" id="_3247">Keep in mind that certain things can never be embedded, e.g.:<div class="list"><ul id="_3248"><li id="_3249">YouTube videos, since YouTube does not offer any download API</li></ul></div></div><div class="h" id="force-render"><div class="notnav"><h4><a href="force-render">-<code>F</code>, <code>--force-render</code></a></h4><span class="hover-meta"> <a class="split" href="force-render"></a><span class="metrics"><span class="wcntr"> Words: 349</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/force-render" class="toc"></a></div></nav></div><div class="p" id="_3250">Always render all selected files, irrespectively of if they are known to be outdated or not.</div><div class="p" id="_3251">OurBigBook stores the timestamp of the last successful <a href="#id-extraction">ID extraction</a> step for each file.</div><div class="p" id="_3252">For <a href="#id-extraction">ID extraction</a>, we always skip the extraction if the filesystem timestamp of a source file is older than the last successful extraction.</div><div class="p" id="_3253">For render:<div class="list"><ul id="_3254"><li id="_3255">we mark output files as outdated when the corresponding source file is parsed</li><li id="_3256">we also skip rendering non-outdated files by default when you invoke ourbigbook on a directory, e.g. <code>ourbigbook .</code>, as this greatly speeds up the interactive error fixing turnaround time</li><li id="_3257">we always re-render fully when you specify a single file, e.g. <code>ourbigbook path/to/index.bigb</code></li></ul></div></div><div class="p" id="_3258">However, note that skipping renders, unlike for ID extraction, can lead to some outdated pages.</div><div class="p" id="_3259">This option disables the timestamp skip for rendering, so ensure that you will get a fully clean updated render.</div><div class="p" id="_3260">E.g. consider if you had two files:</div><div class="p" id="_3261">file1.bigb</div><div class="code" id="_3262"><div><pre><code>= File 1

== File 1 1</code></pre></div></div><div class="p" id="_3263">file2.bigb</div><div class="code" id="_3264"><div><pre><code>= File 2

== File 2 1

\x[file-1-1]</code></pre></div></div><div class="p" id="_3265">We then do the initial conversion:<div class="code" id="_3266"><div><pre><code>ourbigbook .</code></pre></div></div>we see output like:<div class="code" id="_3267"><div><pre><code>extract_ids file1.bigb
extract_ids file1.bigb finished in 45.61287499964237 ms
extract_ids file2.bigb
extract_ids file2.bigb finished in 15.163879998028278 ms
render file1.bigb
render file1.bigb finished in 23.21016100049019 ms
render file2.bigb
render file2.bigb finished in 25.92908499762416 ms</code></pre></div></div>indicating full conversion without skips.</div><div class="p" id="_3268">But then if we just modify fil1.bigb as:<div class="code" id="_3269"><div><pre><code>= File 1

== File 1 1 hacked
{id=file-1-1}</code></pre></div></div>the following conversion with <code>ourbigbook .</code> would look like:<div class="code" id="_3270"><div><pre><code>extract_ids file1.bigb
extract_ids file1.bigb finished in 45.61287499964237 ms
extract_ids file2.bigb
extract_ids file2.bigb skipped by timestamp
render file1.bigb
render file1.bigb finished in 41.026930000633 ms
render file2.bigb
render file2.bigb skipped by timestamp</code></pre></div></div>and because we skipped <code>file2.bigb</code> render, it will still have the outdated "File 1 1" instead of "File 1 1 hacked".</div><div class="p" id="_3271">We could in principle solve this problem by figuring out exactly which files need to be changed when a given ID changes, and we already <a href="#conversion-process-overview">have to solve a similar problem due to query bundling</a>. Also, this will need to be done sonner or later for the <a href="#ourbigbook-web">OurBigBook Web</a>. But lazy now: <a href="https://github.com/ourbigbook/ourbigbook/issues/207">github.com/ourbigbook/ourbigbook/issues/207</a>, this is hard stuff.</div><div class="h" id="format-source"><div class="notnav"><h4><a href="format-source"><code>--format-source</code></a></h4><span class="hover-meta"> <a class="split" href="format-source"></a><span class="metrics"><span class="wcntr"> Words: 155</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/format-source" class="toc"></a></div></nav></div><div class="p" id="_3272">Parse and overwrite the local .bigb <a href="#ourbigbook-markup">OurBigBook Markup</a> input source files with the recommended code format. E.g.:<div class="code" id="_3273"><div><pre><code>ourbigbook index.bigb</code></pre></div></div>overwrites <code>index.bigb</code> with the recommended formatting, and:<div class="code" id="_3274"><div><pre><code>ourbigbook .</code></pre></div></div>does that for every single file in the current directory.</div><div class="p" id="_3275">This option uses the <a href="#bigb-output-format"><code>bigb</code> output format</a>.</div><div class="p" id="_3276">In order to reach a final stable state, you might need to run the conversion twice. This is not ideal but we don't have the patience to fix it. The reason is that links in image titles may expand twice. This is the usual type of two level recursion that has caused much more serious problems, see e.g. <a href="#x-within-title-restrictions"><code>\x</code> within <code>title</code> restrictions</a>. E.g. starting with:<div class="code" id="_3277"><div><pre><code>&lt;image my big dog&gt;

\Image[image.png]{title=My &lt;big dog&gt;}

= Big dog</code></pre></div></div>the first conversion leads to uppercasing inside the image title:<div class="code" id="_3278"><div><pre><code>&lt;image my big dog&gt;

\Image[image.png]{title=My &lt;big Dog&gt;}

= Big Dog</code></pre></div></div>and the second one to uppercasing the reference to the image title:<div class="code" id="_3279"><div><pre><code>&lt;image my big Dog&gt;

\Image[image.png]{title=My &lt;big Dog&gt;}

= Big Dog</code></pre></div></div></div><div class="h" id="generate"><div class="notnav"><h4><a href="generate"><code>--generate</code></a></h4><span class="hover-meta"> <a class="split" href="generate"></a><span class="metrics"><span class="wcntr"> Words: 197</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/generate" class="toc"></a></div></nav></div><div class="p" id="_3280">The project templates are simple ourbigbook project directories that serve as good starting point for new ourbigbook projects.</div><div class="p" id="_3281">They also contain useful examples of <a href="#ourbigbook-markup">OurBigBook Markup</a> usage to help users get started quickly.</div><div class="p" id="_3282">Generate one of the template repositories locally:<div class="list"><ul id="_3283"><li id="_3284"><code>ourbigbook --generate default</code>: a good starter template that illustrates many key OurBigBook features<div class="list"><ul id="_3285"><li id="_3286"><a href="https://github.com/ourbigbook/template">github.com/ourbigbook/template</a></li><li id="_3287"><a href="https://ourbigbook.github.io/template">ourbigbook.github.io/template</a></li></ul></div></li><li id="_3288"><code>ourbigbook --generate min</code>: a minimal template that is still sane<div class="list"><ul id="_3289"><li id="_3290"><a href="https://github.com/ourbigbook/template-min">github.com/ourbigbook/template-min</a></li><li id="_3291"><a href="https://ourbigbook.github.io/template-min">ourbigbook.github.io/template-min</a></li></ul></div></li><li id="_3292"><div class="p" id="_3293"><code>ourbigbook --generate subdir</code>: a template in which OurBigBook source is located a subdirectory <code>docs/</code>:<div class="list"><ul id="_3294"><li id="_3295"><a href="https://github.com/ourbigbook/template-subdir">github.com/ourbigbook/template-subdir</a></li><li id="_3296"><a href="https://ourbigbook.github.io/template-subdir">ourbigbook.github.io/template-subdir</a></li></ul></div>This template illustrates that everything works exactly as if OurBigBook source were in the git repository toplevel.</div><div class="p" id="_3297">This is a convenient setup for programming projects that want to use OurBigBook for their documentation without polluting their toplevel.</div></li></ul></div></div><div class="p" id="_3298">End users almost never want this, because it means that to have a sane setup you need to:<div class="list"><ul id="_3299"><li id="_3300">install OurBigBook globally with <code>npm install -g ourbigbook</code></li><li id="_3301">generate the template</li><li id="_3302">then install OurBigBook locally again with <code>npm install</code></li></ul></div>so maybe we should just get rid of that option and just ensure that we can provide an up-to-date working template for the latest relase.</div><div class="p" id="_3303">For now we are keeping this as it is useful to automate the updating of templates during the <a href="#release-procedure">release procedure</a>.</div><div class="h" id="help-macros"><div class="notnav"><h4><a href="help-macros"><code>--help-macros</code></a></h4><span class="hover-meta"> <a class="split" href="help-macros"></a><span class="metrics"><span class="wcntr"> Words: 14</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/help-macros" class="toc"></a></div></nav></div><div class="p" id="_3304">You can get an overview of all macros in JSON format with:<div class="code" id="_3305"><div><pre><code>ourbigbook --help-macros</code></pre></div></div></div><div class="h" id="log"><div class="notnav"><h4><a href="log"><code>--log</code></a></h4><span class="hover-meta"> <a class="split" href="log"></a><span class="metrics"><span class="wcntr"> Words: 523</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/log" class="toc"></a></div></nav></div><div class="p" id="_3306">Give multiple times to enable a list of certain types of logs to stderr help debugging, e.g.:<div class="code" id="_3307"><div><pre><code>./ourbigbook --log ast tokens -- index.bigb</code></pre></div></div>Note that this follows <a href="https://github.com/tj/commander.js/tree/e0e723810357e915210af38ccf5098ffe1fb8e65#variadic-option">commander.js' shorthand variadic argumentso syntax</a>, and thus the <code>--</code> is required above. If you want to omit it for a single value you have to add the <code>=</code> sign as in:<div class="code" id="_3308"><div><pre><code>./ourbigbook --log=ast index.bigb</code></pre></div></div></div><div class="p" id="_3309">Values not documented in other sections:<div class="list"><ul id="_3310"><li id="_3311"><code>ast</code>: the full final parsed <a href="#abstract-syntax-tree">abstract syntax tree</a> as JSON</li><li id="_3312"><code>ast-simple</code>: a simplified view of the <a href="#abstract-syntax-tree">abstract syntax tree</a> with one AstNode or AstArgument per line and showing only the most important fields</li><li id="_3313"><code>ast-pp-simple</code>: view snapshots of the various <a href="#abstract-syntax-tree">abstract syntax tree</a> post process stages, more info at: <a href="#conversion-process-overview">conversion process overview</a></li><li id="_3314"><div class="p" id="_3315"><code>ast-inside</code>: print the AST from inside the <code>ourbigbook.convert</code> call before it returns.</div><div class="p" id="_3316">This is useful to debug the program if <code>ourbigbook.convert</code> blows up on the next stages before returning.</div></li><li id="_3317"><code>db</code>: show database transactions done by OurBigBook, to help debug stuff like <a href="#cross-file-internal-link">cross file internal links</a></li><li id="_3318"><div class="p" id="_3319"><code>mem</code>: show process memory usage as per Node.js' <code>process.memoryUsage()</code> after each <a href="#log-perf"><code>--log perf</code></a> step: <a href="https://stackoverflow.com/questions/12023359/what-do-the-return-values-of-node-js-process-memoryusage-stand-for">stackoverflow.com/questions/12023359/what-do-the-return-values-of-node-js-process-memoryusage-stand-for</a>. Implies <a href="#log-perf"><code>--log perf</code></a>.</div><div class="p" id="_3320">To use this options, you must run OurBigBook with the <code>--expose-gc</code> command line option, e.g. with:<div class="code" id="_3321"><div><pre><code>node --expose-gc $(which ourbigbook) myfile.bigb</code></pre></div></div></div></li><li id="_3322"><code>parse</code>: parsing steps</li><li id="_3323"><code>tokenize</code>: tokenization steps</li><li id="_3324"><code>tokens</code>: final parsed token stream</li><li id="_3325"><div class="p" id="_3326"><code>tokens-inside</code>: like <code>ast-inside</code> but for tokens.</div><div class="p" id="_3327">Also adds token index to the output, which makes debugging the parser way easier.</div></li></ul></div></div><div class="h" id="log-headers"><div class="notnav"><h5><a href="log-headers"><code>--log headers</code></a></h5><span class="hover-meta"> <a class="split" href="log-headers"></a><span class="metrics"><span class="wcntr"> Words: 112</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log" class="u"> <code>--log</code></a><a href="#_toc/log-headers" class="toc"></a></div></nav></div><div class="p" id="_3328">This nifty little option outputs to stderr what the header graph looks like!</div><div class="p" id="_3329">It is a bit like a <a href="#table-of-contents">table of contents</a> in your terminal, for when you need to have a look at the outline of the document to decide where to place a new header, but are not in the mood to open a browser or use the <a href="#browser-editor-with-preview">browser editor with preview</a>.</div><div class="p" id="_3330">Sample output excerpt for this document:<div class="code" id="_3331"><div><pre><code>= h1  ourbigbook
== h2 1 quick-start
== h2 2 design-goals
=== h3 2.1 saner
=== h3 2.2 more-powerful
== h2 3 paragraphs
== h2 4 links</code></pre></div></div></div><div class="p" id="_3332">This option can also serve as a debug tool for header tree related features (confession: that was its original motivation!).</div><div class="p" id="_3333">TODO</div><div class="h" id="log-perf"><div class="notnav"><h5><a href="log-perf"><code>--log perf</code></a></h5><span class="hover-meta"> <a class="split" href="log-perf"></a><span class="metrics"><span class="wcntr"> Words: 186</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log" class="u"> <code>--log</code></a><a href="#_toc/log-perf" class="toc"></a></div></nav></div><div class="p" id="_3334">print <a href="#performance">performance</a> statistics to stderr, for example<div class="code" id="_3335"><div><pre><code>./ourbigbook --log=perf index.bigb</code></pre></div></div>could output:<div class="code" id="_3336"><div><pre><code>perf start: 181.33060800284147
perf tokenize_pre: 181.4424349963665
perf tokenize_post: 318.333980999887
perf parse_start: 319.1866770014167
perf post_process_start: 353.5477180033922
perf post_process_end: 514.1527540013194
perf render_pre: 514.1708239987493
perf render_post: 562.834307000041
perf end: 564.0349840000272
perf convert_input_end 566.1234430000186
perf convert_path_pre_sqlite 566.1564619988203
perf convert_path_pre_sqlite_transaction 566.2528780028224
perf convert_path_post_sqlite_transaction 582.256645001471
perf convert_path_end 582.3469280004501</code></pre></div></div>which shows how long different parts of the <a href="#conversion-process-overview">conversion process</a> took to help identify bottlenecks.</div><div class="p" id="_3337">This option can also be useful to mark phases of the conversion to identify from which phase other logs are coming from, e.g. if we wanted to know which part of the conversion is making a ton of database requests we could run:<div class="code" id="_3338"><div><pre><code>ourbigbook --log db perf -- index.bigb</code></pre></div></div>and we would see the database requests made at each conversion phase.</div><div class="p" id="_3339">Note that <code>--log perf</code> currently does not take sub-converts into account, e.g. <a href="#include">include</a> and <a href="#ourbigbookexample"><code>\OurBigBookExample</code></a> both call the toplevel conversion  function <code>convert</code>, and therefore go through all the conversion intervals, but we do not take those it account, and just dump them all into the same toplevel interval that they happen in, currently between <code>post_process_start</code> and <code>post_process_end</code>.</div><div class="h" id="no-check-db"><div class="notnav"><h4><a href="no-check-db"><code>--no-check-db</code></a></h4><span class="hover-meta"> <a class="split" href="no-check-db"></a><span class="metrics"><span class="wcntr"> Words: 75</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/no-check-db" class="toc"></a></div></nav></div><div class="p" id="_3340">Skip the database sanity check that is normally done after the <a href="#id-extraction">ID extraction</a> step.</div><div class="p" id="_3341">This was originally added to speed up, originally added to speed up the <a href="#web">web upload</a> development loop, when we knew that there were no errors in the database after a local conversion, and wanted to get to the upload phase faster, but the DB check can take several seconds for a large input.</div><div class="p" id="_3342">But it then later also found usage with <a href="#parallel-build">Parallel builds</a> followed by a <a href="#check-db-only"><code>--check-db-only</code></a>.</div><div class="h" id="no-db"><div class="notnav"><h4><a href="no-db"><code>--no-db</code></a></h4><span class="hover-meta"> <a class="split" href="no-db"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/no-db" class="toc"></a></div></nav></div><div class="p" id="_3343">Don't use the <a href="#cross-file-internal-link-internals">ID database</a> during this run. This implies that the on-disk database is not read, and also not written to. Instead, a temporary clean in-memory database is used.</div><div class="h" id="no-html-x-extension"><div class="notnav"><h4><a href="no-html-x-extension"><code>--no-html-x-extension</code></a></h4><span class="hover-meta"> <a class="split" href="no-html-x-extension"></a><span class="metrics"><span class="wcntr"> Words: 83</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/no-html-x-extension" class="toc"></a></div></nav></div><div class="p" id="_3344">If not given, <a href="#internal-link">internal links</a> render with the <code>.html</code> extension as in:<div class="code" id="_3345"><div><pre><code>&lt;a href=not-index.html#h2-in-not-the-index&gt;</code></pre></div></div></div><div class="p" id="_3346">This way, those links will work when rendering locally to <code>.html</code> files which is the default behaviour of:<div class="code" id="_3347"><div><pre><code>ourbigbook .</code></pre></div></div></div><div class="p" id="_3348">If given however, the links render without the <code>.html</code> as in:<div class="code" id="_3349"><div><pre><code>&lt;a href=not-index#h2-in-not-the-index&gt;</code></pre></div></div>which is what is needed for servers such as GitHub Pages, which automatically remove the <code>.html</code> extension from paths.</div><div class="p" id="_3350">This option is automatically implied when <a href="#publish-to-github-pages">publishing to targets that remove the <code>.html</code> extension such as GitHub pages</a>.</div><div class="h" id="no-render"><div class="notnav"><h4><a href="no-render"><code>--no-render</code></a></h4><span class="hover-meta"> <a class="split" href="no-render"></a><span class="metrics"><span class="wcntr"> Words: 31</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/no-render" class="toc"></a></div></nav></div><div class="p" id="_3351">Only extract IDs to fill the <a href="#cross-file-internal-link-internals">ID database</a>, don't render. This saves time if you only want to render a single file which has references to other files without getting any errors.</div><div class="h" id="no-web-render"><div class="notnav"><h4><a href="no-web-render"><code>--no-web-render</code></a></h4><span class="hover-meta"> <a class="split" href="no-web-render"></a><span class="metrics"><span class="wcntr"> Words: 44</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/no-web-render" class="toc"></a></div></nav></div><div class="p" id="_3352">Same as <a href="#no-render"><code>--no-render</code></a>, but for the <a href="#web"><code>-W</code>, <code>--web</code></a> upload stage.</div><div class="p" id="_3353">Web upload consists of two stages:<div class="list"><ul id="_3354"><li id="_3355">extract local ids and render to split ourbigbook files. This can be disabled with <a href="#no-render"><code>--no-render</code></a></li><li id="_3356">upload to web first on an <a href="#id-extraction">ID extraction</a> pass, and then a render pass. <a href="#no-web-render"><code>--no-web-render</code></a> skips that render pass</li></ul></div></div><div class="h" id="outdir"><div class="notnav"><h4><a href="outdir"><code>--outdir &lt;outdir&gt;</code></a></h4><span class="hover-meta"> <a class="split" href="outdir"></a><span class="metrics"><span class="wcntr"> Words: 98</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/outdir" class="toc"></a></div></nav></div><div class="p" id="_3357">Set a custom output directory for the conversion.</div><div class="p" id="_3358">If not given, the <a href="#project-toplevel-directory">project toplevel directory</a> is used.</div><div class="p" id="_3359">Suppose we have an input file <code>./test.bigb</code>. Then:<div class="code" id="_3360"><div><pre><code>ourbigbook --outdir my_outdir test.bigb</code></pre></div></div>places its output at:<div class="code" id="_3361"><div><pre><code>my_outdir/test.html</code></pre></div></div></div><div class="p" id="_3362">The same would happen if we instead did a full directory conversion as in:<div class="code" id="_3363"><div><pre><code>ourbigbook --outdir my_outdir .</code></pre></div></div>The output would also be placed in <code>my_outdir/test.html</code>.</div><div class="p" id="_3364">This option also relocates <a href="#the-out-directory">the <code>_out</code> directory</a> to the target destination, e.g.:<div class="code" id="_3365"><div><pre><code>ourbigbook --outdir my_outdir test.bigb</code></pre></div></div>would generate:<div class="code" id="_3366"><div><pre><code>my_outdir/out</code></pre></div></div>This means that the source tree remains completely clean, and every output and temporary cache is put strictly under the selected <code>--outdir</code>.</div><div class="h" id="outfile"><div class="notnav"><h4><a href="outfile"><code>--outfile &lt;outfie&gt;</code></a></h4><span class="hover-meta"> <a class="split" href="outfile"></a><span class="metrics"><span class="wcntr"> Words: 50</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/outfile" class="toc"></a></div></nav></div><div class="p" id="_3367">Save the output to a given file instead of outputting to stdout:<div class="code" id="_3368"><div><pre><code>./ourbigbook --outfile not-index.html not-index.bigb</code></pre></div></div></div><div class="p" id="_3369">The generated output is slightly different than that of:<div class="code" id="_3370"><div><pre><code>./ourbigbook not-index.bigb &gt; not-index.html</code></pre></div></div>because with <code>--outfile</code> we know where the output is going, and so we can generate relative includes to default CSS/JavaScript files.</div><div class="h" id="output-format"><div class="notnav"><h4><a href="output-format"><code>-O --output-format &lt;outformat&gt;</code></a></h4><span class="hover-meta"> <a class="split" href="output-format"></a><span class="metrics"><span class="wcntr"> Words: 587</span><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/output-format" class="toc"></a></div></nav></div><div class="p" id="_3371">Default: <a href="#html-output-format"><code>html</code> output format</a>.</div><div class="h" id="bigb-output-format"><div class="notnav"><h5><a href="bigb-output-format"><code>bigb</code> output format</a></h5><span class="hover-meta"> <a class="split" href="bigb-output-format"></a><span class="metrics"><span class="wcntr"> Words: 181</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#output-format" class="u"> <code>-O --output-format &lt;outformat&gt;</code></a><a href="#_toc/bigb-output-format" class="toc"></a></div></nav></div><div class="p" id="_3372">Outputs as <a href="#ourbigbook-markup">OurBigBook Markup</a>, i.e. the same format as the input itself!</div><div class="p" id="_3373">While using <code>-O bigb</code> is not a common use case, the existence of this format has the following applications:<div class="list"><ul id="_3374"><li id="_3375">automatic source code formatting e.g. with <a href="#format-source"><code>--format-source</code></a>. The recommended format, including several edge cases, can be seen in the test file <a href="_raw/test_bigb_output.bigb">test_bigb_output.bigb</a>, which should be left unchanged by a <code>bigb</code> conversion.</li><li id="_3376">manipulating source code on <a href="#ourbigbook-web">OurBigBook Web</a> to allow editing either individual sections separatelly, or multiple sections at once</li><li id="_3377">this could be adapted to allows us to migrate updates with breaking changes to the source code more easily. Alternatively on <a href="#ourbigbook-web">OurBigBook Web</a>, we might just start storing the <a href="#abstract-syntax-tree">AST</a> instead of source, and just rendering the source whenever users want to edit it.</li></ul></div></div><div class="p" id="_3378">Can be tested interactively with:<div class="code" id="_3379"><div><pre><code>ourbigbook --no-db -O bigb --stdout --log=ast-simple test_bigb_output.bigb</code></pre></div></div></div><div class="p" id="_3380">One important property of the <code>bigb</code> conversion is that is must not alter the <a href="#abstract-syntax-tree">AST</a>, and therefore neither the final output, in any way.</div><div class="p" id="_3381">One good test is:<div class="code" id="_3382"><div><pre><code>ourbigbook index.bigb &amp;&amp;
mv _out/html/index.html _out/html/old.html &amp;&amp;
ourbigbook --format-source index.bigb  &amp;&amp;
ourbigbook index.bigb &amp;&amp;
diff -u _out/html/old.html _out/html/index.html</code></pre></div></div></div><div class="p" id="_3383">This was tracked at: <a href="https://github.com/ourbigbook/ourbigbook/issues/83">github.com/ourbigbook/ourbigbook/issues/83</a></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="todo#ordered-list-lost-when-rendering-to-bigb-output-format">Ordered list lost when rendering to bigb output format</a></li></ul></div></div><div class="h" id="html-output-format"><div class="notnav"><h5><a href="html-output-format"><code>html</code> output format</a></h5><span class="hover-meta"> <a class="split" href="html-output-format"></a><span class="metrics"><span class="wcntr"> Words: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#output-format" class="u"> <code>-O --output-format &lt;outformat&gt;</code></a><a href="#_toc/html-output-format" class="toc"></a></div></nav></div><div class="p" id="_3384">The default output format. Web pages!!!</div><div class="h" id="id-output-format"><div class="notnav"><h5><a href="id-output-format"><code>id</code> output format</a></h5><span class="hover-meta"> <a class="split" href="id-output-format"></a><span class="metrics"><span class="wcntr"> Words: 398</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#output-format" class="u"> <code>-O --output-format &lt;outformat&gt;</code></a><a href="#_toc/id-output-format" class="toc"></a></div></nav></div><div class="p" id="_3385">This output format is used an intermediate step in <a href="#automatic-id-from-title">automatic ID from title</a>, that unlike the regular HTML output does not have any tags.</div><div class="p" id="_3386">It does not have serious applications to end users. We decided to expose it from the CLI mostly for fun, as it posed no extra work at all as it is treated internally exactly like any other conversion format.</div><div class="p" id="_3387">The <a href="#id-output-format"><code>id</code> output format</a> conversion is very simplistic: it basically just extracts the <a href="#content-argument"><code>content</code> argument</a> of most macros.</div><div class="p" id="_3388">An important exception to that behaviour is the first argument of the <a href="#internal-link"><code>\x</code> macro</a>: see <a href="#x-id-output-format"><code>\x</code> <code>id</code> output format</a>.</div><div class="p" id="_3389">For example, converting:<div class="code" id="_3390"><div><pre><code>\i[asdf]</code></pre></div></div>with the <code>id</code> output format produces simply:<div class="code" id="_3391"><div><pre><code>asdf</code></pre></div></div>instead of the HTML output:<div class="code" id="_3392"><div><pre><code>&lt;i&gt;asdf&lt;/i&gt;</code></pre></div></div></div><div class="p" id="_3393">This conversion type is useful in situations that users don't expect conversion to produce any HTML tags. For example, you could create a header:<div class="code" id="_3394"><div><pre><code>= My \i[asdf]</code></pre></div></div>and then following the <a href="#automatic-id-from-title">automatic ID from title</a> algorithm, that header would have the more commonly desired ID <code>my-asdf</code>, and not <code>my-&lt;i&gt;asdf&lt;/i&gt;</code> or <code>my-i-asdf-i</code>.</div><div class="p" id="_3395">Similarly, any <a href="#macro-argument">macro argument</a> that references an ID undergoes <a href="#id-output-format"><code>id</code> output format</a> conversion. E.g. the above header could be referenced by:<div class="code" id="_3396"><div><pre><code>&lt;My \i[asdf]&gt;</code></pre></div></div>which is equivalent to:<div class="code" id="_3397"><div><pre><code>\x[my-asdf]</code></pre></div></div></div><div class="p" id="_3398">Besides being more intuitive, this conversion also guarantees greater format portability, in case we ever decide to support other output formats besides HTML!</div><div class="p" id="_3399"><a href="#macro">Macros</a> that don't have a <a href="#content-argument"><code>content</code> argument</a> are just completely removed, i.e. typically non-textual macros such as <a href="#image">images</a>. We could put effort in outputting their title argument correctly, but meh, not worth the effort.</div><div class="p" id="_3400">The <a href="#id-output-format"><code>id</code> output format</a> also serves as a good start generalizing OurBigBook to multiple outputs, as this is a simple format.</div><div class="h" id="x-id-output-format"><div class="notnav"><h6><a href="x-id-output-format"><code>\x</code> <code>id</code> output format</a></h6><span class="hover-meta"> <a class="split" href="x-id-output-format"></a><span class="metrics"><span class="wcntr"> Words: 142</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#id-output-format" class="u"> <code>id</code> output format</a><a href="#_toc/x-id-output-format" class="toc"></a></div></nav></div><div class="p" id="_3401"><code>\x</code> uses <code>href</code> if the content is not given explicitly.</div><div class="p" id="_3402">Previously, if <code>\x</code> didn't have a content, we were actually rendering the <code>\x</code> to calculate the ID. But then we noticed that doing so would require another parse pass, so we just went for this simpler approach. This is closely linked to <a href="#x-within-title-restrictions"><code>\x</code> within <code>title</code> restrictions</a>.</div><div class="p" id="_3403">For example in:</div><div class="code" id="_3404"><div><pre><code>= Animal

\x[image-i-like-dog]

\Image[dog.jpg]
{title=I \i[like] \x[dog]}

== Dog hacked
{id=dog}</code></pre></div></div><div class="p" id="_3405">If you wanted <code>image-i-like-dog-hacked</code> instead, you would need to explicitly give it as in:<div class="code" id="_3406"><div><pre><code>= Animal

\x[image-i-like-dog-hacked]

\Image[dog.jpg]
{title=I like \x[dog][dog hacked]}

== Dog hacked
{id=dog}</code></pre></div></div></div><div class="p" id="_3407">For similar reasons as the above, <code>{p}</code> inflection with the <a href="#x-p-argument"><code>\x</code> <code>p</code> argument</a> is not considered either, e.g. you would have:<div class="code" id="_3408"><div><pre><code>= Animal

\x[image-i-like-dog]

\Image[dog.jpg]
{title=I like \x[dog]{p}}

== Dog</code></pre></div></div>and not:<div class="code" id="_3409"><div><pre><code>\x[image-i-like-dogs]</code></pre></div></div></div><div class="p" id="_3410">This can however be worked around with the <a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a> as in;<div class="code" id="_3411"><div><pre><code>= Animal

\x[image-i-like-dogs]

\Image[dog.jpg]
{title=I like &lt;dogs&gt;}

== Dog</code></pre></div></div></div><div class="h" id="unimplemented-output-formats"><div class="notnav"><h6><a href="unimplemented-output-formats">Unimplemented output formats</a></h6><span class="hover-meta"> <a class="split" href="unimplemented-output-formats"></a><span class="metrics"><span class="wcntr"> Words: 6</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#id-output-format" class="u"> <code>id</code> output format</a><a href="#_toc/unimplemented-output-formats" class="toc"></a></div></nav></div><div class="h" id="latex-output-format"><div class="notnav"><h6 data-level="7"><a href="latex-output-format"><code>latex</code> output format</a></h6><span class="hover-meta"> <a class="split" href="latex-output-format"></a><span class="metrics"><span class="wcntr"> Words: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#unimplemented-output-formats" class="u"> Unimplemented output formats</a><a href="#_toc/latex-output-format" class="toc"></a></div></nav></div><div class="p" id="_3412">TODO: <a href="https://github.com/ourbigbook/ourbigbook/issues/38">github.com/ourbigbook/ourbigbook/issues/38</a></div><div class="p" id="_3413">One day, one day. Maybe.</div><div class="h" id="p-publish"><div class="notnav"><h4><a href="p-publish"><code>-p</code>, <code>--publish</code></a></h4><span class="hover-meta"> <a class="split" href="p-publish"></a><span class="metrics"><span class="wcntr"> Words: 155</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/p-publish" class="toc"></a><span class="tags"> Tags: <a href="#publish-your-content">Publish your content</a></span></div></nav></div><div class="p" id="_3415">OurBigBook tooling is so amazing that we also take care of the HTML publishing for you!</div><div class="p" id="_3416">Once a publish target is properly setup, all you have to do is run:<div class="code" id="_3417"><div><pre><code>git add index.bigb
git commit -m 'more content!'
ourbigbook --publish</code></pre></div></div>and your changes will be published to the  default target specified in <a href="#ourbigbook-json"><code>ourbigbook.json</code></a>.</div><div class="p" id="_3418">If not specified, e.g. with the the <a href="#publish-target"><code>--publish-target</code></a> option, the default target is to <a href="#publish-to-github-pages">publish to GitHub Pages</a>.</div><div class="p" id="_3419">Only changes committed to Git are pushed.</div><div class="p" id="_3420">Files that <code>ourbigbook</code> knows how to process get processed and only their outputs are added to the published repo, those file types are:<div class="list"><ul id="_3421"><li id="_3422"><code>.bigb</code> files are converted to <code>.html</code></li><li id="_3423"><code>.scss</code> files are converted to <code>.css</code></li></ul></div>Every other Git-tracked file is pushed as is.</div><div class="p" id="_3424">When <code>--publish</code> is given, stdin input is not accepted, and so the current directory is built by default, i.e. the following two are equivalent:<div class="code" id="_3425"><div><pre><code>./ourbigbook --publish
./ourbigbook --publish .</code></pre></div></div></div><div class="p" id="_3426">Publishing only happens if the build has no errors.</div><div class="h" id="publish-commit"><div class="notnav"><h4><a href="publish-commit"><code>-P, --publish-commit &lt;commit-message&gt;</code></a></h4><span class="hover-meta"> <a class="split" href="publish-commit"></a><span class="metrics"><span class="wcntr"> Words: 65</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/publish-commit" class="toc"></a></div></nav></div><div class="p" id="_3427">Like the <a href="#p-publish"><code>--publish</code> option</a>, but also automatically:<div class="list"><ul id="_3428"><li id="_3429"><code>git add -u</code> to automatically add change to any files that have been previously git tracked</li><li id="_3430"><code>git commit -m &lt;commit-message&gt;</code> to create a new commit with those changes</li></ul></div></div><div class="p" id="_3431">This allows you to publish your changes live in a single command such as:<div class="code" id="_3432"><div><pre><code>ourbigbook --publish-commit 'my amazing change' .</code></pre></div></div></div><div class="p" id="_3433">With great power comes great responsibility of course, but who cares!</div><div class="h" id="publish-no-convert"><div class="notnav"><h4><a href="publish-no-convert"><code>--publish-no-convert</code></a></h4><span class="hover-meta"> <a class="split" href="publish-no-convert"></a><span class="metrics"><span class="wcntr"> Words: 59</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/publish-no-convert" class="toc"></a></div></nav></div><div class="p" id="_3434">Attempt to publish without converting first. Implies the <a href="#p-publish"><code>--publish</code> option</a>.</div><div class="p" id="_3435">This can only work if there was previously a successful publish conversion done, which later failed to publish during the following steps, e.g. due to a network error.</div><div class="p" id="_3436">This option was introduced for debugging purposes to help get the git commands right for large conversions that took a look time.</div><div class="h" id="publish-target"><div class="notnav"><h4><a href="publish-target"><code>--publish-target</code></a></h4><span class="hover-meta"> <a class="split" href="publish-target"></a><span class="metrics"><span class="wcntr"> Words: 291</span><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/publish-target" class="toc"></a><span class="tags"> Tags: <a href="#publish-your-content">Publish your content</a></span></div></nav></div><div class="p" id="_3438">What type of target to publish for. The generated output of each publish target is stored under:<div class="code" id="_3439"><div><pre><code>_out/publish/_out/&lt;target&gt;</code></pre></div></div>e.g.:<div class="code" id="_3440"><div><pre><code>_out/publish/_out/local</code></pre></div></div></div><div class="h" id="publish-target-github-pages"><div class="notnav"><h5><a href="publish-target-github-pages"><code>--publish-target github-pages</code></a></h5><span class="hover-meta"> <a class="split" href="publish-target-github-pages"></a><span class="metrics"><span class="wcntr"> Words: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publish-target" class="u"> <code>--publish-target</code></a><a href="#_toc/publish-target-github-pages" class="toc"></a></div></nav></div><div class="p" id="_3441">Publish to <a href="https://ourbigbook.com/go/topic/github-page">GitHub Pages</a>. See also: <a href="#publish-to-github-pages">Section "Publish to GitHub Pages"</a>.</div><div class="h" id="publish-target-local"><div class="notnav"><h5><a href="publish-target-local"><code>--publish-target local</code></a></h5><span class="hover-meta"> <a class="split" href="publish-target-local"></a><span class="metrics"><span class="wcntr"> Words: 68</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publish-target" class="u"> <code>--publish-target</code></a><a href="#_toc/publish-target-local" class="toc"></a></div></nav></div><div class="p" id="_3442">Publish as a local directory that can be zipped and sent to someone else, and then correctly viewed by a browser locally by the receiver. You can then zip it from the Linux command line for example with:<div class="code" id="_3443"><div><pre><code>ourbigbook --publish --publish-target local
cd _out/publish/_out
zip -r local.zip local</code></pre></div></div>Maybe we should do the Zip step from the <a href="#ourbigbook-cli">OurBigBook CLI</a> as well. There is no Node.js standard library wrapper however apparently: <a href="https://stackoverflow.com/questions/15641243/need-to-zip-an-entire-directory-using-node-js">stackoverflow.com/questions/15641243/need-to-zip-an-entire-directory-using-node-js</a></div><div class="h" id="publish-to-github-pages"><div class="notnav"><h5><a href="publish-to-github-pages">Publish to GitHub Pages</a></h5><span class="hover-meta"> <a class="split" href="publish-to-github-pages"></a><span class="metrics"><span class="wcntr"> Words: 197</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publish-target" class="u"> <code>--publish-target</code></a><a href="#_toc/publish-to-github-pages" class="toc"></a></div></nav></div><div class="p" id="_3444"><a href="https://pages.github.com/">GitHub pages</a> is the default OurBigBook publish target.</div><div class="p" id="_3445">Since that procedure is so important, it is documented directly at: <a href="#play-with-the-template">play with the template</a>.</div><div class="h" id="publish-to-github-pages-root-page"><div class="notnav"><h6><a href="publish-to-github-pages-root-page">Publish to GitHub pages root page</a></h6><span class="hover-meta"> <a class="split" href="publish-to-github-pages-root-page"></a><span class="metrics"><span class="wcntr"> Words: 148</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publish-to-github-pages" class="u"> Publish to GitHub Pages</a><a href="#_toc/publish-to-github-pages-root-page" class="toc"></a></div></nav></div><div class="p" id="_3446">If you want to publish your root user page, which appears at <code>/</code> (e.g. <a href="https://github.com/cirosantilli/cirosantilli.github.io">github.com/cirosantilli/cirosantilli.github.io</a> for the user <code>cirosantilli</code>), GitHub annoyingly forces you to use the <code>master</code> branch for the HTML output:<div class="list"><ul id="_3447"><li id="_3448"><a href="https://github.com/isaacs/github/issues/212">github.com/isaacs/github/issues/212</a></li><li id="_3449"><a href="https://stackoverflow.com/questions/31439951/how-can-i-use-a-branch-other-than-master-for-user-github-pages">stackoverflow.com/questions/31439951/how-can-i-use-a-branch-other-than-master-for-user-github-pages</a></li></ul></div></div><div class="p" id="_3450">This means that you must place your <code>.bigb</code> input files in a branch other than <code>master</code> to clear up <code>master</code> for the generated HTML.</div><div class="p" id="_3451"><code>ourbigbook</code> automatically detects if your repository is a root repository or not by parsing <code>git remote</code> output, but you must setup the branches correctly yourself.</div><div class="p" id="_3452">So on a new repository, you must <a href="https://stackoverflow.com/questions/42871542/how-to-create-a-git-repository-with-the-default-branch-name-other-than-master">first checkout to a different branch</a> as in:<div class="code" id="_3453"><div><pre><code>git init
git checkout -b dev</code></pre></div></div>or to move an existing repository to a non-master branch:<div class="code" id="_3454"><div><pre><code>git checkout -b dev
git push origin dev:dev
git branch -D master
git push --delete origin master</code></pre></div></div></div><div class="p" id="_3455">You then will also want to set your default repository branch to <code>dev</code> in the settings for that repository: <a href="https://help.github.com/en/github/administering-a-repository/setting-the-default-branch">help.github.com/en/github/administering-a-repository/setting-the-default-branch</a></div><div class="h" id="github-directory-is-ignored-on-github-pages"><div class="notnav"><h6><a href="github-directory-is-ignored-on-github-pages"><code>.github</code> directory is ignored on GitHub Pages</a></h6><span class="hover-meta"> <a class="split" href="github-directory-is-ignored-on-github-pages"></a><span class="metrics"><span class="wcntr"> Words: 24</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publish-to-github-pages" class="u"> Publish to GitHub Pages</a><a href="#_toc/github-directory-is-ignored-on-github-pages" class="toc"></a></div></nav></div><div class="p" id="_3456">It's a GitHub bug/feature: <a href="https://github.com/orgs/community/discussions/52252">github.com/orgs/community/discussions/52252</a></div><div class="p" id="_3457">Maybe we should just ignore the <code>.github</code> directory when publishing, otherwise it leads to a broken link on the <a href="#dir-directory"><code>_dir</code> directory</a> listings.</div><div class="h" id="raw-files-are-downloaded-rather-than-displayed-in-browser-for-certain-file-extensions-on-github-pages"><div class="notnav"><h6><a href="raw-files-are-downloaded-rather-than-displayed-in-browser-for-certain-file-extensions-on-github-pages"><code>_raw</code> files are downloaded rather than displayed in browser for certain file extensions on GitHub Pages</a></h6><span class="hover-meta"> <a class="split" href="raw-files-are-downloaded-rather-than-displayed-in-browser-for-certain-file-extensions-on-github-pages"></a><span class="metrics"><span class="wcntr"> Words: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publish-to-github-pages" class="u"> Publish to GitHub Pages</a><a href="#_toc/raw-files-are-downloaded-rather-than-displayed-in-browser-for-certain-file-extensions-on-github-pages" class="toc"></a><span class="tags"> Tags: <a href="#raw-directory"><code>_raw</code> directory</a></span></div></nav></div><div class="p" id="_3459">TODO find some upstream discussion.</div><div class="h" id="split-headers"><div class="notnav"><h4><a href="split-headers"><code>-S</code>, <code>--split-headers</code> <span class="meta">(Split headers)</span></a></h4><span class="hover-meta"> <a class="split" href="split-headers"></a><span class="metrics"><span class="wcntr"> Words: 502</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/split-headers" class="toc"></a></div></nav></div><div class="p" id="_3461">Split each header into its own separate HTML output file.</div><div class="p" id="_3462">This option allows you to keep all headers in a single source file, which is much more convenient than working with a billion separate source files, and let them grow naturally as new information is added, but still be able to get a small output page on the rendered website that contains just the content of the given header. Such split pages:<div class="list"><ul id="_3463"><li id="_3464">load faster on the browser</li><li id="_3465">get way better Google PageRank for title hits</li><li id="_3466">allow for full metadata display, e.g.:<div class="list"><ul id="_3467"><li id="_3468"><a href="#header-metadata-section">Header metadata section</a></li><li id="_3469"><a href="https://en.wikipedia.org/wiki/Disqus">Disqus</a>/<a href="https://github.com/giscus/giscus">Giscus</a> comments</li></ul></div></li></ul></div></div><div class="p" id="_3470">For example given an input file called <code>hello.bigb</code> and containing:<div class="code" id="_3471"><div><pre><code>= h1

h1 content.

A link to another section: \x[h1-1].

== h1 1

h1-1 content.

== h1 1 1

h1-1-1 content.

== h1 1 2

h1-1-2 content.</code></pre></div></div>a conversion command:<div class="code" id="_3472"><div><pre><code>ourbigbook --split-headers hello.bigb</code></pre></div></div>would produce the following output files:<div class="list"><ul id="_3473"><li id="_3474"><div class="p" id="_3475"><code>hello.html</code>: contains the entire rendered document as usual.</div><div class="p" id="_3476">Remember that this is called <code>hello.html</code> instead of <code>h1.html</code> because <a href="#the-toplevel-header">the toplevel header ID is automatically derived from its filename</a>.</div><div class="p" id="_3477">Each header contains a on-hover link to the single-file split version of the header.</div></li><li id="_3478"><code>hello-split.html</code>: contains only the contents directly under <code>= h1</code>, but not under any of the subheaders, e.g.:<div class="list"><ul id="_3479"><li id="_3480"><code>h1 content.</code> appears in this rendered output</li><li id="_3481"><code>h1-1-1</code> does not appear in this rendered output</li></ul></div>The <code>-split</code> suffix can be customized with the <a href="#h-splitsuffix-argument"><code>\H</code> <code>splitSuffix</code> argument</a> option.<br>The <code>-split</code> suffix is appended in order to differentiate the output path from <code>hello.html</code></li><li id="_3482"><code>h1-1.html</code>, <code>h1-1-1.html</code>, <code>h1-1-2.html</code>: contain only the contents direcly under their headers, analogously to <code>hello-split.html</code>, but now we don't need to worry about the input filename and collisiont, and just directly use the ID of each header</li></ul></div></div><div class="p" id="_3483"><code>--split-headers</code> is implied by the <a href="#p-publish"><code>--publish</code> option</a>: the published website will automatically get the split pages. There is no way to turn it off currently. A pull request would be accepted, especially if it offers a <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> way to do it. Maybe it would be nice to have a more generalized way of setting any CLI option equivalent from the <code>ourbigbook.json</code>, and an option <code>cli</code> vs <code>cli-publish</code> so that <code>cli-publish</code> is publish only. Just lazy for now/not enough pressing use case met.</div><div class="h" id="internal-link-targets-in-split-headers"><div class="notnav"><h5><a href="internal-link-targets-in-split-headers">Internal link targets in split headers</a></h5><span class="hover-meta"> <a class="split" href="internal-link-targets-in-split-headers"></a><span class="metrics"><span class="wcntr"> Words: 136</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#split-headers" class="u"> <code>-S</code>, <code>--split-headers</code></a><a href="#_toc/internal-link-targets-in-split-headers" class="toc"></a></div></nav></div><div class="p" id="_3484">By default, all <a href="#internal-link">internal links</a> point to the non-split version of headers, including those found in split headers.</div><div class="p" id="_3485">The rationale for this is that it gives readers the most context around the header by simply scrolling.</div><div class="p" id="_3486">For example, considering the example document at <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>, <a href="#internal-link">internal links</a> such as <code>\x[h1-1]</code> would point:<div class="list"><ul id="_3487"><li id="_3488">from the non-split <code>hello.html</code> to the section in the current non-split file <code>#h1-1</code></li><li id="_3489">from split <code>hello-split.html</code> to the same section in non-split file with <code>hello.html#h1-1</code></li></ul></div>The same applies to <a href="#cross-file-internal-link">cross file internal links</a> when there are multiple input files.</div><div class="p" id="_3490">In order to make the split version be the default for some headers, you can use the <a href="#h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a>.</div><div class="p" id="_3491">This is something that we might consider changing with some option, e.g. keeping the split headers more self contained. But for now, the general feeling is that going to nosplit by default is the best default.</div><div class="h" id="stdout"><div class="notnav"><h4><a href="stdout"><code>--stdout</code></a></h4><span class="hover-meta"> <a class="split" href="stdout"></a><span class="metrics"><span class="wcntr"> Words: 32</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/stdout" class="toc"></a></div></nav></div><div class="p" id="_3492">When converting a file, output output to stdout in addition to outputting to a file:<div class="code" id="_3493"><div><pre><code>convert --stdout input.bigb</code></pre></div></div>The regular output file is also saved.</div><div class="p" id="_3494">Cannot be used when converting a directory.</div><div class="h" id="template"><div class="notnav"><h4><a href="template"><code>--template</code></a></h4><span class="hover-meta"> <a class="split" href="template"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/template" class="toc"></a></div></nav></div><div class="p" id="_3495">Select a custom <a href="https://github.com/harttle/liquidjs">Liquid template</a> file for the output.</div><div class="p" id="_3496">If not given, this option defaults to the value of <a href="#ourbigbook-json/template"><code>template</code></a>, which if not given defaults to <code>ourbigbook.liquid.html</code>.</div><div class="p" id="_3497">The repository of this documentation for example has a sample <code>ourbigbook.liquid.html</code> at: <a href="_raw/ourbigbook.liquid.html">ourbigbook.liquid.html</a>.</div><div class="p" id="_3498">If no template is present, the default template at one point was:<div class="code" id="_3499"><div><pre><code>&lt;!doctype html&gt;
&lt;html lang=en&gt;
&lt;head&gt;
&lt;meta charset=utf-8&gt;
&lt;title&gt;{{ title }}&lt;/title&gt;
&lt;style&gt;{{ style }}&lt;/style&gt;
&lt;/head&gt;
&lt;body class="ourbigbook"&gt;
{{ body }}
&lt;/body&gt;
&lt;/html&gt;</code></pre></div></div>This will get out of sync sooner or later with the code, but this should still serve as a good base example for this documentation.</div><div class="p" id="_3500">The the above example, you can see a few or our predefined <a href="#template-variable">template variables</a>:<div class="list"><ul id="_3501"><li id="_3502"><code>title</code>: the title based on the toplevel header of the page</li><li id="_3503"><code>style</code>: our default stylesheet</li><li id="_3504"><code>body</code>: the main rendered body</li></ul></div></div><div class="p" id="_3505">We chose Liquid as our template language because it is server-side safe. This allows you to to download the OurBigBook repository of anyone and just compile it yourself without the fear that it will install malware in your computer, see also <a href="#unsafe-ace">Section "<code>--unsafe-ace</code>"</a>.</div><div class="p" id="_3506">Also, if we ever some day offer a compilation service, Liquid is designed to prevent arbitrary code execution and infinite loops in templates.</div><div class="h" id="ourbigbook-liquid-html"><div class="notnav"><h5><a href="ourbigbook-liquid-html">ourbigbook.liquid.html</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-liquid-html"></a><span class="metrics"><span class="wcntr"> Words: 111</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#template" class="u"> <code>--template</code></a><a href="#_toc/ourbigbook-liquid-html" class="toc"></a></div></nav></div><div class="p" id="_3507"><code>ourbigbook.liquid.html</code> is the default template file name used for <a href="#template"><code>--template</code></a> as mentioned at <a href="#ourbigbook-json/template"><code>template</code></a>.</div><div class="h" id="rel-canonical"><div class="notnav"><h6><a href="rel-canonical"><code>rel="canonical"</code></a></h6><span class="hover-meta"> <a class="split" href="rel-canonical"></a><span class="metrics"><span class="wcntr"> Words: 98</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-liquid-html" class="u"> ourbigbook.liquid.html</a><a href="#_toc/rel-canonical" class="toc"></a></div></nav></div><div class="p" id="_3508">The <code>rel="canonical"</code> HTML <code>&lt;head&gt;</code> tag tells Google the new preferred search result for each page.</div><div class="p" id="_3509">You might want to set this up for example if you decide to publish your website both as:<div class="list"><ul id="_3510"><li id="_3511">a <a href="#p-publish">static</a> website e.g. under <code>https://cirosantilli.com</code></li><li id="_3512">on <a href="#ourbigbook-web">OurBigBook Web</a> e.g. under <code>https://ourbigbook.com/cirosantilli</code></li></ul></div>but you'd like the <a href="#ourbigbook-web">OurBigBook Web</a> one to take precedence.</div><div class="p" id="_3513">You can set this up by adding something like the following code to the <code>&lt;head&gt;</code> element in your <a href="#ourbigbook-liquid-html">ourbigbook.liquid.html</a>:<div class="code" id="_3514"><div><pre><code>&lt;link rel="canonical" href="https://ourbigbook.com/cirosantilli/{{ toplevel_id }}"&gt;</code></pre></div></div>you might also want to do that for all pages except your homepage with:<div class="code" id="_3515"><div><pre><code>{% unless is_index_article %}&lt;link rel="canonical" href="https://ourbigbook.com/cirosantilli/{{ toplevel_id }}"&gt;{% endunless %}</code></pre></div></div></div><div class="h" id="template-variable"><div class="notnav"><h5><a href="template-variable">Template variable</a></h5><span class="hover-meta"> <a class="split" href="template-variable"></a><span class="metrics"><span class="wcntr"> Words: 763</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#template" class="u"> <code>--template</code></a><a href="#_toc/template-variable" class="toc"></a></div></nav></div><div class="p" id="_3516">The following variables are defined for usage inside your <a href="#ourbigbook-liquid-html">ourbigbook.liquid.html</a> file:<div class="list"><ul id="_3517"><li id="_3518"><code>body</code>: the rendered body</li><li id="_3519"><code>dir_relpath</code>: relative path from the rendered output to the <a href="#dir-directory"><code>_dir</code> directory</a>. Sample usage to link to the root directory listing:<div class="code" id="_3520"><div><pre><code>&lt;div&gt;&lt;a href="{{ dir_relpath }}{{ html_index }}"&gt;Website source code&lt;/a&gt;&lt;/div&gt;</code></pre></div></div></li><li id="_3521"><code>file_relpath</code>: similar to <code>raw_relpath</code>, but link to the <a href="#file-output-directory"><code>_file</code> output directory</a> instead</li><li id="_3522"><code>git_sha</code>: SHA of the latest git commit of the source code if in a git repository</li><li id="_3523"><code>github_prefix</code>: this variable is set only if if the "github" <a href="#ourbigbook-json/media-providers">media provider</a>. It points to the URL prefix of the provider, e.g. if you have in your <a href="#ourbigbook-json"><code>ourbigbook.json</code></a>:<div class="code" id="_3524"><div><pre><code>"media-providers": {
  "github": {
    "remote": "mygithubusername/media"
  },</code></pre></div></div>then you can use media from that repository with:<div class="code" id="_3525"><div><pre><code>&lt;img src="image/x-icon" href="{{ github_prefix }}/myimage.jpg" /&gt;</code></pre></div></div></li><li id="_3526"><div class="p" id="_3527"><code>html_ext</code>: <code>.html</code> for local renders, empty for server renders.</div><div class="p" id="_3528">So e.g. to link to an ID <code>myid</code> you can use:</div><div class="code" id="_3529"><div><pre><code>&lt;a href="{{ root_relpath }}myid{{ html_ext }}"&gt;</code></pre></div></div><div class="p" id="_3530">This will ideally be replaced with a more generic link to arbitrary ID mechnism at some point: <a href="https://github.com/ourbigbook/ourbigbook/issues/135">github.com/ourbigbook/ourbigbook/issues/135</a></div></li><li id="_3531"><code>html_index</code>: <code>/index.html</code> for local renders, empty for server renders</li><li id="_3532"><code>image</code>: absolute URL of the first <a href="#image">image</a> of the rendered page if any. This is suitable for usage in <code>og:image</code> with something like:<div class="code" id="_3533"><div><pre><code>&lt;meta property="og:image" content="{% if image %}{{ image }}{% else %}{{ json.publishRootUrl }}/_raw/logo.svg{% endif %}"&gt;</code></pre></div></div>Only the <a href="#image"><code>\Image</code> macro</a> (<a href="#block-macro">block macro</a>) is currently considered.</li><li id="_3534"><div class="p" id="_3535"><code>input_path</code>: path to the <a href="#ourbigbook-markup">OurBigBook Markup</a> source file relative to the <a href="#project-toplevel-directory">project toplevel directory</a> that generated this output, e.g. <code>path/to/myfile.bigb</code></div><div class="p" id="_3536">May be an empty string in the case of autogenerated sources, notably <a href="#raw-directory">automatic directory listings</a>, so you should always check for that with something like:<div class="code" id="_3537"><div><pre><code>{% if input_path != "" %}
&lt;div&gt;Source code for this page: &lt;a href="{{ raw_relpath }}/{{ input_path }}"&gt;{{ input_path }}&lt;/a&gt;&lt;/div&gt;
{% endif %}</code></pre></div></div></div></li><li id="_3538"><div class="p" id="_3539"><code>is_index_article</code>. Boolean. True if the toplevel being rendered on this output file is the <a href="#the-home-article">the index article</a>. E.g. in:</div><div class="p" id="_3540">index.bigb</div><div class="p" id="_3541"><div class="code" id="_3542"><div><pre><code>= John Smith's homepage

== Mathematics</code></pre></div></div>with <a href="#split-headers">split header</a> conversion, the value of <code>is_index_article</code> would be:<div class="list"><ul id="_3543"><li id="_3544"><code>index.html</code>: true</li><li id="_3545"><code>split.html</code>: true</li><li id="_3546"><code>mathematics.html</code>: false</li></ul></div></div></li><li id="_3547"><code>json</code>: exposes the entire <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> to the template. This is useful for example to obtain <a href="#ourbigbook-json/publishrooturl"><code>publishRootUrl</code></a> as in:<div class="code" id="_3548"><div><pre><code>&lt;meta property="og:image" content="{{ json.publishRootUrl }}/{{ raw_relpath }}/logo.svg"&gt;</code></pre></div></div></li><li id="_3549"><code>raw_relpath</code>: relative path from the rendered output to the <a href="#raw-directory"><code>_raw</code> directory</a>. Should be used to prefix all non-<a href="#ourbigbook-markup">OurBigBook Markup</a> output resources, which is the directory where such files are placed during conversion, e.g.<div class="code" id="_3550"><div><pre><code>&lt;link rel="shortcut icon" href="{{ raw_relpath }}/logo.svg" /&gt;</code></pre></div></div></li><li id="_3551"><code>root_page</code>: relative path to the toplevel page, e.g. either <code>index.html</code>, <code>../index.html</code> locally or <code>./</code>, <code>../</code> on server oriented rendereing</li><li id="_3552"><div class="p" id="_3553"><code>root_relpath</code>: relative path from the rendered output to the toplevel directory.</div><div class="p" id="_3554">This allows for toplevel resources like CSS to be found seamlessly form inside subdirectories, specially when rendering locally.</div><div class="p" id="_3555">For example, for the toplevel <a href="#css">CSS</a> <code>main.css</code> which is generated from <a href="_raw/main.scss">main.scss</a>, we can use:<div class="code" id="_3556"><div><pre><code>&lt;link rel="stylesheet" type="text/css" href="{{ root_relpath }}main.css"&gt;</code></pre></div></div></div><div class="p" id="_3557">Then, when a file is locally, for example under a subdirectory <code>mysubdir/myfile.html</code>, OurBigBook will set:<div class="code" id="_3558"><div><pre><code>root_relpath=../</code></pre></div></div>giving the desired:<div class="code" id="_3559"><div><pre><code>&lt;link rel="stylesheet" type="text/css" href="../main.css"&gt;</code></pre></div></div></div><div class="p" id="_3560">And if the output path were instead just <code>myohterfile.html</code>, <code>root_relpath</code> expands to an empty string, giving again the correct:<div class="code" id="_3561"><div><pre><code>&lt;link rel="stylesheet" type="text/css" href="main.css"&gt;</code></pre></div></div></div><div class="p" id="_3562">This will ideally be replaced with a more generic link to arbitrary ID mechnism at some point: <a href="https://github.com/ourbigbook/ourbigbook/issues/135">github.com/ourbigbook/ourbigbook/issues/135</a></div></li><li id="_3563"><code>server_path</code>: path part of the URL at which the output of this template will be visible on the server. For example:<div class="list"><ul id="_3564"><li id="_3565"><code>index.bigb</code>:<div class="list"><ul id="_3566"><li id="_3567"><a href="#ourbigbook-json/htmlxextension"><code>htmlXExtension</code></a> is true:<div class="list"><ul id="_3568"><li id="_3569">nosplit: <code>/index.html</code></li><li id="_3570">split: <code>/split.html</code></li></ul></div></li><li id="_3571"><a href="#ourbigbook-json/htmlxextension"><code>htmlXExtension</code></a> is false<div class="list"><ul id="_3572"><li id="_3573">nosplit: (empty string)</li><li id="_3574">split: <code>/split</code></li></ul></div></li></ul></div></li><li id="_3575"><code>notindex.bigb</code>:<div class="list"><ul id="_3576"><li id="_3577"><a href="#ourbigbook-json/htmlxextension"><code>htmlXExtension</code></a> is true:<div class="list"><ul id="_3578"><li id="_3579">nosplit: <code>/notindex.html</code></li><li id="_3580">split: <code>/notindex-split.html</code></li></ul></div></li><li id="_3581"><a href="#ourbigbook-json/htmlxextension"><code>htmlXExtension</code></a> is false<div class="list"><ul id="_3582"><li id="_3583">nosplit: <code>/notindex</code></li><li id="_3584">split: <code>/notindex-split</code></li></ul></div></li></ul></div></li></ul></div>This variable can be useful if you need to generate the full path to a given page for an insane system such as <code>og:url</code>:<div class="code" id="_3585"><div><pre><code>&lt;meta property="og:url" content="{{ json.publishRootUrl }}{{ server_path }}"&gt;</code></pre></div></div></li><li id="_3586"><code>style</code>: default OurBigBook stylesheets</li><li id="_3587"><code>title</code>: a plaintext version of the page title without any HTML tags which will is suitable for the <code>&lt;title&gt;</code> element</li><li id="_3588"><code>toplevel_id</code>: ID of <a href="#the-toplevel-header">the toplevel header</a> of a page, e.g. given and <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a>:<div class="code" id="_3589"><div><pre><code>= My homepage

== Mathematics
{scope}

=== Chain rule</code></pre></div></div>we'd get;<div class="list"><ul id="_3590"><li id="_3591"><code>/</code>: empty string</li><li id="_3592"><code>/split</code>: empty string</li><li id="_3593"><code>/mathematics</code>: <code>mathematics</code></li><li id="_3594"><code>/mathematics/chain-rule</code>: <code>mathematics/chain-rule</code></li></ul></div></li></ul></div></div><div class="p" id="_3595">Template variable expansion automatically escape special HTML characters such as <code>&lt;</code>. TODO: <code>"</code> however is not currently escaped: <a href="https://github.com/ourbigbook/ourbigbook/issues/375">github.com/ourbigbook/ourbigbook/issues/375</a> but it would be better if it were.</div><div class="h" id="publishtargetiswebsite"><div class="notnav"><h6><a href="publishtargetiswebsite"><code>publishTargetIsWebsite</code></a></h6><span class="hover-meta"> <a class="split" href="publishtargetiswebsite"></a><span class="metrics"><span class="wcntr"> Words: 64</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#template-variable" class="u"> Template variable</a><a href="#_toc/publishtargetiswebsite" class="toc"></a></div></nav></div><div class="p" id="_3596"><code>true</code> iff the <a href="#publish-target"><code>--publish-target</code></a> is a standard website, i.e. something that will be hosted publicly on a URL. This is currently <code>true</code> for the following publish targets:<div class="list"><ul id="_3597"><li id="_3598"><code>--publish-target github-pages</code></li></ul></div>and it is <code>false</code> for the following targets:<div class="list"><ul id="_3599"><li id="_3600"><code>--publish-target local</code></li></ul></div></div><div class="p" id="_3601">This template variable is useful to remove JavaScript elements that only work on public websites and not on <code>localhost</code> or <code>file:</code>, e.g.:<div class="list"><ul id="_3602"><li id="_3603">Google Analytics</li><li id="_3604">Giscus</li></ul></div></div><div class="h" id="title-to-id"><div class="notnav"><h4><a href="title-to-id"><code>--title-to-id</code></a></h4><span class="hover-meta"> <a class="split" href="title-to-id"></a><span class="metrics"><span class="wcntr"> Words: 126</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/title-to-id" class="toc"></a></div></nav></div><div class="p" id="_3605">Read tiles from stdin line by line on a while loop and output IDs to stdout only, performing <a href="#automatic-id-from-title">automatic ID from title</a> conversion on each input line.</div><div class="p" id="_3606">Sample usage:<div class="code" id="_3607"><div><pre><code>( echo 'Hello world'; sleep 1; echo 'C++ is great'; sleep 1; echo 'β Centauri' ) | ourbigbook --title-to-id</code></pre></div></div>outputs:<div class="code" id="_3608"><div><pre><code>hello-world
c-plus-plus-is-great
beta-centauri</code></pre></div></div>each with one second intervals between each line.</div><div class="p" id="_3609">The original application of this option was to allow external non Node.js processes to be able to accurately calculate IDs from human readable titles since the non-ASCII handling of the algorithm is complex, and hard to reimplement accurately.</div><div class="p" id="_3610">From Python for example one may run something like:</div><div class="code" id="_3611"><div><pre><code>from subprocess import Popen, PIPE, STDOUT
import time

p = Popen(['ourbigbook', '--title-to-id'], stdout=PIPE, stdin=PIPE)

p.stdin.write('Hello world\n'.encode())
p.stdin.flush()
print(p.stdout.readline().decode()[:-1])

time.sleep(1)

p.stdin.write('bonne journeé\n'.encode())
p.stdin.flush()
print(p.stdout.readline().decode()[:-1])</code></pre></div></div><div class="h" id="unsafe-ace"><div class="notnav"><h4><a href="unsafe-ace"><code>--unsafe-ace</code></a></h4><span class="hover-meta"> <a class="split" href="unsafe-ace"></a><span class="metrics"><span class="wcntr"> Words: 23</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/unsafe-ace" class="toc"></a><span class="tags"> Tags: <a href="#security">Security</a></span></div></nav></div><div class="p" id="_3613">This option enables actions that would allow <a href="#arbitrary-code-execution">arbitrary code execution</a>, so you should only pass it if you trust the repository author. Enabled functionality includes:<div class="list"><ul id="_3614"><li id="_3615"><a href="#ourbigbook-json/prepublish"><code>prepublish</code></a></li></ul></div></div><div class="h" id="watch"><div class="notnav"><h4><a href="watch"><code>-w</code>, <code>--watch</code></a></h4><span class="hover-meta"> <a class="split" href="watch"></a><span class="metrics"><span class="wcntr"> Words: 162</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/watch" class="toc"></a></div></nav></div><div class="p" id="_3616">Don't quit <code>ourbigbook</code> immediately.</div><div class="p" id="_3617">Instead, watch the selected file or directory for changes, and rebuild individual files when changes are detected.</div><div class="p" id="_3618">Watch every <code>.bigb</code> file in an entire directory:<div class="code" id="_3619"><div><pre><code>ourbigbook --watch .</code></pre></div></div>When a directory is given as the input path, this automatically first does an <a href="#id-extraction">ID extraction</a> pass on all files to support <a href="#cross-file-internal-link">cross file internal links</a>.</div><div class="p" id="_3620">Now you can just edit any OurBigBook file such has <code>index.bigb</code>, save the file in your editor, and refresh the webpage and your change should be visible, no need to run a <code>ourbigbook</code> command explicitly every time.</div><div class="p" id="_3621">Exit by entering Ctrl + C on the terminal.</div><div class="p" id="_3622">Watch a single file:<div class="code" id="_3623"><div><pre><code>ourbigbook --watch index.bigb</code></pre></div></div>When a single file is watched, the reference database is not automatically updated. If it is not already up-to-date, you should first update it with:<div class="code" id="_3624"><div><pre><code>ourbigbook .</code></pre></div></div>otherwise you will just get a bunch of undefined ID errors every time the input file is saved.</div><div class="p" id="_3625">TODO: integrate Live Preview: <a href="https://asciidoctor.org/docs/editing-asciidoc-with-live-preview/">asciidoctor.org/docs/editing-asciidoc-with-live-preview/</a> to also dispense the browser refresh.</div><div class="h" id="web"><div class="notnav"><h4><a href="web"><code>-W</code>, <code>--web</code> <span class="meta">(Web upload)</span></a></h4><span class="hover-meta"> <a class="split" href="web"></a><span class="metrics"><span class="wcntr"> Words: 455</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web" class="toc"></a><span class="tags"> Tags: <a href="#publish-your-content">Publish your content</a></span></div></nav></div><div class="p" id="_3628">Sync local directory to <a href="#ourbigbook-web">OurBigBook Web</a> instead of doing anything else.</div><div class="p" id="_3629">To upload the entire repository, run from toplevel:<div class="code" id="_3630"><div><pre><code>ourbigbook --web</code></pre></div></div></div><div class="p" id="_3631">To update just all IDs in a single <code>physics.bigb</code> source file use:<div class="code" id="_3632"><div><pre><code>ourbigbook --web physics.bigb</code></pre></div></div>This requires that all external IDs that <code>physics.bigb</code> might depend on have already been previously uploaded, e.g. with a previous <code>ourbigbook --web</code> from toplevel.</div><div class="p" id="_3633">The source code is uploaded, and conversion to HTML happens on the server, no conversion is done locally.</div><div class="p" id="_3634">This option is not amazing right now. It was introduced mostly to allow uploading the reference demo content from <a href="https://cirosantilli.com">cirosantilli.com</a> to <a href="https://ourbigbook.com/cirosantilli">ourbigbook.com/cirosantilli</a>, and it is not expected that it will be a major use case for end users for a long time, as most users are likely to just edit on <a href="#ourbigbook-web">OurBigBook Web</a> directly.</div><div class="p" id="_3635">Some important known limitations:<div class="list"><ul id="_3636"><li id="_3637">every local file has to be uploaded every time to check if it needs rebuilding or not by comparing old vs new file contents. At <a href="todo#store-sha-of-each-article-plus-descendants-and-skip-api-re-renders-for-entire-subtrees">Store SHA of each article + descendants and skip API re-renders for entire subtrees</a> we describe a better Git-like Merkle tree method where entire unchanged subtress can be skipped, that will be Nirvana.</li><li id="_3638">file renaming does not work, it will think that you are creating a new file and blows up duplicates</li><li id="_3639">if there's an error in a later file, the database is still modified by the previous files, i.e. there is no atomicity. A way to improve that would be to upload all files to the server in one go, and let the server convert everything in one transaction. However, this would lead to a very long server action, which would block any other incoming request (I tested, everything is single threaded)</li></ul></div></div><div class="p" id="_3640">However, all of those are fixable, and in an ideal world, will be fixed. Patches welcome.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#article-and-topic-id-prefix-search">Article and topic ID prefix search</a></li><li><a href="news#article-announcement">Article announcement</a></li><li><a href="news#create-new-articles-from-table-of-contents">Create new articles from table of contents</a></li><li><a href="news#ourbigbook-com-cirosantilli-loads-2x-as-fast-after-database-optimizations">Ourbigbook.com/cirosantilli loads 2x as fast after database optimizations</a></li><li><a href="news#profile-picture-upload">Profile picture upload</a></li><li><a href="news#scope-ancestors-show-on-toplevel-header-and-page-title">Scope ancestors show on toplevel header and page title</a></li><li><a href="news#signup-ip-blacklist-vpn-detection-and-account-locking">Signup IP blacklist, VPN detection and account locking</a></li><li><a href="news#static-toc-search">Static ToC search</a></li><li><a href="news#tagged-articles-and-other-article-lists-added-to-web">Tagged articles and other article lists added to Web</a></li><li><a href="news#topic-id-shows-on-web-editor-when-creating-a-new-article">Topic ID shows on web editor when creating a new article</a></li><li><a href="news#web-navigation-two-level-tab-cleanup">Web navigation two level tab cleanup</a></li><li><a href="news#web-searches-find-words-inside-title-on-postgresql">Web searches find words inside title on PostgreSQL</a></li></ul></div></div><div class="h" id="local-header-deletion-on-web-upload"><div class="notnav"><h5><a href="local-header-deletion-on-web-upload">Local header deletion on web upload</a></h5><span class="hover-meta"> <a class="split" href="local-header-deletion-on-web-upload"></a><span class="metrics"><span class="wcntr"> Words: 174</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#web" class="u"> <code>-W</code>, <code>--web</code></a><a href="#_toc/local-header-deletion-on-web-upload" class="toc"></a></div></nav></div><div class="p" id="_3641">If you delete a <a href="#header">header</a> locally and then do <a href="#web"><code>-W</code>, <code>--web</code></a> upload, the article is currently not removed from web.</div><div class="p" id="_3642">Instead, we simply make its content become empty, and mark it as <a href="#ourbigbook-web-unlisted-articles">unlisted</a>.</div><div class="p" id="_3643">The reason for this is that the article may have metadata created by other users such as <a href="#ourbigbook-web-discussions">OurBigBook Web discussions</a>, which we don't want to delete remove.</div><div class="p" id="_3644">In order to actually remove the header you should follow the procedure from <a href="#ourbigbook-web-page-renaming">Section "OurBigBook Web page renaming"</a>, which instead first moves all discussions over to a new article before deleting.</div><div class="h" id="ourbigbook-web-unlisted-articles"><div class="notnav"><h6><a href="ourbigbook-web-unlisted-articles">OurBigBook Web unlisted articles</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-unlisted-articles"></a><span class="metrics"><span class="wcntr"> Words: 92</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#local-header-deletion-on-web-upload" class="u"> Local header deletion on web upload</a><a href="#_toc/ourbigbook-web-unlisted-articles" class="toc"></a></div></nav></div><div class="p" id="_3645">It is possible to mark articles as unlisted in <a href="#ourbigbook-web">OurBigBook Web</a>.</div><div class="p" id="_3646">This also happens automatically when doing <a href="#web"><code>-W</code>, <code>--web</code></a> upload for previously published articles that were deleted locally, see also: <a href="#local-header-deletion-on-web-upload">Section "Local header deletion on web upload"</a></div><div class="p" id="_3647">Marking an article as unlisted makes it not show up by default on article listings including:<div class="list"><ul id="_3648"><li id="_3649">as descendants of an article when seen on the each article page, i.e. on the Table of contents and below due to <a href="#ourbigbook-web-dynamic-article-tree">dynamic article tree</a></li><li id="_3650">on global or per-user listings of latest and top article</li><li id="_3651">on <a href="#ourbigbook-web-topics">topics</a></li></ul></div>Unlisted articles do however appear on listings such as:<div class="list"><ul id="_3652"><li id="_3653">lists of articles liked by given users</li></ul></div></div><div class="h" id="web-ask-password"><div class="notnav"><h4><a href="web-ask-password"><code>--web-ask-password</code></a></h4><span class="hover-meta"> <a class="split" href="web-ask-password"></a><span class="metrics"><span class="wcntr"> Words: 37</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-ask-password" class="toc"></a></div></nav></div><div class="p" id="_3654">Ask for the password in an interactive terminal in case there was a default password that would have otherwise been chosen.</div><div class="p" id="_3655">Currently the only case where this happens is <a href="#web-test"><code>--web-test</code></a> which automatically sets a default <code>--web-password asdf</code>.</div><div class="h" id="web-dry"><div class="notnav"><h4><a href="web-dry"><code>--web-dry</code></a></h4><span class="hover-meta"> <a class="split" href="web-dry"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-dry" class="toc"></a></div></nav></div><div class="p" id="_3656"><a href="#web"><code>-W</code>, <code>--web</code></a> dry run, skip any operations that would interact with the <a href="#ourbigbook-web">OurBigBook Web</a> server, doing only all the local preparation required for upload.</div><div class="p" id="_3657">This is mostly useful for testing the <a href="#ourbigbook-cli">OurBigBook CLI</a>.</div><div class="h" id="web-id"><div class="notnav"><h4><a href="web-id"><code>--web-id</code></a></h4><span class="hover-meta"> <a class="split" href="web-id"></a><span class="metrics"><span class="wcntr"> Words: 27</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-id" class="toc"></a></div></nav></div><div class="p" id="_3658">Upload only the selected ID with <a href="#web"><code>-W</code>, <code>--web</code></a>.</div><div class="p" id="_3659">That ID must belong to a file being converted for everything to work well. e.g.:<div class="code" id="_3660"><div><pre><code>ourbigbook --web --web-id quantum-mechanics physics.bigb</code></pre></div></div></div><div class="h" id="web-force-id-extraction"><div class="notnav"><h4><a href="web-force-id-extraction"><code>--web-force-id-extraction</code></a></h4><span class="hover-meta"> <a class="split" href="web-force-id-extraction"></a><span class="metrics"><span class="wcntr"> Words: 57</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-force-id-extraction" class="toc"></a></div></nav></div><div class="p" id="_3661">Force <a href="#id-extraction">ID extraction</a> on <a href="#web"><code>-W</code>, <code>--web</code></a>, even if article content is unchanged.</div><div class="p" id="_3662">The only use case so far for this has been as a hack for incomplete database updates.</div><div class="p" id="_3663">The correct approach is instead to actually re-extract server side as part of the migration. We should do this by implementing a <code>Article.reextract</code> analogous to <code>Article.rerender</code>, and a helper <a href="#_file/web/bin/rerender-articles.js">web/bin/rerender-articles.js</a>.</div><div class="h" id="web-force-render"><div class="notnav"><h4><a href="web-force-render"><code>--web-force-render</code></a></h4><span class="hover-meta"> <a class="split" href="web-force-render"></a><span class="metrics"><span class="wcntr"> Words: 61</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-force-render" class="toc"></a></div></nav></div><div class="p" id="_3664">Force remote render of <a href="#web"><code>-W</code>, <code>--web</code></a>, don't skip it if even if the render is believed to be up-to-date with source.</div><div class="p" id="_3665">This is analogous to <a href="#force-render">-<code>F</code>, <code>--force-render</code></a>.</div><div class="p" id="_3666"><a href="#web-force-render"><code>--web-force-render</code></a> does not skip the local pre-conversion to split <code>bigb</code> format that is done before upload, only the remote render. Conversely, when used together with <a href="#web"><code>-W</code>, <code>--web</code></a>, <a href="#force-render">-<code>F</code>, <code>--force-render</code></a> does wkip the local bigb conversion, and not the remove one.</div><div class="h" id="web-max-renders"><div class="notnav"><h4><a href="web-max-renders"><code>--web-max-renders</code></a></h4><span class="hover-meta"> <a class="split" href="web-max-renders"></a><span class="metrics"><span class="wcntr"> Words: 23</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-max-renders" class="toc"></a></div></nav></div><div class="p" id="_3667">Render up to a maxinum of N articles.</div><div class="p" id="_3668">Useful for quick and dirty <a href="#ourbigbook-web-performance-benchmarking">OurBigBook Web performance benchmarking</a>, especially together with <a href="#web-force-render"><code>--web-force-render</code></a> to avoid skipping over finished files.</div><div class="h" id="web-nested-set-option"><div class="notnav"><h4><a href="web-nested-set-option"><code>--web-nested-set</code> <span class="meta">(option)</span></a></h4><span class="hover-meta"> <a class="split" href="web-nested-set-option"></a><span class="metrics"><span class="wcntr"> Words: 23</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-nested-set-option" class="toc"></a></div></nav></div><div class="p" id="_3669">Update the <a href="#nested-set">nested set</a> index of <a href="#ourbigbook-web">OurBigBook Web</a>, don't do anything else. Implies <a href="#web"><code>-W</code>, <code>--web</code></a>.</div><div class="p" id="_3670">This option was originally introduced to hep testing bulk nested set updates.</div><div class="h" id="no-web-nested-set-bulk"><div class="notnav"><h4><a href="no-web-nested-set-bulk"><code>--no-web-nested-set-bulk</code></a></h4><span class="hover-meta"> <a class="split" href="no-web-nested-set-bulk"></a><span class="metrics"><span class="wcntr"> Words: 164</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/no-web-nested-set-bulk" class="toc"></a></div></nav></div><div class="p" id="_3671">Update the <a href="#nested-set">nested set</a> after each article, rather than just once after all articles have been uploaded.</div><div class="p" id="_3672">There is a complex time tradeoff between using this option or not, which depends on:<div class="list"><ul id="_3673"><li id="_3674">how many articles the user has</li><li id="_3675">how many articles are being uploaded</li></ul></div></div><div class="p" id="_3676">This option was initially introduced for <a href="#wikipedia-bot">Wikipedia bot</a> uploads. At 104k articles, the bulk update takes 1 minute, but each individual update of an empty article takes about 6 seconds (and is dominated by the nested set update time), making this option an indispensable time saver for the initial upload in that case</div><div class="p" id="_3677">Therefore in that case, for less than 10 articles you are better off without this option. But with more thatn 10 articles you would want to use it.</div><div class="p" id="_3678">This rule of thumb should scale for smaller deployments as well however. E.g. at 10k articles, both individual updates and bulk updates should be 10x faster, so the "use this option for 10 or more articles" rule of thumb should still be reasonable.</div><div class="h" id="web-password"><div class="notnav"><h4><a href="web-password"><code>--web-password</code></a></h4><span class="hover-meta"> <a class="split" href="web-password"></a><span class="metrics"><span class="wcntr"> Words: 19</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-password" class="toc"></a></div></nav></div><div class="p" id="_3679">Set password from CLI. Really bad idea for non-test users with fixed dummy passwords due e.g. to Bash history.</div><div class="h" id="web-test"><div class="notnav"><h4><a href="web-test"><code>--web-test</code></a></h4><span class="hover-meta"> <a class="split" href="web-test"></a><span class="metrics"><span class="wcntr"> Words: 45</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-test" class="toc"></a></div></nav></div><div class="p" id="_3680">Set defaults for <code>--web-*</code> options that are useful for testing locally:<div class="code" id="_3681"><div><pre><code>ourbigbook --web-test</code></pre></div></div>is equivalent to:<div class="code" id="_3682"><div><pre><code>ourbigbook --web --web-url http://localhost:3000 --web-user barack-obama --web-password asdf</code></pre></div></div>You can also override those defaults by just specifying them normally, e.g. to do a different user:<div class="code" id="_3683"><div><pre><code>ourbigbook --web-test --web-user donald-trump</code></pre></div></div></div><div class="h" id="web-url"><div class="notnav"><h4><a href="web-url"><code>--web-url</code></a></h4><span class="hover-meta"> <a class="split" href="web-url"></a><span class="metrics"><span class="wcntr"> Words: 35</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-url" class="toc"></a></div></nav></div><div class="p" id="_3684">Set a custom URL for <a href="#web"><code>-W</code>, <code>--web</code></a> from the command line. If not given, the canonical <a href="https://ourbigbook.com">ourbigbook.com</a> is used. This option is used e.g. for testing locally e.g. with:<div class="code" id="_3685"><div><pre><code>ourbigbook --web --web-url http://localhost:3000</code></pre></div></div></div><div class="p" id="_3686">Also consider <a href="#web-url"><code>--web-url</code></a> for local testing.</div><div class="h" id="web-user"><div class="notnav"><h4><a href="web-user"><code>--web-user</code></a></h4><span class="hover-meta"> <a class="split" href="web-user"></a><span class="metrics"><span class="wcntr"> Words: 59</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli-options" class="u"> OurBigBook CLI options</a><a href="#_toc/web-user" class="toc"></a></div></nav></div><div class="p" id="_3687">Set the username for <a href="#web"><code>-W</code>, <code>--web</code></a> from the command line, e.g.:<div class="code" id="_3688"><div><pre><code>ourbigbook --web --web-url http://localhost:3000 --web-user barack-obama</code></pre></div></div>If not given:<div class="list"><ul id="_3689"><li id="_3690">use the latest previous successfull web login with <code>ourbigbook --web</code> if there are any. In that case, the CLI informs you with a message of type:<div class="code" id="_3691"><div><pre><code>Using previous username: barack-obama</code></pre></div></div></li><li id="_3692">otherwise, you will be prompted for it from the command line.</li></ul></div></div><div class="h" id="ourbigbook-json"><div class="notnav"><h3><a href="ourbigbook-json"><code>ourbigbook.json</code></a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-json"></a><span class="metrics"><span class="wcntr"> Words: 3k</span><span class="dcnt"> Articles: 35</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/ourbigbook-json" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3693">OurBigBook configuration file that affects the behaviour of ourbigbook for all files in the directory.</div><div class="p" id="ourbigbook-json/_3694"><code>ourbigbook.json</code> not used for input from <a href="#stdin-conversion">stdin</a>, since we are mostly doing quick tests in that case.</div><div class="p" id="ourbigbook-json/_3695">While <code>ourbigbook.json</code> is optional, it is used to determine the toplevel directory of a OurBigBook project, which has some effects such as those mentioned at <a href="#the-toplevel-index-file">the toplevel index file</a>.</div><div class="p" id="ourbigbook-json/_3696">Therefore, it is recommended that you always have a <code>ourbigbook.json</code> in your project's toplevel directory, even if it is going to be an empty JSON containing just:<div class="code" id="ourbigbook-json/_3697"><div><pre><code>{}</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3698">For example, if you convert a file in a subdirectory such as:<div class="code" id="ourbigbook-json/_3699"><div><pre><code>ourbigbook subdir/notindex.bigb</code></pre></div></div>then <code>ourbigbook</code> walks up the filesystem tree looking for <code>ourbigbook.json</code>, e.g.:<div class="list"><ul id="ourbigbook-json/_3700"><li id="ourbigbook-json/_3701">is there a <code>./subdir/ourbigbook.json</code>?</li><li id="ourbigbook-json/_3702">otherwise, is there a <code>./ourbigbook.json</code>?</li><li id="ourbigbook-json/_3703">otherwise, is there a <code>../ourbigbook.json</code>?</li><li id="ourbigbook-json/_3704">otherwise, is there a <code>../../ourbigbook.json</code>?</li></ul></div>and so on.</div><div class="p" id="ourbigbook-json/_3705">If we reach the root path <code>/</code> and no <code>ourbigbook.json</code> is found, then we understand that there is no <code>ourbigbook.json</code> file present.</div><div class="h" id="ourbigbook-json/dontignore"><div class="notnav"><h4><a href="ourbigbook-json/dontignore"><code>dontIgnore</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/dontignore"></a><span class="metrics"><span class="wcntr"> Words: 72</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/dontignore" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3706">List of <a href="#javascript-regular-expression">JavaScript regular expression</a>. If a file path matches any of them, then override <a href="#ourbigbook-json/ignore"><code>ignore</code></a> and don't ignore the path. E.g., if you have several <code>.scss</code> examples that you don't want to convert, but you do want to convert the <code>main.scss</code> for the website itself:<div class="code" id="ourbigbook-json/_3707"><div><pre><code>"ignore": [
  ".*\\.scss"
]
"dontIgnore": [
  "main.scss"
]</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3708">Note however that if an upper directory is ignored, then we don't recurse into it, and <code>dontIgnore</code> will have no effect.</div><div class="h" id="ourbigbook-json/dontignoreconvert"><div class="notnav"><h4><a href="ourbigbook-json/dontignoreconvert"><code>dontIgnoreConvert</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/dontignoreconvert"></a><span class="metrics"><span class="wcntr"> Words: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/dontignoreconvert" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3709">Analogous to <a href="#ourbigbook-json/dontignore"><code>dontIgnore</code></a> but acts on <a href="#ourbigbook-json/ignorerender"><code>ignoreRender</code></a> rather than <a href="#ourbigbook-json/ignore"><code>ignore</code></a>.</div><div class="h" id="ourbigbook-json/generatesitemap"><div class="notnav"><h4><a href="ourbigbook-json/generatesitemap"><code>generateSitemap</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/generatesitemap"></a><span class="metrics"><span class="wcntr"> Words: 25</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/generatesitemap" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3710">If <code>true</code>, generate a <a href="https://developers.google.com/search/docs/crawling-indexing/sitemaps/build-sitemap#text">text sitemap</a> and place it in the <a href="#obb-directory"><code>_obb</code> directory</a> when publishing at path:<div class="code" id="ourbigbook-json/_3711"><div><pre><code>_obb/sitemap.txt</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3712">This options requires you to also set <a href="#ourbigbook-json/publishrooturl"><code>publishRootUrl</code></a>.</div><div class="h" id="ourbigbook-json/ignore"><div class="notnav"><h4><a href="ourbigbook-json/ignore"><code>ignore</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/ignore"></a><span class="metrics"><span class="wcntr"> Words: 154</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/ignore" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3713">List of paths relative to the <a href="#project-toplevel-directory">project toplevel directory</a> that <a href="#ourbigbook-cli">OurBigBook CLI</a> will ignore, unless it also has a match in <a href="#ourbigbook-json/dontignore"><code>dontIgnore</code></a>.</div><div class="p" id="ourbigbook-json/_3714">Each entry is a <a href="#javascript-regular-expression">JavaScript regular expression</a>, and it must match the entire path from start to end to count.</div><div class="p" id="ourbigbook-json/_3715">If a directory is ignored, all its contents are also automatically ignored.</div><div class="p" id="ourbigbook-json/_3716">Useful if your project has a large directory that does not contain OurBigBook sources, and you don't want OurBigBook to mess with it.</div><div class="p" id="ourbigbook-json/_3717">Only ignores recursive conversions, e.g. given:<div class="code" id="ourbigbook-json/_3718"><div><pre><code>  "ignore": [
    "web"
  ]</code></pre></div></div>doing:<div class="code" id="ourbigbook-json/_3719"><div><pre><code>ourbigbook .</code></pre></div></div>skips that directory, but<div class="code" id="ourbigbook-json/_3720"><div><pre><code>ourbigbook web/myfile.bigb</code></pre></div></div>converts it because it was explicitly requested.</div><div class="p" id="ourbigbook-json/_3721">Examples:<div class="list"><ul id="ourbigbook-json/_3722"><li id="ourbigbook-json/_3723">ignore all files with a given extension;<div class="code" id="ourbigbook-json/_3724"><div><pre><code>"ignore": [
  ".*\\.tmp",
]</code></pre></div></div>Yes, it is a bit obnoxious to have to escape <code>.</code> and the backslash. We should use some proper globbing library like: <a href="https://github.com/isaacs/node-glob">github.com/isaacs/node-glob</a>. But on the other hand <a href="#ignore-from-gitignore">ignore from <code>.gitignore</code></a> makes this mostly useless, as <code>.gitignore</code> will be used most of the time.</li></ul></div></div><div class="p" id="ourbigbook-json/_3725">TODO: also ignore during <a href="#watch"><code>-w</code>, <code>--watch</code></a>.</div><div class="h" id="ourbigbook-json/ignorerender"><div class="notnav"><h4><a href="ourbigbook-json/ignorerender"><code>ignoreRender</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/ignorerender"></a><span class="metrics"><span class="wcntr"> Words: 58</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/ignorerender" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3726">Similar to <a href="#ourbigbook-json/ignore"><code>ignore</code></a>, but only ignore the files from rendering converesions such as bigb -&gt; html, scss -&gt; css.</div><div class="p" id="ourbigbook-json/_3727">Unlike <a href="#ourbigbook-json/ignore"><code>ignore</code></a>, matching files are still placed under the <a href="#raw-directory"><code>_raw</code> directory</a> and can be publicly viewed.</div><div class="p" id="ourbigbook-json/_3728">You almost always want this option over <a href="#ourbigbook-json/ignore"><code>ignore</code></a>, with files that should not be in the repository being just ignored with your <code>.gitignore</code> instead: <a href="#ignore-from-gitignore">Section "Ignore from <code>.gitignore</code>"</a>.</div><div class="h" id="ourbigbook-json/id"><div class="notnav"><h4><a href="ourbigbook-json/id"><code>ourbigbook.json</code> <code>id</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/id"></a><span class="metrics"><span class="wcntr"> Words: 280</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/id" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3729">Dictionary of options that control <a href="#automatic-id-from-title">automatic ID from title</a> generation.</div><div class="h" id="ourbigbook-json/id-normalize-latin"><div class="notnav"><h5><a href="ourbigbook-json/id-normalize-latin"><code>id</code> <code>normalize</code> <code>latin</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/id-normalize-latin"></a><span class="metrics"><span class="wcntr"> Words: 209</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/id" class="u"> <code>ourbigbook.json</code> <code>id</code></a><a href="#_toc/ourbigbook-json/id-normalize-latin" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3730">If <code>true</code>, does <a href="#ourbigbook-json/latin-normalization">Latin normalization</a> on the title.</div><div class="p" id="ourbigbook-json/_3731">Default: <code>true</code>.</div><div class="h" id="ourbigbook-json/latin-normalization"><div class="notnav"><h6><a href="ourbigbook-json/latin-normalization">Latin normalization</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-json/latin-normalization"></a><span class="metrics"><span class="wcntr"> Words: 199</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/id-normalize-latin" class="u"> <code>id</code> <code>normalize</code> <code>latin</code></a><a href="#_toc/ourbigbook-json/latin-normalization" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3732">ASCII normalization is a custom OurBigBook defined normalization that converts many characters that look like Latin characters into Latin characters.</div><div class="p" id="ourbigbook-json/_3733">For now, we are using the <code>deburr</code> method of Lodash: <a href="https://lodash.com/docs/4.17.15#deburr">lodash.com/docs/4.17.15#deburr</a>, which only affects Latin-like characters.</div><div class="p" id="ourbigbook-json/_3734">In addition to <code>deburr</code> we also convert:<div class="list"><ul id="ourbigbook-json/_3735"><li id="ourbigbook-json/_3736">en-dash and em-dash to simple ASCII dash <code>-</code>. Wikipedia Loves en-dashes in their article titles!</li><li id="ourbigbook-json/_3737">greek letters are replaced with their standard latin names, e.g. <code>α</code> to <code>alpha</code></li></ul></div></div><div class="p" id="ourbigbook-json/_3738">One notable effect is that it converts variants of ASCII letters to ASCII letters. E.g. <code>é</code> to <code>e</code> removing the accent.</div><div class="p" id="ourbigbook-json/_3739">This operation is kind of a superset of Unicode normalization acting only on Latin-like characters, where Unicode basically only removes things like diacritics.</div><div class="p" id="ourbigbook-json/_3740">OurBigBook normalization on the other also does other natural transformations that Unicode does not do, e.g. <code>æ</code> to <code>ae</code> as encoded by <code>deburr</code> and further custom replacements.</div><div class="p" id="ourbigbook-json/_3741">TODO <code>lodash.deburr</code>:<div class="list"><ul id="ourbigbook-json/_3742"><li id="ourbigbook-json/_3743">only deals with Unicode blocks "<a href="https://en.wikipedia.org/wiki/Latin-1_Supplement">Latin-1 Supplement</a>" and "<a href="https://en.wikipedia.org/wiki/Latin_Extended-B">Latin Extended-A</a>", notably missing <a href="https://en.wikipedia.org/wiki/Latin_Extended-B">Latin Extended-B</a>, <a href="https://en.wikipedia.org/wiki/Latin_Extended-C">C</a> and <a href="https://en.wikipedia.org/wiki/Latin_Extended-D">D</a>, which contain some important characters. Pull requests have been ignored:<div class="list"><ul id="ourbigbook-json/_3744"><li id="ourbigbook-json/_3745"><a href="https://github.com/lodash/lodash/issues/4530">github.com/lodash/lodash/issues/4530</a></li><li id="ourbigbook-json/_3746"><a href="https://github.com/lodash/lodash/pull/5491">github.com/lodash/lodash/pull/5491</a></li></ul></div>so maybe we should just code our own on top.</li><li id="ourbigbook-json/_3747">misses some candidates in <a href="https://en.wikipedia.org/wiki/Letterlike_Symbols">letterlike symbols</a></li><li id="ourbigbook-json/_3748"><a href="https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode#Mathematical_Operators_block">mathematical operators block</a></li></ul></div></div><div class="p" id="ourbigbook-json/_3749">Bibliography:<div class="list"><ul id="ourbigbook-json/_3750"><li id="ourbigbook-json/_3751"><a href="https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript">stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript</a></li><li id="ourbigbook-json/_3752"><a href="https://github.com/ourbigbook/ourbigbook/issues/162">github.com/ourbigbook/ourbigbook/issues/162</a></li></ul></div></div><div class="h" id="ourbigbook-json/id-normalize-punctuation"><div class="notnav"><h5><a href="ourbigbook-json/id-normalize-punctuation"><code>id</code> <code>normalize</code> <code>punctuation</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/id-normalize-punctuation"></a><span class="metrics"><span class="wcntr"> Words: 65</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/id" class="u"> <code>ourbigbook.json</code> <code>id</code></a><a href="#_toc/ourbigbook-json/id-normalize-punctuation" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3753">If <code>true</code>, does <a href="#ourbigbook-json/punctuation-normalization">Punctuation normalization</a> on the title.</div><div class="p" id="ourbigbook-json/_3754">Default: <code>true</code>.</div><div class="h" id="ourbigbook-json/punctuation-normalization"><div class="notnav"><h6><a href="ourbigbook-json/punctuation-normalization">Punctuation normalization</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-json/punctuation-normalization"></a><span class="metrics"><span class="wcntr"> Words: 55</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/id-normalize-punctuation" class="u"> <code>id</code> <code>normalize</code> <code>punctuation</code></a><a href="#_toc/ourbigbook-json/punctuation-normalization" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3755">Some selected punctuation marks are automatically converted into their dominant corresponding pronunciations. These are:<div class="list"><ul id="ourbigbook-json/_3756"><li id="ourbigbook-json/_3757"><code>%</code>: <code>percent</code></li><li id="ourbigbook-json/_3758"><code>&amp;</code>: <code>and</code></li><li id="ourbigbook-json/_3759"><code>+</code>: <code>plus</code></li><li id="ourbigbook-json/_3760"><code>@</code>: <code>at</code></li><li id="ourbigbook-json/_3761"><code>−</code> (Unicode minus sign, U+2212, distinct from the ASCII hyphen): <code>minus</code></li></ul></div></div><div class="p" id="ourbigbook-json/_3762">Dashes are added around the signs if needed, e.g.:<div class="list"><ul id="ourbigbook-json/_3763"><li id="ourbigbook-json/_3764"><code>C++</code>: <code>c-plus-plus</code></li><li id="ourbigbook-json/_3765"><code>Q&amp;A</code>: <code>q-and-a</code></li><li id="ourbigbook-json/_3766"><code>Folding@home</code>: <code>folding-at-home</code></li></ul></div></div><div class="h" id="ourbigbook-json/lint"><div class="notnav"><h4><a href="ourbigbook-json/lint"><code>lint</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/lint"></a><span class="metrics"><span class="wcntr"> Words: 134</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/lint" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3767">Dictionary of lint options to enable. OurBigBook tries to be strict about forcing specific styles by default, e.g. forbids triple newline paragraph. But sometimes we just can't bear it :-)</div><div class="h" id="ourbigbook-json/lint-h-parent"><div class="notnav"><h5><a href="ourbigbook-json/lint-h-parent"><code>lint</code> <code>h-parent</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/lint-h-parent"></a><span class="metrics"><span class="wcntr"> Words: 76</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/lint" class="u"> <code>lint</code></a><a href="#_toc/ourbigbook-json/lint-h-parent" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3768">Possible values:<div class="list"><ul id="ourbigbook-json/_3769"><li id="ourbigbook-json/_3770"><code>parent</code>: forces headers to use <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a> to specify their level</li><li id="ourbigbook-json/_3771"><code>number</code>: forces headers to not use <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a> to specify their level, i.e. to use a number or a number of <code>=</code></li></ul></div></div><div class="p" id="ourbigbook-json/_3772">You should basically always set either one of those on any serious project. Forgetting a <code>parent=</code> in a project that uses <code>parent=</code> everywhere else is a common cause of build bugs, and can be hard to debug without this type of linting enabled.</div><div class="h" id="ourbigbook-json/lint-h-tag"><div class="notnav"><h5><a href="ourbigbook-json/lint-h-tag"><code>lint</code> <code>h-tag</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/lint-h-tag"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/lint" class="u"> <code>lint</code></a><a href="#_toc/ourbigbook-json/lint-h-tag" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3773">Possible values:<div class="list"><ul id="ourbigbook-json/_3774"><li id="ourbigbook-json/_3775"><code>child</code>: forbids <a href="#header">headers</a> from using the <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a>. They should instead use the <a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a>.</li><li id="ourbigbook-json/_3776"><code>tag</code>: forbids <a href="#header">headers</a> from using the <a href="#h-child-argument"><code>\H</code> <code>child</code> argument</a>. They should instead use the <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a>.</li></ul></div></div><div class="h" id="ourbigbook-json/h"><div class="notnav"><h4><a href="ourbigbook-json/h"><code>h</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/h"></a><span class="metrics"><span class="wcntr"> Words: 321</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/h" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/h/_3777">This dictionnary stores options related to headers.</div><div class="h" id="ourbigbook-json/h/numbered"><div class="notnav"><h5><a href="ourbigbook-json/h/numbered"><code>numbered</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/h/numbered"></a><span class="metrics"><span class="wcntr"> Words: 106</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/h" class="u"> <code>h</code></a><a href="#_toc/ourbigbook-json/h/numbered" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/h/_3778">Sets the default <a href="#h-numbered-argument"><code>\H</code> <code>numbered</code> argument</a> argument of the toplevel headers of each source file.</div><div class="p" id="ourbigbook-json/h/_3779">Note that since the option is inherited by descendants, this can also affect the rendering of ancestors.</div><div class="p" id="ourbigbook-json/h/_3780"><a href="https://github.com/ourbigbook/ourbigbook/issues/188">github.com/ourbigbook/ourbigbook/issues/188</a> contains a proposal to instead inherit this property across <a href="#include">includes</a>.</div><div class="p" id="ourbigbook-json/h/_3781">If you set this ourbigbook.json option:<div class="code" id="ourbigbook-json/h/_3782"><div><pre><code>{
  "h": {
    "numbered": true
  }
}</code></pre></div></div>it is possible to override it for a specific file with and explicit <code>=0</code> <a href="#h-numbered-argument"><code>\H</code> <code>numbered</code> argument</a>:<div class="code" id="ourbigbook-json/h/_3783"><div><pre><code>= Not numbered exception
{numbered=0}

== Child also inherits not numbered</code></pre></div></div></div><div class="p" id="ourbigbook-json/h/_3784">Make every link to something that is not on the current page open on a new tab instead of the current one, i.e. add <code>target="_blank"</code> to such links.</div><div class="h" id="ourbigbook-json/h/splitdefault"><div class="notnav"><h5><a href="ourbigbook-json/h/splitdefault"><code>splitDefault</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/h/splitdefault"></a><span class="metrics"><span class="wcntr"> Words: 16</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/h" class="u"> <code>h</code></a><a href="#_toc/ourbigbook-json/h/splitdefault" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/h/_3785">This options is exactly analogous to the <a href="#ourbigbook-json/h/numbered"><code>numbered</code></a> option, but it affects the <a href="#h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a> instead of the <a href="#h-numbered-argument"><code>\H</code> <code>numbered</code> argument</a>.</div><div class="h" id="ourbigbook-json/h/splitdefaultnottoplevel"><div class="notnav"><h5><a href="ourbigbook-json/h/splitdefaultnottoplevel"><code>splitDefaultNotToplevel</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/h/splitdefaultnottoplevel"></a><span class="metrics"><span class="wcntr"> Words: 192</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/h" class="u"> <code>h</code></a><a href="#_toc/ourbigbook-json/h/splitdefaultnottoplevel" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/h/_3786">If given, the toplevel output of each input source is always non-split, and a split version is not generated at all.</div><div class="p" id="ourbigbook-json/h/_3787">This of course overrides the <a href="#h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a> for toplevel headers, making any links go to the non split version, as we won't have a split version at all in this case.</div><div class="p" id="ourbigbook-json/h/_3788">E.g.:</div><div class="p" id="ourbigbook-json/h/_3789">ourbigbook.json<div class="code" id="ourbigbook-json/h/_3790"><div><pre><code>{
  "h": {
    "splitDefault": true,
    "splitDefaultNoToplevel": true,
  }
}</code></pre></div></div></div><div class="p" id="ourbigbook-json/h/_3791">my-first-header.bigb<div class="code" id="ourbigbook-json/h/_3792"><div><pre><code>= My first header

== My second header</code></pre></div></div></div><div class="p" id="ourbigbook-json/h/_3793">When converted with:<div class="code" id="ourbigbook-json/h/_3794"><div><pre><code>ourbigbook --split-headers my-first-header.bigb</code></pre></div></div>would lead only to two output files:<div class="list"><ul id="ourbigbook-json/h/_3795"><li id="ourbigbook-json/h/_3796">my-first-header: not split</li><li id="ourbigbook-json/h/_3797">my-second-header: split</li></ul></div></div><div class="p" id="ourbigbook-json/h/_3798">Without <code>splitDefaultNoToplevel</code> we would instead have:<div class="list"><ul id="ourbigbook-json/h/_3799"><li id="ourbigbook-json/h/_3800">my-first-header: split</li><li id="ourbigbook-json/h/_3801">my-first-header-nosplit: not split</li><li id="ourbigbook-json/h/_3802">my-second-header: split</li></ul></div></div><div class="p" id="ourbigbook-json/h/_3803">The initial use case for this was in <a href="#ourbigbook-web">OurBigBook Web</a>. If we didn't do this, then there would be two versions of every article at the toplevel of a file: split and nosplit.</div><div class="p" id="ourbigbook-json/h/_3804">This would be confusing for users, who would e.g. see two new articles on the article index every time they create a new one.</div><div class="p" id="ourbigbook-json/h/_3805">It would also mean that metadata such as comments would be visible in two separate locations.</div><div class="p" id="ourbigbook-json/h/_3806">So instead of filtering the duplicate articles on every index, we just don't generate them in the first place.</div><div class="h" id="ourbigbook-json/htmlxextension"><div class="notnav"><h4><a href="ourbigbook-json/htmlxextension"><code>htmlXExtension</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/htmlxextension"></a><span class="metrics"><span class="wcntr"> Words: 14</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/htmlxextension" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3807">If <code>false</code>, implies <a href="#no-html-x-extension"><code>--no-html-x-extension</code></a>.</div><div class="p" id="ourbigbook-json/_3808">The initial application of this option was to <a href="#make-all-links-of-a-static-website-point-to-another-deployment-of-the-website">Section "Redirect from a static website to a dynamic website"</a>.</div><div class="h" id="ourbigbook-json/media-providers"><div class="notnav"><h4><a href="ourbigbook-json/media-providers"><code>media-providers</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/media-providers"></a><span class="metrics"><span class="wcntr"> Words: 400</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/media-providers" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3809">The <code>media-providers</code> entry of <code>ourbigbook.json</code> specifies properties of how media such as <a href="#image">images</a> and <a href="#video">videos</a> are retrieved and rendered.</div><div class="p" id="ourbigbook-json/_3810">The general format of <code>media-providers</code> looks like:<div class="code" id="ourbigbook-json/_3811"><div><pre><code>"media-providers": {
  "github": {
    "default-for": ["image"], // "all" to default for both image, video and anything else
    "path": "data/media/",    // data is gitignored, but should not be nuked like _out/
    "remote": "ourbigbook/ourbigbook-media"
  },
  "local": {
    "default-for": ["video"],
    "path": "media/",
  },
  "youtube": {}
}</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3812">Properties that are valid for every provider:<div class="list"><ul id="ourbigbook-json/_3813"><li id="ourbigbook-json/_3814"><div class="p" id="ourbigbook-json/_3815"><code>default-for</code>: use this provider as the default for the given types of listed macros.</div><div class="p" id="ourbigbook-json/_3816">The first character of the macros are case insensitive and must be given as lower case. Therefore e.g.:<div class="list"><ul id="ourbigbook-json/_3817"><li id="ourbigbook-json/_3818"><code>image</code> applies to both <code>image</code> and <code>Image</code></li><li id="ourbigbook-json/_3819">giving <code>Image</code> is an error because that starts with an upper case character</li></ul></div></div></li><li id="ourbigbook-json/_3820"><code>title-from-src</code> (<code>bool</code>): extract the <code>title</code> argument from the <code>src</code> by default for media such as <a href="#image">images</a> and <a href="#video">videos</a> as if the <code>titleFromSrc</code> macro argument had been given, see also: <a href="#image-id">Section "Image ID"</a></li></ul></div></div><div class="p" id="ourbigbook-json/_3821">Direct children of media-providers and subproperties that are valid only for them specifically:<div class="list"><ul id="ourbigbook-json/_3822"><li id="ourbigbook-json/_3823"><code>local</code>: tracked in the current Git repository as mentioned at <a href="#store-images-inside-the-repository-itself">Section "Store images inside the repository itself"</a><div class="list"><ul id="ourbigbook-json/_3824"><li id="ourbigbook-json/_3825"><code>path</code>: location of the cloned local repository relative to the root the main repository</li></ul></div></li><li id="ourbigbook-json/_3826"><code>github</code>: tracked in a separate Git repository as mentioned at <a href="#store-images-in-a-separate-media-repository">Section "Store images in a separate media repository"</a><div class="list"><ul id="ourbigbook-json/_3827"><li id="ourbigbook-json/_3828"><div class="p" id="ourbigbook-json/_3829"><code>path</code>: analogous to <code>path</code> for <code>local</code>: a local location for this GitHub provider, where the repository can optionally be cloned.</div><div class="p" id="ourbigbook-json/_3830">When not during a run with the <a href="#p-publish"><code>--publish</code> option</a>, OurBigBook checks if the path exists locally, and if it does, then it uses that local directory as the source intead of the GitHub repository.</div><div class="p" id="ourbigbook-json/_3831">This allows you to develop locally without Internet and see the latest version of the images without pushing them.</div><div class="p" id="ourbigbook-json/_3832">During publishing, the GitHub version is used instead.</div><div class="p" id="ourbigbook-json/_3833">TODO make this even more awesome by finishing to implement <a href="https://github.com/ourbigbook/ourbigbook/issues/184">github.com/ourbigbook/ourbigbook/issues/184</a>:<div class="list"><ul id="ourbigbook-json/_3834"><li id="ourbigbook-json/_3835">automatically <code>git push</code> this repository during deployment to ensure that any asset changes will be available.</li><li id="ourbigbook-json/_3836"><div class="p" id="ourbigbook-json/_3837">ignore the path from OurBigBook conversion as if added to <a href="#ourbigbook-json/ignore"><code>ignore</code></a>, and is not added to the final output, because you are already going to have a copy of it.</div><div class="p" id="ourbigbook-json/_3838">This way you can use the sanes approach which is to track the directory as a Git submodule as mentioned at: <a href="#store-images-in-a-separate-media-repository-and-track-it-as-a-git-submodule">store images in a separate media repository and track it as a git submodule</a>, instead of either:<div class="list"><ul id="ourbigbook-json/_3839"><li id="ourbigbook-json/_3840">keeping it outside of the repository</li><li id="ourbigbook-json/_3841">keeping it in the repository but explicitly ignoring it as well, which is a bit redundant</li></ul></div></div></li></ul></div></div></li><li id="ourbigbook-json/_3842"><code>remote</code>: <code>&lt;github-username&gt;/&lt;repo-name&gt;</code></li></ul></div></li><li id="ourbigbook-json/_3843"><code>youtube</code>: YouTube <a href="#video">videos</a></li></ul></div></div><div class="p" id="ourbigbook-json/_3844">See also: <a href="https://github.com/ourbigbook/ourbigbook/issues/40">github.com/ourbigbook/ourbigbook/issues/40</a></div><div class="h" id="ourbigbook-json/openlinksonnewtabs"><div class="notnav"><h4><a href="ourbigbook-json/openlinksonnewtabs"><code>openLinksOnNewTabs</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/openlinksonnewtabs"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/openlinksonnewtabs" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-json/outputoutoftree"><div class="notnav"><h4><a href="ourbigbook-json/outputoutoftree"><code>outputOutOfTree</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/outputoutoftree"></a><span class="metrics"><span class="wcntr"> Words: 111</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/outputoutoftree" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3845">Default: <code>true</code></div><div class="p" id="ourbigbook-json/_3846">If <code>true</code> place the HTML output under <a href="#the-out-directory">the <code>_out</code> directory</a> at <code>_out/html</code>.</div><div class="p" id="ourbigbook-json/_3847">For example with:<div class="code" id="ourbigbook-json/_3848"><div><pre><code>{
  "outputOutOfTree": false
}</code></pre></div></div>then<div class="code" id="ourbigbook-json/_3849"><div><pre><code>ourbigbook hello.bigb</code></pre></div></div>would be place its output under:<div class="code" id="ourbigbook-json/_3850"><div><pre><code>hello.html</code></pre></div></div>instead of <code>_out/html/hello.html</code>.</div><div class="p" id="ourbigbook-json/_3851">Advantages of <code>outputOutOfTree=true</code>:<div class="list"><ul id="ourbigbook-json/_3852"><li id="ourbigbook-json/_3853">the source tree becomes cleaner, especially when using <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> which can produce hundreds of output files from a single input file</li><li id="ourbigbook-json/_3854">if you want to track several <code>.html</code> source files in-tree, you don't need to add an exception to each of of them on the <code>.gitignore</code> as:<div class="code" id="ourbigbook-json/_3855"><div><pre><code>*.html
!/ourbigbook.liquid.html</code></pre></div></div></li></ul></div>Disadvantages:<div class="list"><ul id="ourbigbook-json/_3856"><li id="ourbigbook-json/_3857">you have to type more to open each output file on the terminal</li></ul></div></div><div class="p" id="ourbigbook-json/_3858">This option is always forced to <code>false</code> when <a href="#outdir"><code>--outdir &lt;outdir&gt;</code></a> is given.</div><div class="p" id="ourbigbook-json/_3859">Implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/163">github.com/ourbigbook/ourbigbook/issues/163</a></div><div class="h" id="ourbigbook-json/prepublish"><div class="notnav"><h4><a href="ourbigbook-json/prepublish"><code>prepublish</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/prepublish"></a><span class="metrics"><span class="wcntr"> Words: 90</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/prepublish" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3860">Path of a script that gets executed after conversion, and before upload, when running with the <a href="#p-publish"><code>--publish</code> option</a>.</div><div class="p" id="ourbigbook-json/_3861">The script arguments are:<div class="list"><ul id="ourbigbook-json/_3862"><li id="ourbigbook-json/_3863"><div class="p" id="ourbigbook-json/_3864">the publish output directory.</div><div class="p" id="ourbigbook-json/_3865">That directory is guaranteed to exist when <code>prepublish</code> is called.</div><div class="p" id="ourbigbook-json/_3866">For <code>git</code>-based publish targets, all files are almost ready in there, just waiting for a <code>git add .</code> that follows <code>prepublish</code>.</div><div class="p" id="ourbigbook-json/_3867">This means that you can use this script to place or remove files from the final publish output.</div></li></ul></div></div><div class="p" id="ourbigbook-json/_3868">If the <code>prepublish</code> script returns with a non-zero exit value, the publish is aborted.</div><div class="h" id="ourbigbook-json/publishcommitdate"><div class="notnav"><h4><a href="ourbigbook-json/publishcommitdate"><code>publishCommitDate</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/publishcommitdate"></a><span class="metrics"><span class="wcntr"> Words: 31</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/publishcommitdate" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3869">If given, use this fixed date as the author and comitter date of the publish commit.</div><div class="p" id="ourbigbook-json/_3870">All Git date formats are accepted as documented in <code>man git-commit</code>, e.g. <code>2005-04-07T22:13:13</code>.</div><div class="h" id="ourbigbook-json/publishoptions"><div class="notnav"><h4><a href="ourbigbook-json/publishoptions"><code>publishOptions</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/publishoptions"></a><span class="metrics"><span class="wcntr"> Words: 62</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/publishoptions" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3871">Options that should be used only on the published output when publishing with the <a href="#p-publish"><code>--publish</code> option</a>.</div><div class="p" id="ourbigbook-json/_3872">These options are merged directly into the options of the <a href="#convert-function"><code>convert</code> function</a>.</div><div class="p" id="ourbigbook-json/_3873">One example usage is to redirect all links of your <a href="#p-publish">static website</a> to your <a href="#ourbigbook-web">OurBigBook Web</a> profile:</div><div class="code" id="ourbigbook-json/_3874"><div><pre><code>  "publishOptions": {
    "htmlXExtension": false,
    "ourbigbook_json": {
      "toSplitHeaders": true,
      "xPrefix": "https://ourbigbook.com/cirosantilli/"
    }
  },</code></pre></div></div><div class="p" id="ourbigbook-json/_3875">If given these options override pre-existing options on the published output.</div><div class="h" id="ourbigbook-json/publishremoteurl"><div class="notnav"><h4><a href="ourbigbook-json/publishremoteurl"><code>publishRemoteUrl</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/publishremoteurl"></a><span class="metrics"><span class="wcntr"> Words: 35</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/publishremoteurl" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3876">A custom <code>remoteUrl</code> to upload the publish to, e.g.:<div class="code" id="ourbigbook-json/_3877"><div><pre><code>"publishRemoteUrl": "git@github.com:ourbigbook/ourbigbook.git"</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3878">If not given this value is extracted by default from the <code>origin</code> remote of the Git repository were the source code is located in.</div><div class="h" id="ourbigbook-json/publishrooturl"><div class="notnav"><h4><a href="ourbigbook-json/publishrooturl"><code>publishRootUrl</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/publishrooturl"></a><span class="metrics"><span class="wcntr"> Words: 13</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/publishrooturl" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3879">The root URL at which the website will be published, e.g.:<div class="code" id="ourbigbook-json/_3880"><div><pre><code>"publishRootUrl": "https://docs.ourbigbook.com"</code></pre></div></div></div><div class="h" id="ourbigbook-json/redirects"><div class="notnav"><h4><a href="ourbigbook-json/redirects"><code>redirects</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/redirects"></a><span class="metrics"><span class="wcntr"> Words: 188</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/redirects" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3881">Generate custom redirects.</div><div class="p" id="ourbigbook-json/_3882">For example:<div class="code" id="ourbigbook-json/_3883"><div><pre><code>"redirects": [
  ["cirodown", "ourbigbook"]
],</code></pre></div></div>produces a file in the output called <code>cirodown.html</code> that redirects to <code>ourbigbook.html</code>.</div><div class="p" id="ourbigbook-json/_3884">Absolute URLs are also accepted, e.g.:<div class="code" id="ourbigbook-json/_3885"><div><pre><code>"redirects": [
  ["ourbigbook", "https://docs.ourbigbook.com"]
],</code></pre></div></div>produces a file in the output called <code>ourbigbook.html</code> that redirects to <code>https://docs.ourbigbook.com</code>.</div><div class="p" id="ourbigbook-json/_3886">When dealing with regular <a href="#header">headers</a>, you generally don't want to use this option and instead use the <a href="#h-synonym-argument"><code>\H</code> <code>synonym</code> argument</a>, which already creates the redirection for you.</div><div class="p" id="ourbigbook-json/_3887">This JSON option can be useful however for dealing with things that are outside of your OurBigBook project.</div><div class="p" id="ourbigbook-json/_3888">For example, at one point, this project renamed the repository <a href="https://github.com/cirosantilli/cirodown">github.com/cirosantilli/cirodown</a> to <a href="https://github.com/ourbigbook/ourbigbook">github.com/ourbigbook/ourbigbook</a>.</div><div class="p" id="ourbigbook-json/_3889">Unfortunately, GitHub Pages does not generate redirects like github.com itself.</div><div class="p" id="ourbigbook-json/_3890">So in this case, we've added to the <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> of the toplevel user repository <a href="https://github.com/cirosantilli/cirosantilli.github.io">github.com/cirosantilli/cirosantilli.github.io</a> the lines:<div class="code" id="ourbigbook-json/_3891"><div><pre><code>"redirects": [
  ["cirodown", "ourbigbook"]
],</code></pre></div></div>which produces a file in the output called <code>cirodown.html</code> that redirects to <code>ourbigbook.html</code>.</div><div class="p" id="ourbigbook-json/_3892">In this case, <code>cirodown</code> and <code>ourbigbook</code> don't have to be any regular IDs present in the database, those strings are just used directly.</div><div class="p" id="ourbigbook-json/_3893">TODO ideally we should check for conflicts with regular output from split headers IDs or their synonyms. But lazy.</div><div class="h" id="ourbigbook-json/template"><div class="notnav"><h4><a href="ourbigbook-json/template"><code>template</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/template"></a><span class="metrics"><span class="wcntr"> Words: 52</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/template" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3894">Select the template Liquid file to use.</div><div class="p" id="ourbigbook-json/_3895">Serves as the default for the <a href="#ourbigbook-json/template"><code>template</code></a>.</div><div class="p" id="ourbigbook-json/_3896">If this option is not given, and if a file <a href="#ourbigbook-liquid-html">ourbigbook.liquid.html</a> exists in the project, then that file is used.</div><div class="p" id="ourbigbook-json/_3897">If <a href="#ourbigbook-liquid-html">ourbigbook.liquid.html</a> exists but you don't want to use it, set the option to <code>null</code> and it won't be used.</div><div class="h" id="ourbigbook-json/tosplitheaders"><div class="notnav"><h4><a href="ourbigbook-json/tosplitheaders"><code>toSplitHeaders</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/tosplitheaders"></a><span class="metrics"><span class="wcntr"> Words: 80</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/tosplitheaders" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3898">Make every <a href="#internal-link">internal link</a> point to the <a href="#split-headers">split header</a> version of the pages of the website. Do this even if those pages don't exist, or if they are not the default target e.g. as per the <a href="#h-splitdefault-argument"><code>\H</code> <code>splitDefault</code> argument</a>.</div><div class="p" id="ourbigbook-json/_3899">The initial application of this option was to <a href="#make-all-links-of-a-static-website-point-to-another-deployment-of-the-website">Section "Redirect from a static website to a dynamic website"</a>.</div><div class="p" id="ourbigbook-json/_3900">If this option is set, then nosplit/split header metadata links are removed, since it was hard to come up with a sensible behaviour to them, and it won't matter on web redirection where every page is nonsplit anyways.</div><div class="h" id="ourbigbook-json/web"><div class="notnav"><h4><a href="ourbigbook-json/web"><code>web</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/web"></a><span class="metrics"><span class="wcntr"> Words: 199</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/web" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/web/_3901">This dict contains options related to interaction between <a href="#ourbigbook-cli">OurBigBook CLI</a> and <a href="#ourbigbook-web">OurBigBook Web</a> deployments.</div><div class="h" id="ourbigbook-json/web/host"><div class="notnav"><h5><a href="ourbigbook-json/web/host"><code>host</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/web/host"></a><span class="metrics"><span class="wcntr"> Words: 27</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/web" class="u"> <code>web</code></a><a href="#_toc/ourbigbook-json/web/host" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/web/_3902">Select the default host used for<div class="list"><ul id="ourbigbook-json/web/_3903"><li id="ourbigbook-json/web/_3904"><a href="#ourbigbook-json/web"><code>web</code></a> publishing. Serves as the default domain for <a href="#web-url"><code>--web-url</code></a></li><li id="ourbigbook-json/web/_3905"><a href="#p-publish">static website</a> where it is used, e.g. <a href="#ourbigbook-json/web/linkfromstaticheadermetatoweb"><code>linkFromStaticHeaderMetaToWeb</code></a></li></ul></div>Defaults to <code>ourbigbook.com</code>, the <a href="#ourbigbook-com">reference Web instance</a>.</div><div class="h" id="ourbigbook-json/web/hostcapitalized"><div class="notnav"><h5><a href="ourbigbook-json/web/hostcapitalized"><code>hostCapitalized</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/web/hostcapitalized"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/web" class="u"> <code>web</code></a><a href="#_toc/ourbigbook-json/web/hostcapitalized" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/web/_3906">Capitalized version of <a href="#ourbigbook-json/web/host"><code>host</code></a>, e.g. <code>OurBigBook.com</code>.</div><div class="p" id="ourbigbook-json/web/_3907">Default:<div class="list"><ul id="ourbigbook-json/web/_3908"><li id="ourbigbook-json/web/_3909">if <a href="#ourbigbook-json/web/host"><code>host</code></a> is given, use it</li><li id="ourbigbook-json/web/_3910">otherwise, <code>OurBigBook.com</code></li></ul></div></div><div class="p" id="ourbigbook-json/web/_3911">Shows up on <a href="#ourbigbook-json/web/linkfromstaticheadermetatoweb"><code>linkFromStaticHeaderMetaToWeb</code></a> as a potentially more human readable version of the hostname.</div><div class="h" id="ourbigbook-json/web/linkfromstaticheadermetatoweb"><div class="notnav"><h5><a href="ourbigbook-json/web/linkfromstaticheadermetatoweb"><code>linkFromStaticHeaderMetaToWeb</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/web/linkfromstaticheadermetatoweb"></a><span class="metrics"><span class="wcntr"> Words: 123</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/web" class="u"> <code>web</code></a><a href="#_toc/ourbigbook-json/web/linkfromstaticheadermetatoweb" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/web/_3912">Type: boolean. Default: <code>false</code>.</div><div class="p" id="ourbigbook-json/web/_3913">If <code>true</code>, adds a link under the metadata section of every header of a <a href="#ourbigbook-cli">OurBigBook CLI</a> static website pointing to the corresponding article on <a href="#ourbigbook-com">OurBigBook.com</a>, or another <a href="#ourbigbook-web">OurBigBook Web</a> instance specified by the <a href="#ourbigbook-json/web/host"><code>host</code></a> option.</div><div class="p" id="ourbigbook-json/web/_3914">It also sends you to Heaven for supporting the project.</div><div class="p" id="ourbigbook-json/web/_3915">This option requires <a href="#ourbigbook-json/web/username"><code>username</code></a> to be set.</div><div class="p" id="ourbigbook-json/web/_3916">For example, if you set:<div class="code" id="ourbigbook-json/web/_3917"><div><pre><code>"web": {
  "username": "myusername",
  "linkFromStaticHeaderMetaToWeb": true
}</code></pre></div></div>then in the rendering of a index.bigb:<div class="code" id="ourbigbook-json/web/_3918"><div><pre><code>= Index

== My h2
{scope}

=== My h2 2
{scope}</code></pre></div></div>those headers would have a metadata entry pointing respectively to:<div class="list"><ul id="ourbigbook-json/web/_3919"><li id="ourbigbook-json/web/_3920"><code>https://ourbigbook.com/myusername</code></li><li id="ourbigbook-json/web/_3921"><code>https://ourbigbook.com/myusername/my-h2</code></li><li id="ourbigbook-json/web/_3922"><code>https://ourbigbook.com/myusername/my-h2/my-h2-2</code></li></ul></div></div><div class="p" id="ourbigbook-json/web/_3923">In order for such links not to be broken, you should always first do a <a href="#web">Web upload</a> to ensure that the articles are present on <a href="#ourbigbook-com">OurBigBook.com</a>.</div><div class="p" id="ourbigbook-json/web/_3924">Previously named <code>linkFromHeaderMeta</code>.</div><div class="h" id="ourbigbook-json/web/username"><div class="notnav"><h5><a href="ourbigbook-json/web/username"><code>username</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-json/web/username"></a><span class="metrics"><span class="wcntr"> Words: 11</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json/web" class="u"> <code>web</code></a><a href="#_toc/ourbigbook-json/web/username" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/web/_3925">Type: string.</div><div class="p" id="ourbigbook-json/web/_3926">Sets your <a href="#ourbigbook-com">OurBigBook.com</a> username. This is used e.g. by <a href="#ourbigbook-json/web/linkfromstaticheadermetatoweb"><code>linkFromStaticHeaderMetaToWeb</code></a>.</div><div class="h" id="ourbigbook-json/xprefix"><div class="notnav"><h4><a href="ourbigbook-json/xprefix"><code>xPrefix</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-json/xprefix"></a><span class="metrics"><span class="wcntr"> Words: 133</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-json" class="u"> <code>ourbigbook.json</code></a><a href="#_toc/ourbigbook-json/xprefix" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-json/_3927">If given, prepend the given string to every single <a href="#cross-file-internal-link">internal cross file internal link</a> output.</div><div class="p" id="ourbigbook-json/_3928">The initial application of this option was to <a href="#make-all-links-of-a-static-website-point-to-another-deployment-of-the-website">Section "Redirect from a static website to a dynamic website"</a>.</div><div class="p" id="ourbigbook-json/_3929">E.g. suppose that you previously had at <code>myoldsite.com</code> you had:</div><div class="p" id="ourbigbook-json/_3930">animal.bigb<div class="code" id="ourbigbook-json/_3931"><div><pre><code>= Animal

&lt;Dogs&gt; don't eat &lt;bananas&gt;.

== Dog</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3932">plant.bigb<div class="code" id="ourbigbook-json/_3933"><div><pre><code>= Plant

== Banana</code></pre></div></div>Originally that would render as:<div class="code" id="ourbigbook-json/_3934"><div><pre><code>&lt;a href="#dog"&gt;Dogs&lt;/a&gt; don't eat &lt;a href="plant#banana"&gt;bananas&lt;/a&gt;.</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3935">But then if you set in <code>ourbigbook.json</code>:<div class="code" id="ourbigbook-json/_3936"><div><pre><code>{
  "xPrefix": "https://mynewsite.com/"
}</code></pre></div></div>it will instead render as:<div class="code" id="ourbigbook-json/_3937"><div><pre><code>&lt;a href="#dog"&gt;Dogs&lt;/a&gt; don't eat &lt;a href="https://mynewsite.com/plant#banana"&gt;bananas&lt;/a&gt;.</code></pre></div></div>where:<div class="list"><ul id="ourbigbook-json/_3938"><li id="ourbigbook-json/_3939">dogs: untouched as it links to the same page as the current one</li><li id="ourbigbook-json/_3940">bananas: the prefix is added, as it is on another page</li></ul></div></div><div class="p" id="ourbigbook-json/_3941"><a href="#h-scope-argument">Scopes</a> are automatically resolved so that they will also be present in the target. E.g. in:</div><div class="p" id="ourbigbook-json/_3942">subdir/notindex.bigb<div class="code" id="ourbigbook-json/_3943"><div><pre><code>&lt;notindex2&gt;</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3944">subdir/notindex2.bigb<div class="code" id="ourbigbook-json/_3945"><div><pre><code>= Notindex2</code></pre></div></div></div><div class="p" id="ourbigbook-json/_3946">we get on <code>subdir/notindex.html</code>:<div class="code" id="ourbigbook-json/_3947"><div><pre><code>&lt;a href="https://mynewsite.com/subdir/notindex2.html"&gt;</code></pre></div></div>and not:<div class="code" id="ourbigbook-json/_3948"><div><pre><code>&lt;a href="https://mynewsite.com/notindex2.html"&gt;</code></pre></div></div></div><div class="h" id="make-all-links-of-a-static-website-point-to-another-deployment-of-the-website"><div class="notnav"><h3><a href="make-all-links-of-a-static-website-point-to-another-deployment-of-the-website">Make all links of a static website point to another deployment of the website</a></h3><span class="hover-meta"> <a class="split" href="make-all-links-of-a-static-website-point-to-another-deployment-of-the-website"></a><span class="metrics"><span class="wcntr"> Words: 138</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/make-all-links-of-a-static-website-point-to-another-deployment-of-the-website" class="toc"></a></div></nav></div><div class="p" id="_3949">This section describes how to make all links of one deployment of your <a href="#p-publish">static</a> OurBigBook publication to another location. For example, if you have a:</div><div class="p" id="_3950">The use case of this is if you are migrating from one domain to another, but you want to keep your old pages around to not break any links, and you also don't want to redirect users across domains.</div><div class="p" id="_3951">For example, this happened Ciro felt that <a href="#ourbigbook-web">OurBigBook Web</a> had reach enough maturity to be a reasonable reader alternative to the static website and so considered redirecting:<div class="list"><ul id="_3952"><li id="_3953">static <a href="https://cirosantilli.com">cirosantilli.com</a></li><li id="_3954">to <a href="#ourbigbook-web">OurBigBook Web</a> dynamic the website under <a href="https://ougbook.com/cirosantilli">ougbook.com/cirosantilli</a></li></ul></div></div><div class="p" id="_3955">By doing this setup, for example a link in <code>https://cirosantilli.com</code> :<div class="code" id="_3956"><div><pre><code>= Mathematics

&lt;physics&gt;</code></pre></div></div>rather than pointing to:<div class="code" id="_3957"><div><pre><code>https://cirosantilli.com/physics</code></pre></div></div>would instead point to;<div class="code" id="_3958"><div><pre><code>https://ourbigbook.com/cirosantilli/physics</code></pre></div></div></div><div class="p" id="_3959">To achieve this, you should use the following options<div class="list"><ul id="_3960"><li id="_3961"><a href="#ourbigbook-json/tosplitheaders"><code>toSplitHeaders</code></a></li><li id="_3962"><a href="#ourbigbook-json/htmlxextension"><code>htmlXExtension</code></a></li><li id="_3963"><a href="#ourbigbook-json/xprefix"><code>xPrefix</code></a></li><li id="_3964"><a href="#ourbigbook-json/publishoptions"><code>publishOptions</code></a></li></ul></div>as in:<div class="code" id="_3965"><div><pre><code>"publishOptions": {
  "toSplitHeaders": true,
  "htmlXExtension": false,
  "xPrefix": "https://ourbigbook.com/cirosantilli/"
},</code></pre></div></div></div><div class="h" id="ignored-files"><div class="notnav"><h3><a href="ignored-files">Ignored files</a></h3><span class="hover-meta"> <a class="split" href="ignored-files"></a><span class="metrics"><span class="wcntr"> Words: 84</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/ignored-files" class="toc"></a></div></nav></div><div class="p" id="_3966">The following files are ignored from conversion:<div class="list"><ul id="_3967"><li id="_3968"><a href="#ourbigbook-json/ignore"><code>ignore</code></a> patterns</li><li id="_3969">gitignored files: <a href="#ignore-from-gitignore">Section "Ignore from <code>.gitignore</code>"</a></li><li id="_3970">a few hardcoded basenames, such as <code>.git</code> and <a href="#the-out-directory">the <code>_out</code> directory</a>, see <code>DEFAULT_IGNORE_BASENAMES</code> in <a href="_raw/ourbigbook">ourbigbook</a></li></ul></div>Note that this applies even if you try to convert a single ignored file such as:<div class="code" id="_3971"><div><pre><code>ourbigbook ignored.bigb</code></pre></div></div>We are strict about this in order to prevent accidentally polluting the database with temporary data.</div><div class="h" id="ignore-from-gitignore"><div class="notnav"><h4><a href="ignore-from-gitignore">Ignore from <code>.gitignore</code></a></h4><span class="hover-meta"> <a class="split" href="ignore-from-gitignore"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ignored-files" class="u"> Ignored files</a><a href="#_toc/ignore-from-gitignore" class="toc"></a></div></nav></div><div class="p" id="_3972">If the project is a <a href="#git-tracked-project">Git tracked project</a>, the standard <code>git</code> ignore rules are used for ignores. This includes <code>.git/info/exclude</code>, <code>.gitignore</code> and the user's global gitingnore file if any.</div><div class="h" id="parallel-build"><div class="notnav"><h3><a href="parallel-build">Parallel build</a></h3><span class="hover-meta"> <a class="split" href="parallel-build"></a><span class="metrics"><span class="wcntr"> Words: 108</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/parallel-build" class="toc"></a></div></nav></div><div class="p" id="_3973">TODO: get this working. Maybe we should also bake it into the <code>ourbigbook</code> CLI tool as well for greater portability. Starting like this as a faster way to prototype:<div class="code" id="_3974"><div><pre><code>rm -rf _out/parallel
mkdir -p _out/parallel
# ID extraction.
git ls-files | grep -E '\.bigb$' | parallel -X ourbigbook --no-render --no-check-db --outdir '_out/parallel/{%}' '{}'
./merge-dbs _out/db.sqlite3 _out/parallel/*/db.sqlite3
ourbigbook --check-db
# Render.
git ls-files | grep -E '\.bigb$' | parallel -X ourbigbook --no-check-db '{}'</code></pre></div></div></div><div class="p" id="_3975">Observed <code>--no-render</code>  speedup on 1k small files from the <a href="#wikipedia-bot">Wikipedia bot</a> and 8 cores: 3x. So not bad.</div><div class="p" id="_3976">Observed render speedup on 1k small files from the <a href="#wikipedia-bot">Wikipedia bot</a> and 8 cores: none. TODO. Is this because of database contention?</div><div class="h" id="ourbigbook-cli-test-matrix"><div class="notnav"><h3><a href="ourbigbook-cli-test-matrix">OurBigBook CLI test matrix</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-cli-test-matrix"></a><span class="metrics"><span class="wcntr"> Words: 38</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-cli" class="u"> OurBigBook CLI</a><a href="#_toc/ourbigbook-cli-test-matrix" class="toc"></a></div></nav></div><div class="p" id="_3977">This section lists versions at which the basic <code>npm install</code> followed by basic <a href="#generate">template repo</a> conversion is known to work. Reports of other working systems are welcome and will be added here.</div><div class="list"><ul id="_3978"><li id="_3979">v0.9.35:<div class="list"><ul id="_3980"><li id="_3981">Ubuntu: 25.04</li><li id="_3982">MacOS: 11, 15</li><li id="_3983">Windows 10</li></ul></div></li></ul></div><div class="h" id="ourbigbook-library"><div class="notnav"><h2><a href="ourbigbook-library">OurBigBook Library <span class="meta">(JavaScript API)</span></a></h2><span class="hover-meta"> <a class="split" href="ourbigbook-library"></a><span class="metrics"><span class="wcntr"> Words: 181</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/ourbigbook-library" class="toc"></a></div></nav></div><div class="p" id="_3985">The main entry point for the JavaScript API is the <code>ourbigbook.convert</code> function.</div><div class="p" id="_3986">An example can be seen under <a href="_raw/lib_hello.js">lib_hello.js</a>.</div><div class="p" id="_3987">Note that while doing a simple conversion is easy, things get harder if you want to take multi-file features in consideration, notably <a href="#cross-file-internal-link-internals">cross file internal link internals</a>.</div><div class="p" id="_3988">This is because these features require interacting with the <a href="#cross-file-internal-link-internals">ID database</a>, and we don't do that from the default <code>ourbigbook.convert</code> API because different deployments will have very different implementations, notably:<div class="list"><ul id="_3989"><li id="_3990">local Node.js run uses SQLite, an implementation can be seen in the <a href="_raw/ourbigbook">ourbigbook</a> file class <code>SqlDbProvider</code></li><li id="_3991">the in-browser version that runs in the browser editor of the <a href="#ourbigbook-web">OurBigBook Web</a> makes API calls to the server</li></ul></div></div><div class="h" id="ourbigbook-library-environemnt-variable"><div class="notnav"><h3><a href="ourbigbook-library-environemnt-variable">OurBigBook Library environemnt variable</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-library-environemnt-variable"></a><span class="metrics"><span class="wcntr"> Words: 44</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-library" class="u"> OurBigBook Library</a><a href="#_toc/ourbigbook-library-environemnt-variable" class="toc"></a></div></nav></div><div class="p" id="_3992">These are variables that affect the <a href="#ourbigbook-library">OurBigBook Library</a> itself, and therefore also get picked up by <a href="#ourbigbook-cli">OurBigBook CLI</a> and <a href="#ourbigbook-web">OurBigBook Web</a>.</div><div class="h" id="ourbigbook-environment-variable-true"><div class="notnav"><h4><a href="ourbigbook-environment-variable-true">OurBigBook environment variable true</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-environment-variable-true"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-library-environemnt-variable" class="u"> OurBigBook Library environemnt variable</a><a href="#_toc/ourbigbook-environment-variable-true" class="toc"></a></div></nav></div><div class="p" id="_3993">For boolean environment variables, the value of "true" should use be <code>1</code>, e.g. as in:<div class="code" id="_3994"><div><pre><code>OURBIGBOOK_POSTGRES=1 ./bin/generate-demo-data.js</code></pre></div></div>Every other value is considered false, including e.g. <code>true</code>.</div><div class="h" id="convert-function"><div class="notnav"><h3><a href="convert-function"><code>convert</code> function</a></h3><span class="hover-meta"> <a class="split" href="convert-function"></a><span class="metrics"><span class="wcntr"> Words: 34</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-library" class="u"> OurBigBook Library</a><a href="#_toc/convert-function" class="toc"></a></div></nav></div><div class="p" id="_3995">The <code>convert</code> JavaScript function of the <a href="#ourbigbook-library">OurBigBook Library</a> is the central <a href="#ourbigbook-markup">OurBigBook Markup</a> conversion function of the <a href="">OurBigBook Project</a>.</div><div class="p" id="_3996">That function converts an input string to various output formats, and has many options.</div><div class="p" id="_3997">It is by both <a href="#ourbigbook-cli">OurBigBook CLI</a> and <a href="#ourbigbook-web">OurBigBook Web</a>.</div><div class="h" id="ourbigbook-web"><div class="notnav"><h2><a href="ourbigbook-web">OurBigBook Web <span class="meta">(Dynamic website)</span></a></h2><span class="hover-meta"> <a class="split" href="ourbigbook-web"></a><span class="metrics"><span class="wcntr"> Words: 12k</span><span class="dcnt"> Articles: 112</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/ourbigbook-web" class="toc"></a></div></nav></div><div class="p" id="_3999">OurBigBook Web is the software program that powers <a href="https://OurBigBook.com">OurBigBook.com</a>, its official flagship instance, see also: <a href="#ourbigbook-com">Section "OurBigBook.com"</a>. <a href="#ourbigbook-web">OurBigBook Web</a> is currently the main tool developed by the <a href="">OurBigBook Project</a>.</div><div class="p" id="_4000">This section contains both <a href="#ourbigbook-web-user-manual">end user documentation</a> and <a href="#ourbigbook-web-development">developer documentation</a>.</div><div class="p" id="_4001">More subjective rationale, motivation and planning aspects of the project are documented at: <a href="https://cirosantilli.com/ourbigbook-com">cirosantilli.com/ourbigbook-com</a>.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#a-few-articles-in-same-topic-are-shown-at-the-bottom-of-every-article-page">A few articles in same topic are shown at the bottom of every article page</a></li><li><a href="news#body-preview-on-all-article-lists">Body preview on all article lists</a></li><li><a href="news#pinned-article">Pinned article</a></li><li><a href="news#short-url-fragments-on-ourbigbook-web">Short URL fragments on OurBigBook Web</a></li><li><a href="news#suggest-article-creation-for-topics-that-don-t-exist">Suggest article creation for topics that don't exist</a></li><li><a href="news#unlisted-articles-on-web">Unlisted articles on web</a></li></ul></div></div><div class="h" id="ourbigbook-web-user-manual"><div class="notnav"><h3><a href="ourbigbook-web-user-manual">OurBigBook Web user manual</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-web-user-manual"></a><span class="metrics"><span class="wcntr"> Words: 4k</span><span class="dcnt"> Articles: 29</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web" class="u"> OurBigBook Web</a><a href="#_toc/ourbigbook-web-user-manual" class="toc"></a></div></nav></div><div class="p" id="_4002"><a href="#ourbigbook-web">OurBigBook Web</a> is a bit like <a href="https://ourbigbook.com/go/topic/wikipedia">Wikipedia</a>, but where each user can have their own version of each page, and it <a href="#can-my-ourbigbook-com-content-be-edited-or-removed-by-other-users">cannot be edited by others without permission</a>.</div><div class="p" id="_4003">And it is also a bit like <a href="https://ourbigbook.com/go/topic/obsidian">Obsidian</a> (a personal knowledge base): you can optionally keep all your notes in plaintext markup files in your computer and publish either on OurBigBook.com or as a static HTML website on your own domain.</div><div class="p" id="_4004">The goal of the <a href="">OurBigBook Project</a> is to make university students write perfect natural sciences books for free as they are trying to learn for their lectures.</div><div class="figure"><figure id="video-introduction-to-the-ourbigbook-project-ourbigbook-web-user-manual"><div class="float-wrap"><iframe width="888" height="500" loading="lazy" src="https://www.youtube.com/embed/7JOJYx0mmhg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-introduction-to-the-ourbigbook-project-ourbigbook-web-user-manual"><span class="caption-prefix">Video 14. </span></a><div class="title">Introduction to the OurBigBook Project</div>. <a href="https://www.youtube.com/watch?v=7JOJYx0mmhg">Source</a>. </figcaption></figure></div><div class="p" id="_4005">Suppose that Mr. Barack Obama is your calculus teacher this semester.</div><div class="p" id="_4006">Being an enlightened teacher, Mr. Obama writes everything that he knows on his OurBigBook.com account. His home page look something like the following tree:<div class="list"><ul id="_4007"><li id="_4008"><a href="https://ourbigbook.com/barack-obama">ourbigbook.com/barack-obama</a>: Obama's toplevel index pages linking to all his pages<div class="list"><ul id="_4009"><li id="_4010"><a href="https://ourbigbook.com/barack-obama/mathematics">Mathematics</a><div class="list"><ul id="_4011"><li id="_4012"><a href="https://ourbigbook.com/barack-obama/calculus">Calculus</a><div class="list"><ul id="_4013"><li id="_4014"><a href="https://ourbigbook.com/barack-obama/derivative">Derivative</a></li><li id="_4015"><a href="https://ourbigbook.com/barack-obama/integral">Integral</a><div class="list"><ul id="_4016"><li id="_4017"><a href="https://ourbigbook.com/barack-obama/fundamental-theorem-of-calculus">Fundamental theorem of calculus</a></li></ul></div></li></ul></div></li><li id="_4018"><a href="https://ourbigbook.com/barack-obama/algebra">Algebra</a></li></ul></div></li><li id="_4019"><a href="https://ourbigbook.com/barack-obama/physics">Physics</a></li></ul></div></li></ul></div></div><div class="p" id="_4020">On your first day of class, Mr. Obama tells his students to read the "Calculus" section, ask him any questions that come up online, and just walks away. No time wasted!</div><div class="p" id="_4021">While you are working through the sections under "Calculus", you happen to notice that the "Fundamental theorem of calculus" article is a bit hard to understand. Mr. Obama is a good teacher, but no one can write perfect tutorials of every little thing, right?</div><div class="p" id="_4022">This is where OurBigBook comes to your rescue. There are two ways that it can help you solve the problem:<div class="list"><ul id="_4023"><li id="_4024"><a href="#ourbigbook-web-topics">OurBigBook Web topics</a></li><li id="_4025"><a href="#ourbigbook-web-discussions">OurBigBook Web discussions</a></li></ul></div></div><div class="h" id="ourbigbook-web-topics"><div class="notnav"><h4><a href="ourbigbook-web-topics">OurBigBook Web topics</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-topics"></a><span class="metrics"><span class="wcntr"> Words: 557</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-topics" class="toc"></a></div></nav></div><div class="p" id="_4026">Topics group articles that have the same title by different users. This feature allows you to find the best article for a given topic, and it is one of the key innovations of <a href="#ourbigbook-web">OurBigBook Web</a>.</div><div class="p" id="_4027">Topics are a bit like Twitter hashtags or Quora questions: their goal is to centralize knowledge about a specific subject by different people at a single location.</div><div class="figure"><figure id="video-ourbigbook-web-topics-demo"><div class="float-wrap"><iframe width="700" height="700" loading="lazy" src="https://www.youtube.com/embed/54nxjC9BWTg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-web-topics-demo"><span class="caption-prefix">Video 15. </span></a><div class="title">OurBigBook Web topics demo</div>. <a href="https://www.youtube.com/watch?v=54nxjC9BWTg">Source</a>. </figcaption></figure></div><div class="figure"><figure id="_4028" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Integral_by_Barack_showing_fundamental_theorem_of_calculus_child_topic.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Integral_by_Barack_showing_fundamental_theorem_of_calculus_child_topic.png" loading="lazy" height="600"  class="border"></a></div><figcaption><a href="#_4028"><span class="caption-prefix">Figure 50. </span></a><div class="p" id="_4029"><a href="https://ourbigbook.com/barack-obama/integral#barack-obama/fundamental-theorem-of-calculus">Mr. Obama's article about the fundamental theorem of calculus</a> was not very good, and we were left clueless.</div><div class="p" id="_4030">But we can see that there are 3 articles in total about "Fundamental theorem of calculus", 2 of them by other authors, so maybe one of the others will help!</div></figcaption></figure></div><div class="figure"><figure id="_4031" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_arrow_to_full_article.png" loading="lazy" height="600"  class="border"></a></div><figcaption><a href="#_4031"><span class="caption-prefix">Figure 51. </span></a><div class="p" id="_4032">After clicking that button, we reach <a href="https://ourbigbook.com/go/topic/fundamental-theorem-of-calculus">the "Fundamental theorem of calculus" topic page</a>.</div><div class="p" id="_4033">Here we see that there are 3 articles in total. The one by Mr. Trump has 1 vote, while the others have zero, so Trump's appears on top. So maybe that is the best one!</div><div class="p" id="_4034">After a quick read, it does look like it might be interesting. Let's click on "Read the full article" to also see the descendant articles by Mr. Trump.</div></figcaption></figure></div><div class="figure"><figure id="_4035" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Donald_Trump.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Donald_Trump.png" loading="lazy" height="600"  class="border"></a></div><figcaption><a href="#_4035"><span class="caption-prefix">Figure 52. </span></a><div class="p" id="_4036">This leads us to <a href="https://ourbigbook.com/donald-trump/fundamental-theorem-of-calculus">Mr. Trump's version of the fundamental theorem page</a>.</div><div class="p" id="_4037">That's clearly, a superior article that will enlighten our problem.</div><div class="p" id="_4038">Donald must either be a very talented teacher or a hard working student from some other university. Thanks Mr. Trump!</div></figcaption></figure></div><div class="h" id="create-your-own-article-about-a-topic-in-ourbigbook-web"><div class="notnav"><h5><a href="create-your-own-article-about-a-topic-in-ourbigbook-web">Create your own article about a topic in OurBigBook Web</a></h5><span class="hover-meta"> <a class="split" href="create-your-own-article-about-a-topic-in-ourbigbook-web"></a><span class="metrics"><span class="wcntr"> Words: 134</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-topics" class="u"> OurBigBook Web topics</a><a href="#_toc/create-your-own-article-about-a-topic-in-ourbigbook-web" class="toc"></a></div></nav></div><div class="p" id="_4039">If even existing <a href="#ourbigbook-web-topics">topics</a> and <a href="#ourbigbook-web-discussions">discussions</a> have failed you, and you have finally understood a subject after a few hours of Googling, why not share your knowledge by creating a new article yourself?</div><div class="p" id="_4040">There are a few ways to do that.</div><div class="figure"><figure id="_4041"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_new_article.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_topic_page_new_article.png" loading="lazy" height="500"  class="border"></a></div><figcaption><a href="#_4041"><span class="caption-prefix">Figure 53. </span></a>One easy way to create an article about a given topic is to use the "New Article in Topic" button from the topic page. URL: <a href="https://ourbigbook.com/go/topic/fundamental-theorem-of-calculus">ourbigbook.com/go/topic/fundamental-theorem-of-calculus</a></figcaption></figure></div><div class="figure"><figure id="_4042"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_subheader_create_my.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_subheader_create_my.png" loading="lazy" height="200"  class="border"></a></div><figcaption><a href="#_4042"><span class="caption-prefix">Figure 54. </span></a>Another option is to click the "Create my version of this topic button". URL: <a href="https://ourbigbook.com/barack-obama/mathematics#fundamental-theorem-of-calculus">ourbigbook.com/barack-obama/mathematics#fundamental-theorem-of-calculus</a></figcaption></figure></div><div class="figure"><figure id="_4043"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_editor_new.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_editor_new.png" loading="lazy" height="300"  class="border"></a></div><figcaption><a href="#_4043"><span class="caption-prefix">Figure 55. </span></a>If you click do any of the above links, you will be redirected to the editor page, and the title will be preset. By simply using that exact same title to create your new article, your article will then appear in the correct "Fundamental theorem of calculus" topic where others might see it. <a href="https://ourbigbook.com/go/new?title=Proof%20of%20the%20fundamental%20theorem%20of%20calculus">ourbigbook.com/go/new?title=Proof%20of%20the%20fundamental%20theorem%20of%20calculus</a>.</figcaption></figure></div><div class="h" id="automatic-topic-linking"><div class="notnav"><h5><a href="automatic-topic-linking">Automatic topic linking</a></h5><span class="hover-meta"> <a class="split" href="automatic-topic-linking"></a><span class="metrics"><span class="wcntr"> Words: 193</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-topics" class="u"> OurBigBook Web topics</a><a href="#_toc/automatic-topic-linking" class="toc"></a></div></nav></div><div class="p" id="_4044"><a href="#ourbigbook-web">OurBigBook Web</a> can automatically create links to topics from regular plaintext. For example, if the following topics exist:<div class="list"><ul id="_4045"><li id="_4046"><code>/go/topic/quantum-mechanics</code></li><li id="_4047"><code>/go/topic/mathematicsl-physics</code></li></ul></div>then writing:<div><blockquote id="_4048">I like mathematical physics and quantum mechanics.</blockquote></div>will automatically be converted to something like:<div class="code" id="_4049"><div><pre><code>I like &lt;a href="/go/topic/mathematical-physics"&gt;mathematical physics&lt;/a&gt; &lt;a href="/go/topic/quantum-mechanics"&gt;quantum mechanics&lt;/a&gt;.</code></pre></div></div>This reduces the burden on writers of having to manually create topic links themselves.</div><div class="p" id="_4050">This conversion currently has the following limitations:<div class="list"><ul id="_4051"><li id="_4052">because it would lead to too many false postives and be too distracting, auto-generated links currently just have the exact same color as regular text, and users only notice them when mouse hovering</li><li id="_4053">for performance reasons, only topics with a given maximum number of words are considered. The maximum length is configurable by the <a href="#ourbigbook-web-admin">OurBigBook Web admin</a> under <a href="#site-settings-page">site settings</a> via the <code>automaticTopicLinksMaxWords</code>, and currently defaults to 3. Setting it to 0 turns off the automatic link generation</li></ul></div></div><div class="p" id="_4054">Topic autolinking becomes especially interesting with auto-generated data to populate a large number of topics, as was done with the <a href="#wikipedia-bot">wikibot</a> on <a href="#ourbigbook-com">OurBigBook.com</a>.</div><div class="p" id="_4055">This feature is available only on <a href="#ourbigbook-web">OurBigBook Web</a>. While it would be possible to implement it for <a href="#p-publish">static website</a> generation, it would require downloading information from the server which we don't currently want to implement.</div><div class="p" id="_4056">Related:<div class="list"><ul id="_4057"><li id="_4058"><a href="https://github.com/ourbigbook/ourbigbook/issues/356">github.com/ourbigbook/ourbigbook/issues/356</a></li></ul></div></div><div class="figure"><figure id="image-automatic-topic-linking-demo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/topics/automatic-link.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/topics/automatic-link.png" loading="lazy" height="1181"  class="border"></a></div><figcaption><a href="#image-automatic-topic-linking-demo"><span class="caption-prefix">Figure 56. </span></a><div class="title">Automatic topic linking demo</div>. <a href="https://ourbigbook.com/cirosantilli/things-that-i-like">Source</a>. </figcaption></figure></div><div class="h" id="ourbigbook-web-dynamic-article-tree"><div class="notnav"><h4><a href="ourbigbook-web-dynamic-article-tree">OurBigBook Web dynamic article tree</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-dynamic-article-tree"></a><span class="metrics"><span class="wcntr"> Words: 564</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-dynamic-article-tree" class="toc"></a></div></nav></div><div class="p" id="_4059"><a href="#ourbigbook-web">OurBigBook Web</a> implements what we call "dynamic article tree".</div><div class="p" id="_4060">What this means is that, unlike the static website generated by <a href="#ourbigbook-cli">OurBigBook CLI</a> where you know exactly which headers will show as children of a given header, we just dynamically fetch a certain number of descendant pages at a time.</div><div class="p" id="_4061">As an example of dynamic artic tree, note how the article "Special relativity" can be seen in all of the following pages:<div class="list"><ul id="_4062"><li id="_4063"><a href="https://ourbigbook.com/barack-obama/special-relativity">ourbigbook.com/barack-obama/special-relativity</a> as the toplevel article</li><li id="_4064"><a href="https://ourbigbook.com/barack-obama/physics">ourbigbook.com/barack-obama/physics</a> as a child</li><li id="_4065"><a href="https://ourbigbook.com/barack-obama/natural-science">ourbigbook.com/barack-obama/natural-science</a> as the child of a child</li></ul></div>The only efficient way to do this is to pick which articles will be rendered as soon as the user makes the request, rather than having fully pre-rendered pages, thus the name "dynamic".</div><div class="figure"><figure id="image-dynamic-article-tree-with-infinitely-deep-table-of-contents" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/dynamic-article-tree/demo.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/dynamic-article-tree/demo.png" loading="lazy" height="2000"  class="border"></a></div><figcaption><a href="#image-dynamic-article-tree-with-infinitely-deep-table-of-contents"><span class="caption-prefix">Figure 57. </span></a><div class="title">Dynamic article tree with infinitely deep table of contents</div>. <div class="p" id="_4066">Live URL: <a href="https://ourbigbook.com/cirosantilli/chordate">ourbigbook.com/cirosantilli/chordate</a></div><div class="p" id="_4067">Descendant pages can also show up as toplevel e.g.: <a href="https://ourbigbook.com/cirosantilli/chordate-subclade">ourbigbook.com/cirosantilli/chordate-subclade</a></div></figcaption></figure></div><div class="figure"><figure id="image-and-this-is-how-the-same-article-looks-on-the-static-website"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/cirosantilli.com/chordate/main.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/cirosantilli.com/chordate/main.png" loading="lazy" height="1700"  class="border"></a></div><figcaption><a href="#image-and-this-is-how-the-same-article-looks-on-the-static-website"><span class="caption-prefix">Figure 58. </span></a><div class="title">And this is how the same article looks on the static website</div>. Live URL: <a href="https://cirosantilli.com/taxonomy#chordate">cirosantilli.com/taxonomy#chordate</a></figcaption></figure></div><div class="figure"><figure id="video-ourbigbook-web-dynamic-article-tree-demo"><div class="float-wrap"><iframe width="700" height="700" loading="lazy" src="https://www.youtube.com/embed/sX_D_5tCQgg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-web-dynamic-article-tree-demo"><span class="caption-prefix">Video 16. </span></a><div class="title">OurBigBook Web dynamic article tree demo</div>. <a href="https://www.youtube.com/watch?v=sX_D_5tCQgg">Source</a>. </figcaption></figure></div><div class="p" id="_4068">The design goals of the dynamic article tree are to produce articles such that:<div class="list"><ul id="_4069"><li id="_4070">each article can appear as the toplevel article of a page to get better SEO opportunities</li><li id="_4071">and that page that contains the article can also contain as many descedants as we want to load, not jus the article itself, so as to not force readers to click a bunch of links to read more</li></ul></div></div><div class="p" id="_4072">For example, with a static website, a user could have a page structure such as:</div><div class="p" id="_4073">natural-science.bigb<div class="code" id="_4074"><div><pre><code>= Natural science

== Physics

\Include[special relativity]</code></pre></div></div></div><div class="p" id="_4075">special-relativity.bigb<div class="code" id="_4076"><div><pre><code>= Special relativity

== Lorentz transformation</code></pre></div></div></div><div class="p" id="_4077">In the static output, we would have two output files with multiple pages:<div class="list"><ul id="_4078"><li id="_4079"><code>natural-science.html</code></li><li id="_4080"><code>special-relativity.html</code></li></ul></div>plus one split output file for each header if <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> were enabled:<div class="list"><ul id="_4081"><li id="_4082"><code>natural-science-split.html</code></li><li id="_4083"><code>physics.html</code></li><li id="_4084"><code>special-relativity-split.html</code></li><li id="_4085"><code>lorentz-transformation.html</code></li></ul></div></div><div class="p" id="_4086">In this setup the header "Physics" for example is present in one of two possible pages:<div class="list"><ul id="_4087"><li id="_4088"><code>natural-science.html</code>: as a subheader, but Special Relativity is not shown even though it is a child</li><li id="_4089"><code>physics.html</code>: as the top header, and Special Relativity is still not shown as we are in split mode</li></ul></div></div><div class="p" id="_4090">In the case of the dynamic article tree however, we achieve our design goals:<div class="list"><ul id="_4091"><li id="_4092">"Physics" is the toplevel header, and therefore can get much better SEO</li><li id="_4093">"Special Relativity", "Lorentz transformation" and any other descendants will still show up below it, so it is much more readable than a page</li></ul></div>We then just cut off at 100 articles to not overload the server and browsers on very large pages. Sometimes those pages can still be accessed through the ToC, which has a larger limit of 1000 entries. We also want to implement: <a href="todo#load-more-articles">load more articles</a> to allow users to click to load more articles.</div><div class="p" id="_4094">And all of that is achieved:<div class="list"><ul id="_4095"><li id="_4096">without requiring authors to manually determine which headers are toplevel or not to customize page splits with reasonable load sizes.</li><li id="_4097">without keeping multiple copies of the render output of each page and corresponding pre-rendered ToCs. On the static website, we already had two rendering for each page: one split and one non-split, and the ToCs were huge and copied everywhere. Perhaps the ToC side could be resolve with some runtime fetching of static JSON, but then that is bad for SEO.</li></ul></div></div><div class="p" id="_4098">The downside of the feature is slightly slower page loads and a bit more server workload. We have kept it quite efficient server-side by implementing the page fetching with a <a href="#nested-set">nested sets</a> implementation.</div><div class="p" id="_4099">We believe that dynamic article treee offers a very good tradeoff between server load, load speeds, SEO, readability and author friendliness.</div><div class="h" id="ourbigbook-web-discussions"><div class="notnav"><h4><a href="ourbigbook-web-discussions">OurBigBook Web discussions</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-discussions"></a><span class="metrics"><span class="wcntr"> Words: 132</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-discussions" class="toc"></a></div></nav></div><div class="p" id="_4100">Each article has their own discussion section. This way you can easily see if other students have had the same problem as you and asked about it already.</div><div class="figure"><figure id="_4101"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_subheader_discussion_arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_subheader_discussion_arrow.png" loading="lazy" height="725"  class="border"></a></div><figcaption><a href="#_4101"><span class="caption-prefix">Figure 59. </span></a>Every section has a "Discussions" button where you can see if other people hit the same problem as you and created a discussion thread for it. We see that there are 2 total discussions about the section "Fundamental theorem of calculus", so let's check them out. URL: <a href="https://ourbigbook.com/barack-obama/integral#fundamental-theorem-of-calculus">ourbigbook.com/barack-obama/integral#fundamental-theorem-of-calculus</a></figcaption></figure></div><div class="figure"><figure id="_4102"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussions.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussions.png" loading="lazy" height="423"  class="border"></a></div><figcaption><a href="#_4102"><span class="caption-prefix">Figure 60. </span></a>From these 2 recent threads, in the first one seems that someone found the same difficulty that we did. URL: <a href="https://ourbigbook.com/go/discussions/barack-obama/fundamental-theorem-of-calculus">ourbigbook.com/go/discussions/barack-obama/fundamental-theorem-of-calculus</a></figcaption></figure></div><div class="figure"><figure id="_4103"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussion_1.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/Fundamental_theorem_of_calculus_by_Barack_Obama_discussion_1.png" loading="lazy" height="1043"  class="border"></a></div><figcaption><a href="#_4103"><span class="caption-prefix">Figure 61. </span></a>So let's inspect that discussion. Ah, clearly, the comments are very illuminating, our problem is solved! Hopefully the author will fix the issue so that other people don't have to go searching the discussions as well. URL: <a href="https://ourbigbook.com/go/discussion/1/barack-obama/fundamental-theorem-of-calculus">ourbigbook.com/go/discussion/1/barack-obama/fundamental-theorem-of-calculus</a></figcaption></figure></div><div class="h" id="ourbigbook-web-search"><div class="notnav"><h4><a href="ourbigbook-web-search">OurBigBook Web search</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-search"></a><span class="metrics"><span class="wcntr"> Words: 51</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-search" class="toc"></a></div></nav></div><div class="p" id="_4104">OurBigBook Web supports basic search for <a href="#element-id">ID</a> prefixes of articles and <a href="#ourbigbook-web-topics">topics</a>. Current search limitations:<div class="list"><ul id="_4105"><li id="_4106">only matches the start of IDs, not in the middle words</li><li id="_4107">cannot both search and sort simultaneously, e.g. sorting by articles with the greates score or newest articles</li></ul></div></div><div class="figure"><figure id="image-ourbigbook-web-search-demo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/search/physics-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/search/physics-arrow.png" loading="lazy" height="650"  class="border"></a></div><figcaption><a href="#image-ourbigbook-web-search-demo"><span class="caption-prefix">Figure 62. </span></a><div class="title">OurBigBook Web search demo</div>. Visible live at: <a href="https://ourbigbook.com/go/articles?body=false&amp;search=physics-and">ourbigbook.com/go/articles?body=false&amp;search=physics-and</a></figcaption></figure></div><div class="figure"><figure id="image-ourbigbook-web-search-highlighting-full-text-search"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/search/full-text-calculus-fun-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/search/full-text-calculus-fun-arrow.png" loading="lazy" height="738"  class="border"></a></div><figcaption><a href="#image-ourbigbook-web-search-highlighting-full-text-search"><span class="caption-prefix">Figure 63. </span></a><div class="title">OurBigBook Web search highlighting full text search</div>. <a href="https://ourbigbook.com/go/articles?body=false&amp;search=calculus%20fun">Source</a>. </figcaption></figure></div><div class="p" id="_4108">Related:<div class="list"><ul id="_4109"><li id="_4110"><a href="https://github.com/ourbigbook/ourbigbook/issues/263">github.com/ourbigbook/ourbigbook/issues/263</a></li><li id="_4111"><a href="news#article-and-topic-id-prefix-search">Article and topic ID prefix search</a></li><li id="_4112"><a href="news#web-searches-find-words-inside-title-on-postgresql">Web searches find words inside title on PostgreSQL</a></li></ul></div></div><div class="h" id="ourbigbook-web-editor"><div class="notnav"><h4><a href="ourbigbook-web-editor">OurBigBook Web editor</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-editor"></a><span class="metrics"><span class="wcntr"> Words: 149</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-editor" class="toc"></a><span class="tags"> Tags: <a href="#publish-your-content">Publish your content</a></span></div></nav></div><div class="p" id="_4114"><a href="#ourbigbook-web">OurBigBook Web</a> comes with a browser text editor where users can create and edit their articles in <a href="#ourbigbook-markup">OurBigBook Markup</a>.</div><div class="p" id="_4115">This is for example the editor you see when creating a new article at: <a href="https://ourbigbook.com/go/new">ourbigbook.com/go/new</a></div><div class="p" id="_4116">One day want to add an option to have a visual editor: <a href="todo#wysiwyg">Section "WYSIWYG"</a>, but for now we'll try to make the text-editor as awesome as we can.</div><div class="h" id="create-a-child-article-in-ourbigbook-web"><div class="notnav"><h5><a href="create-a-child-article-in-ourbigbook-web">Create a child article in OurBigBook Web</a></h5><span class="hover-meta"> <a class="split" href="create-a-child-article-in-ourbigbook-web"></a><span class="metrics"><span class="wcntr"> Words: 92</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-editor" class="u"> OurBigBook Web editor</a><a href="#_toc/create-a-child-article-in-ourbigbook-web" class="toc"></a></div></nav></div><div class="p" id="_4117">Marking a page as the child of another page is easy in <a href="#ourbigbook-web">OurBigBook Web</a>: you can simply set the parent of the page directly on the editor UI.</div><div class="p" id="_4118">If you don't want the article to be the first child of a parent, you can also set the "previous sibling" field. This specifies after which article the new article will be inserted.</div><div class="figure"><figure id="video-ourbigbook-web-parent-selection-on-the-web-ui"><div class="float-wrap"><iframe width="700" height="700" loading="lazy" src="https://www.youtube.com/embed/yQRjLyqILl0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-web-parent-selection-on-the-web-ui"><span class="caption-prefix">Video 17. </span></a><div class="title">OurBigBook Web parent selection on the web UI</div>. <a href="https://www.youtube.com/watch?v=yQRjLyqILl0">Source</a>. </figcaption></figure></div><div class="figure"><figure id="video-ourbigbook-web-error-reporting"><div class="float-wrap"><iframe width="1000" height="700" loading="lazy" src="https://www.youtube.com/embed/2Ne6AorMbGM" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-web-error-reporting"><span class="caption-prefix">Video 18. </span></a><div class="title">OurBigBook Web error reporting</div>. <a href="https://www.youtube.com/watch?v=2Ne6AorMbGM">Source</a>. Note that <a href="#video-ourbigbook-web-parent-selection-on-the-web-ui">Video 17. "OurBigBook Web parent selection on the web UI"</a> is not present on this video as the feature wasn't present when the video was made, but the error reporting remains valid.</figcaption></figure></div><div class="h" id="article-announcement"><div class="notnav"><h4><a href="article-announcement">Article announcement</a></h4><span class="hover-meta"> <a class="split" href="article-announcement"></a><span class="metrics"><span class="wcntr"> Words: 122</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/article-announcement" class="toc"></a></div></nav></div><div class="p" id="_4119">Once you've created a particularly notable article, you can announce it to your followers by clicking the "Announce to followers" button under the article page.</div><div class="p" id="_4120">Once clicked, this will send an email with a link to the article to all your followers. You can also optionally add a short message to the announcement to help your followers know why it was announced.</div><div class="p" id="_4121">In order to reduce the risk of spam and going over email quotas, the following restrictions are in place:<div class="list"><ul id="_4122"><li id="_4123">you can only announce each article once</li><li id="_4124">each user can only announce up to 5 articles in the last 30 days. Each user can check their quotas under the <a href="#user-settings-page">user settings page</a>.</li></ul></div></div><div class="figure"><figure id="image-article-announcement-button-on-ourbigbook-web"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/announce/button-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/announce/button-arrow.png" loading="lazy" height="712"  class="border"></a></div><figcaption><a href="#image-article-announcement-button-on-ourbigbook-web"><span class="caption-prefix">Figure 64. </span></a><div class="title">Article announcement button on OurBigBook Web</div>. <a href="https://ourbigbook.com/cirosantilli/chain-rule">Source</a>. </figcaption></figure></div><div class="figure"><figure id="image-modal-that-opens-up-after-clicking-the-article-announcement-button-on-ourbigbook-web"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/announce/modal.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/announce/modal.png" loading="lazy" height="349"  class="border"></a></div><figcaption><a href="#image-modal-that-opens-up-after-clicking-the-article-announcement-button-on-ourbigbook-web"><span class="caption-prefix">Figure 65. </span></a><div class="title">Modal that opens up after clicking the article announcement button on OurBigBook Web</div>. <a href="https://ourbigbook.com/cirosantilli/chain-rule">Source</a>. </figcaption></figure></div><div class="h" id="ourbigbook-web-page-renaming"><div class="notnav"><h4><a href="ourbigbook-web-page-renaming">OurBigBook Web page renaming</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-page-renaming"></a><span class="metrics"><span class="wcntr"> Words: 147</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-page-renaming" class="toc"></a></div></nav></div><div class="p" id="_4125">The current setup works as follows.</div><div class="p" id="_4126">Suppose you have a page titled:<div class="code" id="_4127"><div><pre><code>Calculus</code></pre></div></div>and therefore with an ID <code>calculus</code> that appears under: <a href="https://ourbigbook.com/barack-obama/calculus">ourbigbook.com/barack-obama/calculus</a></div><div class="p" id="_4128">Suppose you want to rename it to "Calculus 2" to have an ID of <code>calculus-2</code>.</div><div class="p" id="_4129">The procedure is:<div class="list"><ul id="_4130"><li id="_4131">set title to <code>Caculus 2</code></li><li id="_4132"><div class="p" id="_4133">set <code>Calculus</code> as a <a href="#h-synonym-argument">synonym</a> of the article, but adding to the top of the article body:</div><div class="code" id="_4134"><div><pre><code>Calculus
{synonym}</code></pre></div></div></li></ul></div></div><div class="p" id="_4135">As a result of this:<div class="list"><ul id="_4136"><li id="_4137">the page will now be hosted under <a href="https://ourbigbook.com/barack-obama/calculus">ourbigbook.com/barack-obama/calculus</a></li><li id="_4138"><a href="https://ourbigbook.com/barack-obama/calculus-2">ourbigbook.com/barack-obama/calculus-2</a> becomes a redirect to <a href="https://ourbigbook.com/barack-obama/calculus">ourbigbook.com/barack-obama/calculus</a></li><li id="_4139">articles that point with an <a href="#internal-link">internal link</a> to <code>calculus</code> are unmodified, and still link to: <a href="https://ourbigbook.com/barack-obama/calculus">ourbigbook.com/barack-obama/calculus</a>. But that link works due to the redirect.</li></ul></div></div><div class="p" id="_4140">This is not super user friendly, and could be made better by:<div class="list"><ul id="_4141"><li id="_4142">moving <code>synonym</code> from source to widgets: <a href="todo#web-header-metadata-to-widgets">move all header metadata from source to HTML in Widgets</a></li><li id="_4143">actually update all references on other files to the new value. This could be done e.g. by creating a worker thread, and mark all references as outdated.</li></ul></div></div><div class="h" id="ourbigbook-web-keyboard-shortcuts"><div class="notnav"><h4><a href="ourbigbook-web-keyboard-shortcuts">OurBigBook Web keyboard shortcuts</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-keyboard-shortcuts"></a><span class="metrics"><span class="wcntr"> Words: 85</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-keyboard-shortcuts" class="toc"></a></div></nav></div><div class="list"><ul id="_4144"><li id="_4145">Global:<div class="list"><ul id="_4146"><li id="_4147">Ctrl + Enter: submit the current form, e.g. save/create articles or comments, login, register</li><li id="_4148">TODO N: create a new article. This requires making sure that all input fields and textareas don't propagate N key events. We did that as a one off for E in comment textareas.</li></ul></div></li><li id="_4149">Page specific:<div class="list"><ul id="_4150"><li id="_4151">Article page (and for Index page on user page):<div class="list"><ul id="_4152"><li id="_4153">E: edit the page</li><li id="_4154">L: like or unlike the page. This would require moving like state out of the Like button, which is a bit annoying.</li></ul></div></li></ul></div></li></ul></div><div class="h" id="ourbigbook-web-restrictions-compared-to-cli"><div class="notnav"><h4><a href="ourbigbook-web-restrictions-compared-to-cli">OurBigBook Web restrictions compared to CLI</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-restrictions-compared-to-cli"></a><span class="metrics"><span class="wcntr"> Words: 53</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-restrictions-compared-to-cli" class="toc"></a></div></nav></div><div class="p" id="_4155">There are currently a few constructs that are legal in <a href="#ourbigbook-cli">OurBigBook CLI</a> but forbidden in Web and will lead to upload errors. TODO we should just make those forbidden on CLI by default with a flag to re-enable if users really want to make their source incompatible with web:<div class="list"><ul id="_4156"><li id="_4157">IDs with uppercase characters as per <a href="#javascript-case-conversion">JavaScript case conversion</a></li></ul></div></div><div class="h" id="ourbigbook-web-page"><div class="notnav"><h4><a href="ourbigbook-web-page">OurBigBook Web page</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-page"></a><span class="metrics"><span class="wcntr"> Words: 86</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-page" class="toc"></a></div></nav></div><div class="h" id="user-settings-page"><div class="notnav"><h5><a href="user-settings-page">User settings page <span class="meta">(<code>/go/settings/&lt;username&gt;</code>)</span></a></h5><span class="hover-meta"> <a class="split" href="user-settings-page"></a><span class="metrics"><span class="wcntr"> Words: 41</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-page" class="u"> OurBigBook Web page</a><a href="#_toc/user-settings-page" class="toc"></a></div></nav></div><div class="p" id="_4159">Example: <a href="https://ourbigbook.com/go/settings/barack-obama">ourbigbook.com/go/settings/barack-obama</a></div><div class="p" id="_4160">Contains profile and account settings for each user, including limits such as the maximum number of articles that each user may publish.</div><div class="p" id="_4161">This page is only visible to user themselves and <a href="#ourbigbook-web-admin">admins</a>. The limits can only be modified by <a href="#ourbigbook-web-admin">admins</a>.</div><div class="h" id="site-settings-page"><div class="notnav"><h5><a href="site-settings-page">Site settings page <span class="meta">(<code>/go/site-settings</code>)</span></a></h5><span class="hover-meta"> <a class="split" href="site-settings-page"></a><span class="metrics"><span class="wcntr"> Words: 45</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-page" class="u"> OurBigBook Web page</a><a href="#_toc/site-settings-page" class="toc"></a></div></nav></div><div class="p" id="_4163">Example: <a href="https://ourbigbook.com/go/site-settings">ourbigbook.com/go/site-settings</a></div><div class="p" id="_4164">The <a href="#site-settings-page">site settings page</a> contains global site settings that apply to the entire <a href="#ourbigbook-web">OurBigBook Web</a> instance.</div><div class="p" id="_4165">Its values can be viewed by all users, but only <a href="#ourbigbook-web-admin">admins</a> can modify their values.</div><div class="p" id="_4166">The page can be reached via the "Site Settings" button at the bottom of each index page e.g. <a href="https://ourbigbook.com">ourbigbook.com</a>.</div><div class="h" id="ourbigbook-web-user-settings"><div class="notnav"><h4><a href="ourbigbook-web-user-settings">OurBigBook Web user settings</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-user-settings"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-user-settings" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-hide-article-dates"><div class="notnav"><h4><a href="ourbigbook-web-hide-article-dates">OurBigBook Web hide article dates</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-hide-article-dates"></a><span class="metrics"><span class="wcntr"> Words: 104</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-hide-article-dates" class="toc"></a></div></nav></div><div class="p" id="_4167">By default, when you publish on <a href="#ourbigbook-web">OurBigBook Web</a>, either via the <a href="#web-editor">web editor</a> or via <a href="#web">Web upload</a> from the command line, the server will store and display the date at which articles were created and updated.</div><div class="p" id="_4168">To prevent that, you can set the "Hide article dates" user option, which prevents storage of such information on the database entirely.</div><div class="p" id="_4169">This makes <a href="#ourbigbook-web">OurBigBook Web</a> behave a little more like <a href="#p-publish">static websites</a>, where the publish date is only shown if you explicitly set it for the article with the <a href="#h-created-argument"><code>\H</code> <code>created</code> argument</a> or <a href="#h-updated-argument"><code>\H</code> <code>updated</code> argument</a>.</div><div class="p" id="_4170">When articles are created or updated with this option is selected, articles created will always appear last when listing articles by newest or latest.</div><div class="h" id="ourbigbook-web-moderation"><div class="notnav"><h4><a href="ourbigbook-web-moderation">OurBigBook Web moderation</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-moderation"></a><span class="metrics"><span class="wcntr"> Words: 481</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-web-moderation" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-admin"><div class="notnav"><h5><a href="ourbigbook-web-admin">OurBigBook Web admin</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-admin"></a><span class="metrics"><span class="wcntr"> Words: 192</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-moderation" class="u"> OurBigBook Web moderation</a><a href="#_toc/ourbigbook-web-admin" class="toc"></a></div></nav></div><div class="p" id="_4171">Each user has an <code>admin</code> property which when set to <code>true</code> allows the user to basically view and change anything for themselves and other users. E.g. admins can see private data of any user such as emails, or modify users usernames.</div><div class="p" id="_4172">Some actions are not possible currently because they were originally hardcoded for "do action for the current user" rather than "do action for target user", but all of those are intended to be converted. E.g. that is currently the case for like/unlike, follow/unfollow from the API.</div><div class="p" id="_4173">In order to mark a user as admin, direct DB acceess is required.</div><div class="p" id="_4174">For example, to make user <code>barack-obama</code> admin on a development run the <a href="_raw/web/bin/make-admin">web/bin/make-admin</a> script:<div class="code" id="_4175"><div><pre><code>web/bin/make-admin barack-obama</code></pre></div></div>Admin priviledges can be revoked with the <code>-f</code> (<code>--false</code>) flag:<div class="code" id="_4176"><div><pre><code>web/bin/make-admin -f barack-obama</code></pre></div></div></div><div class="p" id="_4177">The same command works in a <a href="#heroku-deployment">Heroku deployment</a> where you can run:<div class="code" id="_4178"><div><pre><code>heroku run -a ourbigbook web/bin/make-admin -f barack-obama</code></pre></div></div></div><div class="h" id="account-locking"><div class="notnav"><h6><a href="account-locking">Account locking</a></h6><span class="hover-meta"> <a class="split" href="account-locking"></a><span class="metrics"><span class="wcntr"> Words: 45</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-admin" class="u"> OurBigBook Web admin</a><a href="#_toc/account-locking" class="toc"></a></div></nav></div><div class="p" id="_4179">When an account is locked, the locked user can login into it and view the account, but they cannot take any action sthat would lead to changes to the database, including:<div class="list"><ul id="_4180"><li id="_4181">creating or editing articles and discussions</li><li id="_4182">liking, unliking articles or following or unfollowing users</li></ul></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#signup-ip-blacklist-vpn-detection-and-account-locking">Signup IP blacklist, VPN detection and account locking</a></li></ul></div></div><div class="h" id="database-access-only-admin"><div class="notnav"><h5><a href="database-access-only-admin">Database access-only admin</a></h5><span class="hover-meta"> <a class="split" href="database-access-only-admin"></a><span class="metrics"><span class="wcntr"> Words: 289</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-moderation" class="u"> OurBigBook Web moderation</a><a href="#_toc/database-access-only-admin" class="toc"></a></div></nav></div><div class="p" id="_4183">This section is about <a href="#ourbigbook-web">OurBigBook Web</a> features that currently require either:<div class="list"><ul id="_4184"><li id="_4185">direct database access</li><li id="_4186">environment variable access</li></ul></div>They could at some point be exposed to <a href="#ourbigbook-web-admin">OurBigBook Web admins</a>, but we were just lazy to do so for now.</div><div class="h" id="ourbigbook-web-signup-ip-blacklist"><div class="notnav"><h6><a href="ourbigbook-web-signup-ip-blacklist">OurBigBook Web signup IP blacklist</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-signup-ip-blacklist"></a><span class="metrics"><span class="wcntr"> Words: 84</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#database-access-only-admin" class="u"> Database access-only admin</a><a href="#_toc/ourbigbook-web-signup-ip-blacklist" class="toc"></a></div></nav></div><div class="p" id="_4187">It is possible to blacklist IP and IP prefixes by adding them to the database with:<div class="code" id="_4188"><div><pre><code>./heroku run web/bin/blacklist-signup-ip 123.456.789.1</code></pre></div></div></div><div class="p" id="_4189">IP prefixes can also be added to block entire ranges e.g.:<div class="code" id="_4190"><div><pre><code>./heroku run web/bin/blacklist-signup-ip 123.456.789
./heroku run web/bin/blacklist-signup-ip 123.456
./heroku run web/bin/blacklist-signup-ip 123</code></pre></div></div>would block respectively all of:<div class="code" id="_4191"><div><pre><code>123.456.789.*
123.456.*
123.*</code></pre></div></div></div><div class="p" id="_4192">You can also add a note as:<div class="code" id="_4193"><div><pre><code>./heroku run web/bin/blacklist-signup-ip 123.456.789.1 'IP blocked because asdf is ugly'</code></pre></div></div></div><div class="p" id="_4194">The list of blacklisted IPs can be obtained with:<div class="code" id="_4195"><div><pre><code>./heroku psql -c 'SELECT * FROM "SignupBlacklistIp"'</code></pre></div></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#signup-ip-blacklist-vpn-detection-and-account-locking">Signup IP blacklist, VPN detection and account locking</a></li></ul></div></div><div class="h" id="ourbigbook-web-analytics"><div class="notnav"><h6><a href="ourbigbook-web-analytics">OurBigBook Web analytics</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-analytics"></a><span class="metrics"><span class="wcntr"> Words: 171</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#database-access-only-admin" class="u"> Database access-only admin</a><a href="#_toc/ourbigbook-web-analytics" class="toc"></a></div></nav></div><div class="p" id="_4196"><a href="#ourbigbook-web">OurBigBook Web</a> supports the following types of analytics:<div class="list"><ul id="_4197"><li id="_4198">Google Analytics. TODO: the Google Analytics ID is currently hardcoded under <a href="_raw/web/front/config.js">web/front/config.js</a> <code>googleAnalyticsId: 'G-R721ZZTW7L'</code>, we should instead take it from an environment variable</li><li id="_4199"><div class="p" id="_4200">our simple built-in analytics to better view referrers. At some point Google Analytics stopped showing clear referrer paths, and so we started storing out own real quick. There is currently no UI for it, you just have to query the database e.g. with:<div class="code" id="_4201"><div><pre><code>printf '\\a\nSELECT referrer,path,ip,"createdAt" FROM "Request" ORDER BY "createdAt" DESC LIMIT 1000' | ./heroku psql DATABASE_URL</code></pre></div></div>You can also blacklist domains to reduce referrer spam with <a href="_raw/web/bin/blacklist-referrer-domain">web/bin/blacklist-referrer-domain</a>:<div class="code" id="_4202"><div><pre><code>./heroku web/bin/blacklist-referrer-domain binance.com</code></pre></div></div>You can list the blacklisted domains with:<div class="code" id="_4203"><div><pre><code>./heroku psql -c 'SELECT domain FROM "ReferrerDomainBlacklist" ORDER BY domain ASC'</code></pre></div></div>Here's a small open database that might help: <a href="https://github.com/matomo-org/referrer-spam-list">github.com/matomo-org/referrer-spam-list</a>.</div><div class="p" id="_4204">Local testing can be done on <a href="#ourbigbook-web-postgresql">PostgreSQL</a> with the help of:<div class="code" id="_4205"><div><pre><code>curl -H 'Referrer:http://exmaple.com' http://localhost:3000/qwer &amp;&gt;/dev/null &amp;&amp; web/bin/psql 'select * from "Request"'</code></pre></div></div></div><div class="p" id="_4206">We later learned that this feature is completely useless because <a href="https://stackoverflow.com/questions/6762258/when-browser-sets-the-referrer-in-http-request-header/79469565#79469565">browsers are actually not sending paths anymore</a>. But it's fun.</div></li></ul></div></div><div class="h" id="ourbigbook-com"><div class="notnav"><h4><a href="ourbigbook-com">OurBigBook.com</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-com"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-user-manual" class="u"> OurBigBook Web user manual</a><a href="#_toc/ourbigbook-com" class="toc"></a><span class="tags"> Tags: <a href="#custom-domain-name-setup">Custom domain name setup</a></span></div></nav></div><div class="p" id="_4208"><a href="https://OurBigBook.com">OurBigBook.com</a> is the reference public instance of <a href="#ourbigbook-web">OurBigBook Web</a>!</div><div class="p" id="_4209">This section describes setup and policies specific to that instance, and which don't necessarily apply to other instances people may host elsewhere.</div><div class="h" id="ourbigbook-com-policies"><div class="notnav"><h5><a href="ourbigbook-com-policies">OurBigBook.com policies</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-com-policies"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com" class="u"> OurBigBook.com</a><a href="#_toc/ourbigbook-com-policies" class="toc"></a></div></nav></div><div class="p" id="_4210">This session describes policies specific to the OurBigBook.com instance of <a href="#ourbigbook-web">OurBigBook Web</a>.</div><div class="p" id="_4211">Documentation present under <a href="#ourbigbook-web-user-manual">OurBigBook Web user manual</a> describes <a href="#ourbigbook-web">OurBigBook Web</a> in general.</div><div class="p" id="_4212">These policies only applies to the official reference <a href="https://OurBigBook.com">OurBigBook.com</a> instance. If you host your own <a href="#ourbigbook-web">OurBigBook Web</a>, there are no constraints imposed on your content, only on the source code as per <a href="_raw/LICENSE.txt">LICENSE.txt</a>.</div><div class="h" id="ourbigbook-com-content-license"><div class="notnav"><h6><a href="ourbigbook-com-content-license">OurBigBook.com content license</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-com-content-license"></a><span class="metrics"><span class="wcntr"> Words: 795</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><a href="#_toc/ourbigbook-com-content-license" class="toc"></a></div></nav></div><div class="p" id="_4213">All content that you upload that you own copyright for is automatically dual licensed as under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons CC BY-SA 4.0</a>. This is for example the same license family used by Wikipedia.</div><div class="p" id="_4214">Starting from August 22 2024, users also automatically grant to the <a href="">OurBigBook Project</a> a non-exclusive license to relicense their content. This could be used for example to:</div><div class="list"><ul id="_4215"><li id="_4216">sell the content to companies that do not wish to comply with the CC BB-SA license, e.g. for LLM training. We will try to avoid ever doing this as much as possible since it goes against the vision of the project for open knowledge. But it could one day be the difference between life and death of the project, so we'd like to keep that door open just in case. Any such relicensing deals will be transparently announced.</li><li id="_4217">add a new license to content on the website which we feel might better serve all users</li></ul></div><div class="p" id="_4218">Any such relicensing does not affect the original CC BY-SA 4.0 license nor your ownership of the content. It only adds new licenses on top of it. This way the content remains free no matter what.</div><div class="p" id="_4219">If you don't own the copyright for a work, you may still upload it if its license allows for "perpetual (non-expiring) and non-revocable" usage. This allows for example for:<div class="list"><ul id="_4220"><li id="_4221">all Creative Commons licenses</li><li id="_4222">GNU General Public License</li></ul></div>and so on.</div><div class="p" id="_4223">Note however that the "non-commercial" (NC) and "no derivatives" (ND) CC license are basically legal minefields as it can be very subjective to decide what counts as commercial or a derivative, and so we will immediately take down material upon copyright owner request as we are not ready to test this in court!</div><div class="p" id="_4224">For example:<div class="list"><ul id="_4225"><li id="_4226"><div class="p" id="_4227"><a href="#project-governance">it has not yet been decided if the OurBigBook Project will be ran as a not for profit or for profit organization</a>. If a for-profit model is chosen, NC copyright owners could feel that their content being merely hosted on ourbigbook.com might constitute a for-profit usage as it could help bring publicity to the site.</div><div class="p" id="_4228">The project makes the following commitment however: if ever a way if found to make money from the project, all NC content will be excluded from any directly monetizable money-making activities, e.g. ads or otherwise.</div></li><li id="_4229">which of the following consist of a derivative or not:<div class="list"><ul id="_4230"><li id="_4231">a table of contents that mirrors a ND work, but without the actual contents, which would automatically be filled with "the most upvoted article in a given <a href="#ourbigbook-web-topics">topic</a>"</li><li id="_4232">a section of ND content without the rest of the work?</li><li id="_4233">ND content but with extra article interlinking added?</li><li id="_4234">ND content with IDs (such as HTML id= elements) but where IDs have been</li><li id="_4235">a public modification request to an ND content?</li></ul></div></li></ul></div></div><div class="p" id="_4236">Unfortunately, NC is extremely popular amongst academics, presumably due to professors hopes that one day their notes may become a book which will sell for money, or maybe simply for idealist reasons, and it would be too hard to fight against such licenses at this point in time.</div><div class="p" id="_4237">Ultimately the project will have to decide if such licenses is worth the trouble or not, and if one day it seems apparent that it is not, a mass take down may happen. But for now we are willing to try. <a href="https://commons.wikimedia.org/wiki/Commons:Licensing">Wikimedia Commons</a> for example has decided not to allow NC and ND.</div><div class="p" id="_4238">Content that is not freely licensed might be allowed for upload under a <a href="https://en.wikipedia.org/wiki/Fair_use">fair use</a> rationale. Fair use are murky waters. Wikipedia for example takes a very strict approach of very limited fair use: <a href="https://en.wikipedia.org/wiki/Wikipedia:Non-free_content">en.wikipedia.org/wiki/Wikipedia:Non-free_content</a>, but we are more relaxed to it, and only take gray cases down upon copyright owner request.</div><div class="p" id="_4239">Some examples of what should generally be OK:<div class="list"><ul id="_4240"><li id="_4241">quote up to a paragraph from a copyrighted book, clearly attributing it</li><li id="_4242"><div class="p" id="_4243">explain what you've learned from a book or course in your own words.</div><div class="p" id="_4244">You also have to take some care to not copy the exact structure of the original, as that itself could be subject to copyright.</div><div class="p" id="_4245">One good approach is to just use several sources. If multiple sources use the same structure, then it is more arguable that this structure is not a novel copyrighted thing.</div></li><li id="_4246">use a copyrighted image when there is no free alternative to illustrate what you are talking about</li></ul></div></div><div class="p" id="_4247">If the copyright owner complains in such cases, we might have to take something down, but as long as you are not just uploading a bunch of obviously copyrighted content, it's not the end of the world, we'll just find another freer way to explain things without them.</div><div class="p" id="_4248">More egregious cases such as the upload of:<div class="list"><ul id="_4249"><li id="_4250">entire copyrighted books</li><li id="_4251">copyrighted pieces of music</li></ul></div>and so on will obviously be taken down preemptively as soon as noticed even without a take down request.</div><div class="h" id="what-content-can-i-publish-on-ourbigbook-com"><div class="notnav"><h6><a href="what-content-can-i-publish-on-ourbigbook-com">What content can I publish on OurBigBook.com?</a></h6><span class="hover-meta"> <a class="split" href="what-content-can-i-publish-on-ourbigbook-com"></a><span class="metrics"><span class="wcntr"> Words: 242</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><a href="#_toc/what-content-can-i-publish-on-ourbigbook-com" class="toc"></a></div></nav></div><div class="p" id="_4252">Anything you want, as long as it is legal. This notably includes not violating copyright, see also: <a href="#ourbigbook-com-content-license">OurBigBook.com content license</a>.</div><div class="p" id="_4253">It doesn't have to be about STEM in any way.</div><div class="p" id="_4254">And it doesn't even have to be useful.</div><div class="p" id="_4255">Just beward of the following:<div class="list"><ul id="_4256"><li id="_4257">if you automatically mass upload a bunch of useless automatically generated content, you might get blocked</li><li id="_4258">if you create a bunch of accounts and upvote one another, i.e. voting fraud, you might get blocked. Ideally one day we want to have a robust ranking system that is immune to manual vote fraud, much like PageRank. However we still don't have anywhere enough users and data to make that worth it or feasible at this time, so we are starting simple and doing it manually</li><li id="_4259">SPAM: if you are clearly trying to promote goods or services with a large number of posts of accounts because you were paid to do so. There is a fine line between SPAM and non spam, which our admins will do their best to judge. E.g. talking at length about your projects is not SPAM, and it is greatly encouraged. But e.g. using a large number of unrelated <a href="#ourbigbook-web-topics">topics</a> to promote your stuff is Here's a nice example: <a href="https://github.com/ourbigbook/ourbigbook/issues/346">github.com/ourbigbook/ourbigbook/issues/346</a></li></ul></div></div><div class="p" id="_4260">At some distant point in the future we could start letting people self tag content that is illegal in certain countries or for certain age groups, and we could then block this content to satisfy the laws of each country.</div><div class="h" id="can-my-ourbigbook-com-content-be-edited-or-removed-by-other-users"><div class="notnav"><h6><a href="can-my-ourbigbook-com-content-be-edited-or-removed-by-other-users">Can my OurBigBook.com content be edited or removed by other users?</a></h6><span class="hover-meta"> <a class="split" href="can-my-ourbigbook-com-content-be-edited-or-removed-by-other-users"></a><span class="metrics"><span class="wcntr"> Words: 109</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><a href="#_toc/can-my-ourbigbook-com-content-be-edited-or-removed-by-other-users" class="toc"></a></div></nav></div><div class="p" id="_4261">Websites such as Wikipedia or Stack Exchange have a political system where users can gain priviledges, and once they have gained those priviledges, they can edit or delete your content.</div><div class="p" id="_4262">In OurBigBook Web, unless you explicitly give other users permission to do so, only <a href="#ourbigbook-web-admin">admins</a> of the website can ever delete any content, and that will only ever be done if:<div class="list"><ul id="_4263"><li id="_4264">the content is illegal, see also <a href="#what-content-can-i-publish-on-ourbigbook-com">What content can I publish on OurBigBook.com?</a></li><li id="_4265">you are trying to hack us!</li></ul></div></div><div class="p" id="_4266">Admins will always be a small number of people, either employed by, or highly trusted by OurBigBook Project leaders. They are not community elected. Their actions may be reversed at anytime by the OurBigBook Project leadership.</div><div class="h" id="if-ourbigbook-com-shuts-down-will-i-lose-all-my-content"><div class="notnav"><h6><a href="if-ourbigbook-com-shuts-down-will-i-lose-all-my-content">If OurBigBook.com shuts down, will I lose all my content?</a></h6><span class="hover-meta"> <a class="split" href="if-ourbigbook-com-shuts-down-will-i-lose-all-my-content"></a><span class="metrics"><span class="wcntr"> Words: 72</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com-policies" class="u"> OurBigBook.com policies</a><a href="#_toc/if-ourbigbook-com-shuts-down-will-i-lose-all-my-content" class="toc"></a></div></nav></div><div class="p" id="_4267">We haven't implemented it yet, but it is an important feature that we will implement: you will be able to download all your content as a .zip file containing <a href="#ourbigbook-markup">OurBigBook Markup</a> files, and then you will be able to generate the HTML for your content on your own computer with the open source OurB implementation. There are then several alternative ways to host the generated HTML files, including free ones such as GitHub Pages.</div><div class="h" id="ourbigbook-web-development"><div class="notnav"><h3><a href="ourbigbook-web-development">OurBigBook Web development</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-web-development"></a><span class="metrics"><span class="wcntr"> Words: 8k</span><span class="dcnt"> Articles: 81</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web" class="u"> OurBigBook Web</a><a href="#_toc/ourbigbook-web-development" class="toc"></a></div></nav></div><div class="h" id="local-development-server"><div class="notnav"><h4><a href="local-development-server">Local development server</a></h4><span class="hover-meta"> <a class="split" href="local-development-server"></a><span class="metrics"><span class="wcntr"> Words: 504</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/local-development-server" class="toc"></a></div></nav></div><div class="p" id="_4268">OurBigBook Web is a regular databased backed dynamic website. This is unlike the static websites generated by <a href="#ourbigbook-cli">OurBigBook CLI</a>:<div class="list"><ul id="_4269"><li id="_4270">static websites are simpler and cheaper to run, but they are harder to setup for non-programmers</li><li id="_4271">static websites cannot have multiuser features such as likes, comments, and "view versions of this article by other users", which is are core functionality of the OurBigBook Project</li></ul></div></div><div class="p" id="_4272">The source for OurBigBook Web, source code is fully contained under <a href="https://github.com/ourbigbook/ourbigbook/tree/master/web">the <code>web/</code> directory of the OurBigBook Project source code</a>. OurBigBook Web can be seen as a separate Node.js package which uses the <a href="#ourbigbook-library">OurBigBook Library</a> as a dependency.</div><div class="p" id="_4273">OurBigBook Web was originally forked from the following starter boilerplate: <a href="https://github.com/cirosantilli/node-express-sequelize-realworld-example-app">github.com/cirosantilli/node-express-sequelize-realworld-example-app</a>. We are trying to keep tech synced as much as possible between both projects, since the boilerplate is useful as a tech demo to quickly try out new technologies in a more minimal setup, but it has started to lag a bit behind. The web stack of OurBigBook Web is described at: <a href="#ourbigbook-web-tech-stack">OurBigBook Web tech stack</a>.</div><div class="p" id="_4274">It is highly recommended that you use the exact same Node.js and NPM versions as given under <a href="_raw/package.json">package.json</a> <code>engines.js</code> entry. The best way to do that is likely to use NVM as explained at: <a href="https://stackoverflow.com/questions/16898001/how-to-install-a-specific-version-of-node-on-ubuntu/47376491#47376491">stackoverflow.com/questions/16898001/how-to-install-a-specific-version-of-node-on-ubuntu/47376491#47376491</a> Using NVM also removes the need for <code>sudo</code> from global install commands such as <code>npm run link</code>.</div><div class="p" id="_4275">First time setup:<div class="code" id="_4276"><div><pre><code>cd ourbigbook &amp;&amp;
npm run link &amp;&amp;
npm run build-assets &amp;&amp;
cd web/ &amp;&amp;
npm install &amp;&amp;
./bin/generate-demo-data.js --users 2 --articles-per-user 10
# Or short version:
#./bin/generate-demo-data.js -u 2 -a 10</code></pre></div></div>where:<div class="list"><ul id="_4277"><li id="_4278"><div class="p" id="_4279"><code>npm run build-assets</code> needs to be re-run if any assets (e.g. CSS or Js file mentioned at <a href="#overview-of-files-in-this-repository">overview of files in this repository</a>) on the <code>./ourbigbook/</code> toplevel are modified. No need to re-run it for changes under <code>web/</code>.</div><div class="p" id="_4280">To develop files from outside <code>web/</code>, also consider:<div class="code" id="_4281"><div><pre><code>npm run webpack-dev</code></pre></div></div>as mentioned at: <a href="#obb-directory"><code>_obb</code> directory</a>.</div></li><li id="_4282"><a href="_raw/web/bin/generate-demo-data.js">web/bin/generate-demo-data.js</a> also creates the database and is not optional. If you want to start with an empty database instead of the demo one, you can run instead <a href="_raw/web/bin/sync-db.js">web/bin/sync-db.js</a>:<div class="code" id="_4283"><div><pre><code>./bin/sync-db</code></pre></div></div></li></ul></div>We also provide a shortcut for that setup as:<div class="code" id="_4284"><div><pre><code>npm run web-setup
./bin/generate-demo-data.js --users 2 --articles-per-user 10</code></pre></div></div></div><div class="p" id="_4285">After this initial setup, run the development server:<div class="code" id="_4286"><div><pre><code>npm run dev</code></pre></div></div></div><div class="p" id="_4287">And the website is now running at <a href="http://localhost:3000">localhost:3000</a>. If you created the <a href="#demo-data">demo data</a>, you can login with:<div class="list"><ul id="_4288"><li id="_4289">email: <code>user0@mail.com</code>, <code>user1@mail.com</code>, etc.</li><li id="_4290"><div class="p" id="_4291">password: <code>asdf</code></div><div class="p" id="_4292">Custom demo user passwords can be set by exporting the <code>OURBIGBOOK_DEMO_USER_PASSWORD</code> variable, e.g.:<div class="code" id="_4293"><div><pre><code>OURBIGBOOK_DEMO_USER_PASSWORD=qwer ./bin/generate-demo-data.js -u 2 -a 10</code></pre></div></div>this is useful for production.</div></li></ul></div></div><div class="p" id="_4294">To run on a different port use:<div class="code" id="_4295"><div><pre><code>PORT=3001 npm run dev</code></pre></div></div></div><div class="p" id="_4296">We also offer shortcuts on toplevel for the <code>npm install</code> and <code>npm run dev</code> commands so you can skip the <code>cd web</code> for those:<div class="code" id="_4297"><div><pre><code>npm install
npm run dev</code></pre></div></div></div><div class="p" id="_4298">Whenever you save any changes to the backend server, we listen to this and automatically restart the server, so after a few seconds or less, you can refresh the web page to obtain the backend update.</div><div class="p" id="_4299">For frontend, changes are automatically recompiled by the webpack development server, so you can basically just refresh pages and they will be updated straightaway.</div><div class="h" id="generated-data"><div class="notnav"><h4><a href="generated-data">Generated data</a></h4><span class="hover-meta"> <a class="split" href="generated-data"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/generated-data" class="toc"></a></div></nav></div><div class="h" id="wikipedia-bot"><div class="notnav"><h5><a href="wikipedia-bot">Wikipedia bot <span class="meta">(wikibot)</span></a></h5><span class="hover-meta"> <a class="split" href="wikipedia-bot"></a><span class="metrics"><span class="wcntr"> Words: 726</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#generated-data" class="u"> Generated data</a><a href="#_toc/wikipedia-bot" class="toc"></a></div></nav></div><div class="list"><ul id="_4301"><li id="_4302"><a href="#ourbigbook-com">OurBigBook.com</a> user: <a href="https://ourbigbook.com/wikibot">ourbigbook.com/wikibot</a></li><li id="_4303"><a href="#p-publish">Static website</a> render: <a href="https://wikibot.ourbigbook.com">wikibot.ourbigbook.com</a></li><li id="_4304"><a href="#p-publish">Static website</a> source code: <a href="https://github.com/ourbigbook/wikibot">github.com/ourbigbook/wikibot</a></li></ul></div><div class="p" id="_4305">This bot imports the Wikipedia article category tree into OurBigBook. Only titles are currently imported, not the actual article content.</div><div class="p" id="_4306">This is just an exploratory step to future exports or generative AI.</div><div class="p" id="_4307">We don't have an amazing automation setup as we should, but the steps are:<div class="list"><ul id="_4308"><li id="_4309">obtain <code>enwiki.sqlite</code> containing the tables <code>page</code> and <code>categorylinks</code> <a href="https://stackoverflow.com/questions/17432254/wikipedia-category-hierarchy-from-dumps/77313490#77313490">stackoverflow.com/questions/17432254/wikipedia-category-hierarchy-from-dumps/77313490#77313490</a></li><li id="_4310">Run <a href="https://cirosantilli.com/_raw/wikipedia/sqlite_preorder.py">cirosantilli.com/_raw/wikipedia/sqlite_preorder.py</a>, potentially differently parametrized, as:<div class="code" id="_4311"><div><pre><code>rm -rf out
./sqlite_preorder.py -D3 -d6 -Obigb -m -N enwiki.sqlite Mathematics Physics Chemistry Biology Technology
cd out
ls . | grep -E '\.bigb$' | xargs sed -i -r '${/^$/d}'
echo '{}' &gt; ourbigbook.json
echo '*.tmp' &gt; .gitignore
ourbigbook .</code></pre></div></div>To publish as a <a href="#p-publish">Static website</a> we do:<div class="code" id="_4312"><div><pre><code>  git init
  git add .
  export GIT_COMMITTER_EMAIL='bot@mail.com';
  export GIT_COMMITTER_NAME='Mr. Bot';
  export GIT_COMMITTER_DATE="2000-01-01T00:00:00+0000";
  export GIT_AUTHOR_EMAIL="$GIT_COMMITTER_EMAIL";
  export GIT_AUTHOR_NAME="$GIT_COMMITTER_NAME";
  export GIT_AUTHOR_DATE="$GIT_COMMITTER_DATE";
  git config --add user.email "$GIT_COMMITTER_EMAIL"
  git config --add user.name "$GIT_COMMITTER_NAME"
  git commit --author "${GIT_COMMITTER_NAME} &lt;${GIT_COMMITTER_EMAIL}&gt;" -m 'Autogenerated commit'
)</code></pre></div></div>and for <a href="#ourbigbook-web">OurBigBook Web</a> it is important not to use the <a href="#no-web-nested-set-bulk"><code>--no-web-nested-set-bulk</code></a> option to speed thing up:<div class="code" id="_4313"><div><pre><code>ourbigbook --web</code></pre></div></div>The current limiting factor on the number of articles per user is memory of the <a href="#nested-set">nested set</a> generation. We've managed to review this and reduce it with attribute selection, but we have not yet been able to indefinitely scale it, e.g. we would not be able to handle 1M articles per user. The root problems are:<div class="list"><ul id="_4314"><li id="_4315">lack of depth first in SQLite due to lack of arrays, as opposed to PostgreSQL: <a href="https://stackoverflow.com/questions/65247873/preorder-tree-traversal-using-recursive-ctes-in-sql/77276675#77276675">stackoverflow.com/questions/65247873/preorder-tree-traversal-using-recursive-ctes-in-sql/77276675#77276675</a></li><li id="_4316">lack of proper streaming in Sequelize: <a href="https://stackoverflow.com/questions/28787889/how-can-i-set-up-sequelize-js-to-stream-data-instead-of-a-promise-callback">stackoverflow.com/questions/28787889/how-can-i-set-up-sequelize-js-to-stream-data-instead-of-a-promise-callback</a></li></ul></div></li></ul></div></div><div class="p" id="_4317">Now let's look at the shape of the data. Total pages:<div class="code" id="_4318"><div><pre><code>sqlite3 enwiki.sqlite 'select count(*) from page'</code></pre></div></div>gives ~59M.</div><div class="p" id="_4319">Total articles:<div class="code" id="_4320"><div><pre><code>sqlite3 enwiki.sqlite 'select count(*) from page where page_namespace = 0'</code></pre></div></div>gives ~17M.</div><div class="p" id="_4321">Total non-redirect articles:<div class="code" id="_4322"><div><pre><code>sqlite3 enwiki.sqlite 'select count(*) from page where page_namespace = 0 page_is_redirect = 0'</code></pre></div></div>gives: ~6.7M</div><div class="p" id="_4323">Categories:<div class="code" id="_4324"><div><pre><code>sqlite3 enwiki.sqlite 'select count(*) from page where page_namespace = 14'</code></pre></div></div>gives: ~2.3M.</div><div class="p" id="_4325">Allowing for depth 6 of all of STEM:<div class="code" id="_4326"><div><pre><code>./sqlite_preorder.py -D3 -d6 -Obigb -m -N enwiki.sqlite Mathematics Physics Chemistry Biology Technology</code></pre></div></div>leads to ~980k articles.</div><div class="p" id="_4327">Depth 6 on Mathematics only:<div class="code" id="_4328"><div><pre><code>./sqlite_preorder.py -D3 -d6 -Obigb -m -N enwiki.sqlite Mathematics</code></pre></div></div>leads to 150k articles. Some useless hogs and how they were reached:<div class="list"><ul id="_4329"><li id="_4330">Actuarial science via Applied Mathematis: 4k</li><li id="_4331">Molecular biology via Applied geometry: 4k</li><li id="_4332">Ship identification numbers via Numbers: 5k</li><li id="_4333">Galaxies via Dynamical systems: 7k</li><li id="_4334">Video game gameplay via Game design via Game theory: 17k</li></ul></div></div><div class="p" id="_4335">Depth 6 on Mathematics + Physics:<div class="code" id="_4336"><div><pre><code>./sqlite_preorder.py -D3 -d5 -Obigb -m -N enwiki.sqlite Mathematics Physics</code></pre></div></div>leads to 104k articles.</div><div class="p" id="_4337">Allowing for unlimited depth on Mathematics:<div class="code" id="_4338"><div><pre><code>./sqlite_preorder.py -D3 -Obigb -m -N enwiki.sqlite Mathematics</code></pre></div></div>leads seems to reach all ~9M articles + categories , or most of them. We gave up around 8.6M, when things got really really slow, possibly due to heavy duplicate removal. We didn't log it properly, but depths of 3k+ were seen... so not setting depth is just pointless unless you want the entire Wiki.</div><div class="h" id="wikibot-llm-body-population"><div class="notnav"><h6><a href="wikibot-llm-body-population">Wikibot LLM body population</a></h6><span class="hover-meta"> <a class="split" href="wikibot-llm-body-population"></a><span class="metrics"><span class="wcntr"> Words: 256</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#wikipedia-bot" class="u"> Wikipedia bot</a><a href="#_toc/wikibot-llm-body-population" class="toc"></a></div></nav></div><div class="p" id="_4339">Mostly for fun we've populated the body of wikibot-generated sections on <a href="#ourbigbook-com">OurBigBook.com</a> with some LLM-generated content.</div><div class="p" id="_4340">At first we considered using Ollama with something like llama3.2, but because each prompt took 5 seconds on a laptop it would take about 5 days to do all 100k articles and so we decided to try existing API providers.</div><div class="p" id="_4341">We finally ended up going with the cheapest model that seemed easy to use and chose OpenAI gpt-4o-mini. We managed to complete the generation for 100 output tokens per section with only 3 dollars. To help reduce costs we also:<div class="list"><ul id="_4342"><li id="_4343">used batch jobs, which can take up to 24 hours to complete and sometimes just fail after 24 hours</li><li id="_4344">enabled data collection to get some extra credits.</li></ul></div></div><div class="p" id="_4345">We just took the Wikipedia titles and prompted directly:<div class="code" id="_4346"><div><pre><code>What is TITLE?</code></pre></div></div></div><div class="p" id="_4347">It is a bit of shame that many of the replies end in crap like "Let me know if you need more help on this subject"-type output. We could have prevented those with a role=system prompt, but there seems to be no way to factor out a single system prompt for multiple queries, so the input token could would have increased.</div><div class="p" id="_4348">Our pipeline is as follows. First clone the wikibot repo:<div class="code" id="_4349"><div><pre><code>cd ..
git clone https://github.com/ourbigbook/wikibot
cd -</code></pre></div></div></div><div class="p" id="_4350">Then:<div class="code" id="_4351"><div><pre><code>export OPENAI_API_KEY=...
./wikibot-static-llm-submit

# Wait 24 hours and pray.
# Check completion with:
./wikibot-static-llm-list-batches

./wikibot-static-jsonl-to-sqlite
./wikibot-static-add-body</code></pre></div></div>The generated repository with bodies added should now be present under:<div class="code" id="_4352"><div><pre><code>_out/wikibot-llm/repo/</code></pre></div></div></div><div class="p" id="_4353">The key intermediate file <code>oai_out.jsonl.zip</code> which contains the prompt outputs has been backed up to: <a href="https://github.com/ourbigbook/ourbigbook-media/blob/master/oai_out.jsonl.zip">github.com/ourbigbook/ourbigbook-media/blob/master/oai_out.jsonl.zip</a></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#llm-generated-wikibot-abstracts">LLM-generated wikibot abstracts</a></li></ul></div></div><div class="h" id="demo-data"><div class="notnav"><h5><a href="demo-data">Demo data</a></h5><span class="hover-meta"> <a class="split" href="demo-data"></a><span class="metrics"><span class="wcntr"> Words: 343</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#generated-data" class="u"> Generated data</a><a href="#_toc/demo-data" class="toc"></a></div></nav></div><div class="p" id="_4354">You can generate demo data for <a href="#ourbigbook-web">OurBigBook Web</a> with <a href="_raw/web/bin/generate-demo-data.js">web/bin/generate-demo-data.js</a>, e.g.:<div class="code" id="_4355"><div><pre><code>cd web
./bin/generate-demo-data --users 2 --articles-per-user 10</code></pre></div></div></div><div class="p" id="_4356">Every time this is run, it tries to update existing entities such as users and articles first, and only creates them if they don't exist. This allows us to update all demo data on a live website that also has users without deleting any user data.</div><div class="p" id="_4357">Note however that if you ever increase the ammount of demo users, you might overwrite real user data. E.g. if you first do:<div class="code" id="_4358"><div><pre><code>./bin/generate-demo-data --users 2 --articles-per-user 10</code></pre></div></div>and then some time later:<div class="code" id="_4359"><div><pre><code>./bin/generate-demo-data --users 4 --articles-per-user 10</code></pre></div></div>it is possible that some real user will have taken up the username that we use for the third user, which did not exist previously, and then hacks their articles away. So never ever do that! Just stick to the default values in production.</div><div class="p" id="_4360">As a safeguard, to be able to run this in production you have to also pass the <code>--force-production</code> flag;<div class="code" id="_4361"><div><pre><code>./bin/generate-demo-data --users 2 --articles-per-user 10 --force-production</code></pre></div></div></div><div class="p" id="_4362">To first fully clear the database, including any real user data, before doing anything else, use <code>--clear</code>, e.g.:<div class="code" id="_4363"><div><pre><code>./bin/generate-demo-data --users 4 --articles-per-user 10 --clear</code></pre></div></div></div><div class="p" id="_4364">To clear the database and start with an empty database use <code>--empty</code>:<div class="code" id="_4365"><div><pre><code>./bin/generate-demo-data --empty</code></pre></div></div></div><div class="p" id="_4366">To regenerate the PostgreSQL database instead of SQLite as mentioned at <a href="#local-development-run-with-postgresql">local development run with PostgreSQL</a>:<div class="code" id="_4367"><div><pre><code>OURBIGBOOK_POSTGRES=1 ./bin/generate-demo-data.js</code></pre></div></div></div><div class="h" id="demo-data-local-file-output"><div class="notnav"><h6><a href="demo-data-local-file-output">Demo data local file output</a></h6><span class="hover-meta"> <a class="split" href="demo-data-local-file-output"></a><span class="metrics"><span class="wcntr"> Words: 120</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#demo-data" class="u"> Demo data</a><a href="#_toc/demo-data-local-file-output" class="toc"></a></div></nav></div><div class="p" id="_4368">By default, when you run <a href="_raw/web/bin/generate-demo-data.js">web/bin/generate-demo-data.js</a>, besides inserting the data into the database directly, the command also generates a in-file-system tree that contains equivalent content under:<div class="code" id="_4369"><div><pre><code>web/tmp/&lt;username&gt;/&lt;id&gt;.bigb</code></pre></div></div></div><div class="p" id="_4370">Sample paths to some files could be:<div class="code" id="_4371"><div><pre><code>web/tmp/demo/barack-obama/ourbigbook.json
web/tmp/demo/barack-obama/test-child-1.bigb
web/tmp/demo/barack-obama/test-scope/test-scope-1.bigb</code></pre></div></div></div><div class="p" id="_4372">Because each user has its own <code>ourbigbook.json</code> file added to the directory, you can for example build each user directory in isolation with:<div class="code" id="_4373"><div><pre><code>cd web/tmp/demo/barack-obama
ourbigbook .</code></pre></div></div></div><div class="p" id="_4374">This setup can be useful for quickly testing things locally, and in particular to test <a href="#web"><code>-W</code>, <code>--web</code></a> upload to a local test server.</div><div class="p" id="_4375">These files have nothing to do with <a href="#ourbigbook-web">OurBigBook Web</a> specifically, and would be used from <a href="#ourbigbook-cli">OurBigBook CLI</a> itself. It would be nice to bring them up to <a href="#ourbigbook-cli">OurBigBook CLI</a> at some point, and only expose the Web-specific database functions from Web.</div><div class="h" id="log-database-queries"><div class="notnav"><h4><a href="log-database-queries">Log database queries</a></h4><span class="hover-meta"> <a class="split" href="log-database-queries"></a><span class="metrics"><span class="wcntr"> Words: 409</span><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/log-database-queries" class="toc"></a></div></nav></div><div class="h" id="log-all-database-queries"><div class="notnav"><h5><a href="log-all-database-queries">Log all database queries</a></h5><span class="hover-meta"> <a class="split" href="log-all-database-queries"></a><span class="metrics"><span class="wcntr"> Words: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log-database-queries" class="u"> Log database queries</a><a href="#_toc/log-all-database-queries" class="toc"></a></div></nav></div><div class="p" id="_4376">There are a few methods available.</div><div class="h" id="debug-sql"><div class="notnav"><h5><a href="debug-sql">DEBUG sql</a></h5><span class="hover-meta"> <a class="split" href="debug-sql"></a><span class="metrics"><span class="wcntr"> Words: 149</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log-database-queries" class="u"> Log database queries</a><a href="#_toc/debug-sql" class="toc"></a></div></nav></div><div class="p" id="_4377">One option is to use the standard Express.js logging mechanism:<div class="code" id="_4378"><div><pre><code>DEBUG='sequelize:sql:*' npm run dev</code></pre></div></div>Shortcut:<div class="code" id="_4379"><div><pre><code>npm run devs</code></pre></div></div></div><div class="p" id="_4380">These logs also include some kind of timing information. However, we are not entirely sure that the timings mean, as they show for both <code>Executing</code> (query is about to start) and <code>Executed</code> (query finished) lines with possibly different values e.g.:<div class="code" id="_4381"><div><pre><code>sequelize:sql:pg Executing (default): SELECT 1+1 AS result +0ms
sequelize:sql:pg Executed (default): SELECT 1+1 AS result +1ms</code></pre></div></div>The meaning of <code>+0ms</code> and <code>+1ms</code> appears to be the timing since last the last message with the same ID, i.e. <code>sequelize:sql:pg</code> in this case. Therefore, so long as there wasn't any <code>sequelize:sql:pg</code> between and the corresponding <code>Executing</code>, the <code>Executing</code> timing should give us the query time.</div><div class="p" id="_4382">This is a bit messy however, as we often want to find the largest numbers for profiling, and there could be a large time delta during inactivity.</div><div class="h" id="ourbigbook-log-db"><div class="notnav"><h5><a href="ourbigbook-log-db"><code>OURBIGBOOK_LOG_DB</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-log-db"></a><span class="metrics"><span class="wcntr"> Words: 129</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log-database-queries" class="u"> Log database queries</a><a href="#_toc/ourbigbook-log-db" class="toc"></a><span class="tags"> Tags: <a href="#ourbigbook-web-environment-variable">OurBigBook Web environment variable</a></span></div></nav></div><div class="p" id="_4384">This tends to be a better good way for benchmarking than <a href="#debug-sql">DEBUG sql</a>:<div class="code" id="_4385"><div><pre><code>OURBIGBOOK_LOG_DB=1 npm run dev</code></pre></div></div>which sets in the Sequelize constructor:<div class="code" id="_4386"><div><pre><code>rew Sequelize({ logging: console.log })</code></pre></div></div>and produces many outputs of type:<div class="code" id="_4387"><div><pre><code>Executed (default): SELECT 1+1 AS result Elapsed time: 0ms</code></pre></div></div>so we get explicit elapsed time measurements rather than deltas, and without the corresponding <code>Executing</code> marker.</div><div class="p" id="_4388">Furthermore, because we try to code the server correctly by making multiple <code>async</code> requests simultaneously wherever possible, the slowest of those requests finishes, last, and is the last "Elapsed time" to get logged! So you generally just have to look at the last logged line if there's one slow bottleneck query, rather than going over all the previous "Elapsed time" entries.</div><div class="p" id="_4389">This method uses Sequelize's <code>benchamrk: true</code> option as per: <a href="https://stackoverflow.com/questions/52260934/how-to-measure-query-execution-time-in-seqilize">stackoverflow.com/questions/52260934/how-to-measure-query-execution-time-in-seqilize</a>.</div><div class="h" id="postgresql-log"><div class="notnav"><h5><a href="postgresql-log">PostgreSQL log</a></h5><span class="hover-meta"> <a class="split" href="postgresql-log"></a><span class="metrics"><span class="wcntr"> Words: 50</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log-database-queries" class="u"> Log database queries</a><a href="#_toc/postgresql-log" class="toc"></a></div></nav></div><div class="p" id="_4390">It might be wise to enable PostgreSQL query logging by default with: <code>log_statement</code> for development. TODO does it noticeably affect performance?</div><div class="p" id="_4391">See: <a href="https://stackoverflow.com/questions/722221/how-to-log-postgresql-queries">stackoverflow.com/questions/722221/how-to-log-postgresql-queries</a></div><div class="p" id="_4392">One major advantage of this method is that Sequelize's error logging is a bit crap, and sometimes the error appears much much more clearly in the PostgreSQL logs.</div><div class="h" id="log-specific-database-queries"><div class="notnav"><h5><a href="log-specific-database-queries">Log specific database queries</a></h5><span class="hover-meta"> <a class="split" href="log-specific-database-queries"></a><span class="metrics"><span class="wcntr"> Words: 50</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log-database-queries" class="u"> Log database queries</a><a href="#_toc/log-specific-database-queries" class="toc"></a></div></nav></div><div class="p" id="_4393">However, you often want to long only a few selected queries, otherwise it becomes very difficult to determine which query is which, in particular due asynchronous execution. In this case, use the technique mentioned at: <a href="https://stackoverflow.com/questions/21427501/how-can-i-see-the-sql-generated-by-sequelize-js/21431627#21431627">stackoverflow.com/questions/21427501/how-can-i-see-the-sql-generated-by-sequelize-js/21431627#21431627</a> and just add:<div class="code" id="_4394"><div><pre><code>logging: console.log,</code></pre></div></div>to the code in the query you want to log.</div><div class="h" id="pretty-print-sql-queries"><div class="notnav"><h5><a href="pretty-print-sql-queries">Pretty print SQL queries</a></h5><span class="hover-meta"> <a class="split" href="pretty-print-sql-queries"></a><span class="metrics"><span class="wcntr"> Words: 25</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#log-database-queries" class="u"> Log database queries</a><a href="#_toc/pretty-print-sql-queries" class="toc"></a></div></nav></div><div class="p" id="_4395">Maybe we should do a better integration: <a href="https://stackoverflow.com/questions/70948142/how-to-indent-logged-queries-in-sequelize">stackoverflow.com/questions/70948142/how-to-indent-logged-queries-in-sequelize</a> this is something that we do a lot:<div class="code" id="_4396"><div><pre><code>npm install -g sql-formatter
xsel -b | sql-formatter -l postgresql</code></pre></div></div></div><div class="h" id="local-optimized-frontend"><div class="notnav"><h4><a href="local-optimized-frontend">Local optimized frontend</a></h4><span class="hover-meta"> <a class="split" href="local-optimized-frontend"></a><span class="metrics"><span class="wcntr"> Words: 210</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/local-optimized-frontend" class="toc"></a></div></nav></div><div class="p" id="_4397">First run the first time setup from <a href="#local-development-server">local development server</a>.</div><div class="p" id="_4398">Then, when running for the first time, or whenever frontend changes are made, you need to create optimized frontend assets with:<div class="code" id="_4399"><div><pre><code>npm run build-dev</code></pre></div></div>before you finally start the server each time with:<div class="code" id="_4400"><div><pre><code>npm start</code></pre></div></div></div><div class="p" id="_4401">This setup runs the Next.js server in production mode locally. Running this setup locally might help debug some front-end deployment issues.</div><div class="p" id="_4402">Building like this notably runs full typescript type checking, which is a good way to find bugs early.</div><div class="p" id="_4403">But otherwise you will just normally use the <a href="#local-run-as-identical-to-deployment-as-possible">local run as identical to deployment as possible</a> setup instead for development, as that makes iterations quicker are you don't have to re-run the slow <code>npm run build-dev</code> command after every frontend change.</div><div class="p" id="_4404"><code>build-dev</code> is needed instead of <code>build</code> because it uses <code>NODE_ENV_OVERRIDE</code> which is needed because Next.js forces <code>NODE_ENV=production</code> and wontfixed changing it: <a href="https://github.com/vercel/next.js/issues/4022#issuecomment-374010365">github.com/vercel/next.js/issues/4022#issuecomment-374010365</a>, and that would lead to the PostgreSQL database being used, instead of the SQLite one we want.</div><div class="p" id="_4405"><code>build</code> runs <code>npm run build-assets</code> on toplevel which repacks ourbigbook itself and is a bit slow. To speed things up during the development loop, you can also use:<div class="code" id="_4406"><div><pre><code>npm run build-dev-nodeps</code></pre></div></div>instead, which builds only the stuff under <code>web/</code>.</div><div class="p" id="_4407">TypeScript type checking an also be run in isolation as mentioned at <a href="#ourbigbook-web-typescript-type-checking">Section "OurBigBook Web TypeScript type checking"</a> with:<div class="code" id="_4408"><div><pre><code>npm run tsc</code></pre></div></div></div><div class="h" id="ourbigbook-web-postgresql"><div class="notnav"><h4><a href="ourbigbook-web-postgresql">OurBigBook Web PostgreSQL</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-postgresql"></a><span class="metrics"><span class="wcntr"> Words: 478</span><span class="dcnt"> Articles: 9</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-postgresql" class="toc"></a></div></nav></div><div class="p" id="_4409">PostgreSQL is the database that we use on production, and sometimes is is necessary to test stuff with it locally.</div><div class="p" id="_4410">There are two main types of run with PostgreSQL:<div class="list"><ul id="_4411"><li id="_4412"><a href="#local-run-as-identical-to-deployment-as-possible">Local run as identical to deployment as possible</a>: uses PostgreSQL, but also sets as much as possible to match production, including Next.js rendering stuff</li><li id="_4413"><a href="#local-development-run-with-postgresql">Local development run with PostgreSQL</a>: uses PostgreSQL database, but keeps everything else in development mode</li></ul></div></div><div class="p" id="_4414">To interactively inspect the local development database use our helper at <a href="_raw/web/bin/psql">web/bin/psql</a>:<div class="code" id="_4415"><div><pre><code>web/bin/psql</code></pre></div></div>Commands can be run as usual:<div class="code" id="_4416"><div><pre><code>web/bin/psql -c 'SELECT * FROM "Article";'</code></pre></div></div>It uses <code>PGPASSWORD</code> is mentioned at: <a href="https://stackoverflow.com/questions/6405127/how-do-i-specify-a-password-to-psql-non-interactively">stackoverflow.com/questions/6405127/how-do-i-specify-a-password-to-psql-non-interactively</a></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#web-searches-find-words-inside-title-on-postgresql">Web searches find words inside title on PostgreSQL</a></li></ul></div></div><div class="h" id="ourbigbook-web-postgresql-setup"><div class="notnav"><h5><a href="ourbigbook-web-postgresql-setup">OurBigBook Web PostgreSQL setup</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-postgresql-setup"></a><span class="metrics"><span class="wcntr"> Words: 32</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><a href="#_toc/ourbigbook-web-postgresql-setup" class="toc"></a></div></nav></div><div class="p" id="_4417">Before running <a href="#ourbigbook-web">OurBigBook Web</a>, the PostgreSQL database should be setup with <a href="_raw/web/bin/pg-setup">web/bin/pg-setup</a>:<div class="code" id="_4418"><div><pre><code>web/bin/pg-setup</code></pre></div></div>This command:<div class="list"><ul id="_4419"><li id="_4420">drops the existing database if any, i.e. nukes all data</li><li id="_4421">creates a test user</li><li id="_4422">re-creates the test database</li></ul></div></div><div class="h" id="local-run-as-identical-to-deployment-as-possible"><div class="notnav"><h5><a href="local-run-as-identical-to-deployment-as-possible">Local run as identical to deployment as possible</a></h5><span class="hover-meta"> <a class="split" href="local-run-as-identical-to-deployment-as-possible"></a><span class="metrics"><span class="wcntr"> Words: 99</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><a href="#_toc/local-run-as-identical-to-deployment-as-possible" class="toc"></a></div></nav></div><div class="p" id="_4423">Here we use PostgreSQL instead of SQLite with the prebuilt static frontend.</div><div class="p" id="_4424">For when you really need to debug some deployment stuff locally.</div><div class="p" id="_4425">Before the first run, do the <a href="#ourbigbook-web-postgresql-setup">OurBigBook Web PostgreSQL setup</a>.</div><div class="p" id="_4426">Then, after every modification<div class="code" id="_4427"><div><pre><code>npm run build-prod
npm run start-prod</code></pre></div></div>and then visit the running website at: <a href="http://localhost:3000/">localhost:3000/</a></div><div class="p" id="_4428">To optionally nuke the database and create the demo data:<div class="code" id="_4429"><div><pre><code>npm run seed-prod</code></pre></div></div>or alternatively to start from a clean database:<div class="code" id="_4430"><div><pre><code>psql -c "DROP DATABASE ourbigbook"
createdb ourbigbook
psql -c 'GRANT ALL PRIVILEGES ON DATABASE ourbigbook TO ourbigbook_user'</code></pre></div></div></div><div class="p" id="_4431">You can inspect the database interactively with:<div class="code" id="_4432"><div><pre><code>psql ourbigbook</code></pre></div></div>and then running SQL commands.</div><div class="h" id="local-development-run-with-postgresql"><div class="notnav"><h5><a href="local-development-run-with-postgresql">Local development run with PostgreSQL</a></h5><span class="hover-meta"> <a class="split" href="local-development-run-with-postgresql"></a><span class="metrics"><span class="wcntr"> Words: 70</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><a href="#_toc/local-development-run-with-postgresql" class="toc"></a></div></nav></div><div class="p" id="_4433">If you have determined that a bug is PostgreSQL specific, and it is easier to debug it interactively, first create the database as mentioned at <a href="#local-run-as-identical-to-deployment-as-possible">local run as identical to deployment as possible</a> and then:<div class="code" id="_4434"><div><pre><code>OURBIGBOOK_POSTGRES=1 ./bin/generate-demo-data.js
OURBIGBOOK_POSTGRES=1 npm run dev</code></pre></div></div>or shortcut for the run:<div class="code" id="_4435"><div><pre><code>npm run dev-pg</code></pre></div></div></div><div class="p" id="_4436">Note that doing <code>sync-db</code> also requires <code>NODE_ENV=production</code> as in:<div class="code" id="_4437"><div><pre><code>NODE_ENV=production OURBIGBOOK_POSTGRES=1 bin/sync-db.js</code></pre></div></div>because we have to shell out to the ugly <a href="#ourbigbook-web-database-migration-setup">migration</a> CLI, and that only understands <code>NODE_ENV</code>.</div><div class="h" id="use-a-secondary-postgresql-database-locally"><div class="notnav"><h5><a href="use-a-secondary-postgresql-database-locally">Use a secondary PostgresQL database locally</a></h5><span class="hover-meta"> <a class="split" href="use-a-secondary-postgresql-database-locally"></a><span class="metrics"><span class="wcntr"> Words: 48</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><a href="#_toc/use-a-secondary-postgresql-database-locally" class="toc"></a></div></nav></div><div class="p" id="_4438">Setup the database:<div class="code" id="_4439"><div><pre><code>web/bin/pg-setup ourbigbook2
OURBIGBOOK_DB_NAME=ourbigbook2 web/bin/pg web/bin/generate-demo-data.js</code></pre></div></div></div><div class="p" id="_4440">Run the server:<div class="code" id="_4441"><div><pre><code>OURBIGBOOK_DB_NAME=ourbigbook2 npm run dev-pg</code></pre></div></div></div><div class="p" id="_4442">Or commonly to run on a different port so that two instances may be accessed separately:<div class="code" id="_4443"><div><pre><code>PORT=3001 OURBIGBOOK_DB_NAME=ourbigbook2 npm run dev-pg</code></pre></div></div></div><div class="p" id="_4444">To restore a dump to the secondary database:<div class="code" id="_4445"><div><pre><code>web/bin/pg_restore -d ourbigbook2 latest.dump</code></pre></div></div></div><div class="h" id="ourbigbook-web-postgresql-utils"><div class="notnav"><h5><a href="ourbigbook-web-postgresql-utils">OurBigBook Web PostgreSQL utils</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-postgresql-utils"></a><span class="metrics"><span class="wcntr"> Words: 141</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql" class="u"> OurBigBook Web PostgreSQL</a><a href="#_toc/ourbigbook-web-postgresql-utils" class="toc"></a></div></nav></div><div class="h" id="_file/web/bin/pg-kill-queries"><div class="notnav"><span class="file" title="This article is about a file." /><h6><a href="_file/web/bin/pg-kill-queries">web/bin/pg-kill-queries</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/pg-kill-queries"></a><span class="metrics"><span class="wcntr"> Words: 25</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><a href="#_toc/_file/web/bin/pg-kill-queries" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/pg-kill-queries">pg-kill-queries</a></b></div></nav></div><div class="p" id="_4446">Kill all queries that are a currently running on PostgreSQL database.</div><div class="p" id="_4447">Useful in the sad cases that our recursive queries go infinite due to bugs.</div><div class="p"><b>web/bin/pg-kill-queries</b></div><div class="code"><div><pre><code>#!/usr/bin/env bash
script_dir="$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &amp;&gt; /dev/null &amp;&amp; pwd )"
# https://www.sqlprostudio.com/blog/8-killing-cancelling-a-long-running-postgres-query
"$script_dir/psql" -c "SELECT pg_cancel_backend(pid) FROM pg_stat_activity WHERE state = 'active' and pid &lt;&gt; pg_backend_pid();" "$@"
</code></pre></div></div><div class="h" id="save-and-restore-local-postgresql-development-database"><div class="notnav"><h6><a href="save-and-restore-local-postgresql-development-database">Save and restore local PostgreSQL development database</a></h6><span class="hover-meta"> <a class="split" href="save-and-restore-local-postgresql-development-database"></a><span class="metrics"><span class="wcntr"> Words: 21</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><a href="#_toc/save-and-restore-local-postgresql-development-database" class="toc"></a></div></nav></div><div class="p" id="_4448">Save the psql database state as per <a href="https://stackoverflow.com/questions/37984733/postgresql-database-export-to-sql-file">stackoverflow.com/questions/37984733/postgresql-database-export-to-sql-file</a> with our <a href="_raw/web/bin/pg_dump">web/bin/pg_dump</a> helper:<div class="code" id="_4449"><div><pre><code>web/bin/pg_dump tmp.dump</code></pre></div></div>Then to restore it later with <a href="_raw/web/bin/pg_restore">web/bin/pg_restore</a>:<div class="code" id="_4450"><div><pre><code>web/bin/pg_restore tmp.dump</code></pre></div></div><a href="https://stackoverflow.com/questions/2732474/restore-a-postgres-backup-file-using-the-command-line">stackoverflow.com/questions/2732474/restore-a-postgres-backup-file-using-the-command-line</a></div><div class="h" id="_file/web/bin/psql"><div class="notnav"><span class="file" title="This article is about a file." /><h6><a href="_file/web/bin/psql">web/bin/psql</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/psql"></a><span class="metrics"><span class="wcntr"> Words: 70</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><a href="#_toc/_file/web/bin/psql" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/psql">psql</a></b></div></nav></div><div class="p" id="_4451">Helper that gives  <code>psql</code> PostgreSQL shell on the default database (<code>ourbigbook</code>).</div><div class="p" id="_4452">To select another database use the <code>-d</code> option: E.g. to use the <code>ourbigbook_test</code> database from <a href="#ourbigbook-web-run-unit-tests-in-postgresql">OurBigBook Web run unit tests in PostgreSQL</a>:<div class="code" id="_4453"><div><pre><code>bin/psql -d ourbigbook_test</code></pre></div></div></div><div class="p" id="_4454"><code>psql</code> just forwards everything to the underlying <code>psql</code> command, so you can e.g. run a SQL script stored in a file with:<div class="code" id="_4455"><div><pre><code>bin/psql &lt;tmp.sql</code></pre></div></div>or run an SQL query from CLI with:<div class="code" id="_4456"><div><pre><code>bin/psql -c 'select * from "Id"'</code></pre></div></div></div><div class="p"><b>web/bin/psql</b></div><div class="code"><div><pre><code>#!/usr/bin/env bash
db=ourbigbook
args=()
while [ $# -gt 0 ]; do
  case "$1" in
    -d)
      db="$2"
      shift 2
      ;;
    *)
      args+=("$1")
      shift
      ;;
  esac
done
PGPASSWORD=a psql -U ourbigbook_user -h localhost "$db" "${args[@]}"
</code></pre></div></div><div class="h" id="_file/web/bin/pg-ls-queries"><div class="notnav"><span class="file" title="This article is about a file." /><h6><a href="_file/web/bin/pg-ls-queries">web/bin/pg-ls-queries</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/pg-ls-queries"></a><span class="metrics"><span class="wcntr"> Words: 25</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-postgresql-utils" class="u"> OurBigBook Web PostgreSQL utils</a><a href="#_toc/_file/web/bin/pg-ls-queries" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/pg-ls-queries">pg-ls-queries</a></b></div></nav></div><div class="p" id="_4457">List all queries that are a currently running on PostgreSQL database.</div><div class="p" id="_4458">Useful in the sad cases that our recursive queries go infinite due to bugs.</div><div class="p"><b>web/bin/pg-ls-queries</b></div><div class="code"><div><pre><code>#!/usr/bin/env bash
script_dir="$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &amp;&gt; /dev/null &amp;&amp; pwd )"
# https://stackoverflow.com/questions/12641676/how-to-get-a-status-of-a-running-query-in-postgresql-database/44211767#44211767
"$script_dir/psql" -c "SELECT datname, pid, state, query, age(clock_timestamp(), query_start) AS age 
FROM pg_stat_activity
WHERE state &lt;&gt; 'idle' AND state &lt;&gt; 'idle in transaction'
  AND query NOT LIKE '% FROM pg_stat_activity %'
ORDER BY age" "$@"
</code></pre></div></div><div class="h" id="ourbigbook-web-without-next-js"><div class="notnav"><h4><a href="ourbigbook-web-without-next-js">OurBigBook Web without Next.js</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-without-next-js"></a><span class="metrics"><span class="wcntr"> Words: 24</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-without-next-js" class="toc"></a></div></nav></div><div class="p" id="_4459">When developing the backend only, Next.js adds several seconds to the debug loop. This is a life saver in that case:<div class="code" id="_4460"><div><pre><code>npm run dev-pg-back</code></pre></div></div></div><div class="h" id="ourbigbook-web-step-debug"><div class="notnav"><h4><a href="ourbigbook-web-step-debug">OurBigBook Web step debug</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-step-debug"></a><span class="metrics"><span class="wcntr"> Words: 45</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-step-debug" class="toc"></a></div></nav></div><div class="p" id="_4461">Put a <code>debugger</code> statement where you want to break and run:<div class="code" id="_4462"><div><pre><code>npm run devi</code></pre></div></div>where <code>i</code> stands for <code>inspect</code> as in <code>node inspect</code>.</div><div class="p" id="_4463">This pauses at the start of execution. So just run <code>c</code> and normal execution resumes until the <code>debugger;</code> statement is reached.</div><div class="h" id="ourbigbook-web-unit-tests"><div class="notnav"><h4><a href="ourbigbook-web-unit-tests">OurBigBook Web unit tests</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-unit-tests"></a><span class="metrics"><span class="wcntr"> Words: 646</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-unit-tests" class="toc"></a></div></nav></div><div class="p" id="_4464">All our tests are all located inside <a href="_raw/test.js">test.js</a>.</div><div class="p" id="_4465">They can be run with:<div class="code" id="_4466"><div><pre><code>cd web
npm test</code></pre></div></div></div><div class="p" id="_4467">The dynamic website tests also uses Mocha just like <a href="#test-system">the tests for OurBigBook CLI and OurBigBook Library</a>, so similar usage patterns apply, e.g. to run just a single test:<div class="code" id="_4468"><div><pre><code>npm test -- -g 'substring of test title'</code></pre></div></div>or to show database queries being done in the tests:<div class="code" id="_4469"><div><pre><code>DEBUG='*:sql:*' npm test</code></pre></div></div></div><div class="p" id="_4470">The tests include two broad classes of tests:<div class="list"><ul id="_4471"><li id="_4472">API tests: launch the server on a random port, and run API commands, thus testing the entire backend</li><li id="_4473">smaller unit tests that only call certain functions directly</li><li id="_4474">TODO: create frontend tests: <a href="https://github.com/cirosantilli/node-express-sequelize-nextjs-realworld-example-app/issues/11">github.com/cirosantilli/node-express-sequelize-nextjs-realworld-example-app/issues/11</a></li></ul></div></div><div class="h" id="ourbigbook-web-run-unit-tests-in-postgresql"><div class="notnav"><h5><a href="ourbigbook-web-run-unit-tests-in-postgresql">OurBigBook Web run unit tests in PostgreSQL</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-run-unit-tests-in-postgresql"></a><span class="metrics"><span class="wcntr"> Words: 114</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-unit-tests" class="u"> OurBigBook Web unit tests</a><a href="#_toc/ourbigbook-web-run-unit-tests-in-postgresql" class="toc"></a></div></nav></div><div class="p" id="_4475">To run the tests on PostgreSQL instead of the default SQLite, first setup the test database analogously to <a href="#local-run-as-identical-to-deployment-as-possible">local run as identical to deployment as possible</a>:<div class="code" id="_4476"><div><pre><code>cd web
bin/pg-setup ourbigbook_test</code></pre></div></div>and then run with:<div class="code" id="_4477"><div><pre><code>npm run test-pg</code></pre></div></div>Run only matching tests on PostgreSQL:<div class="code" id="_4478"><div><pre><code>npm run test-pg -- -g 'substring of test title'</code></pre></div></div></div><div class="p" id="_4479">Running tests erases all data present in the database used. In order to point to a custom database use:<div class="code" id="_4480"><div><pre><code>DATABASE_URL_TEST=postgres://realworld_next_user:a@localhost:5432/realworld_next_test npm run test-pg</code></pre></div></div>We don't use <code>DATABASE_URL</code> when running tests as a safeguard to reduce the likelihood of accidentally nuking the production database.</div><div class="p" id="_4481">The test database contains the state of the latest test run at the end of the run. You can inspect it with <a href="#_file/web/bin/psql">web/bin/psql</a> with:<div class="code" id="_4482"><div><pre><code>bin/psql -d ourbigbook_test</code></pre></div></div></div><div class="h" id="ourbigbook-web-next-js-unit-tests"><div class="notnav"><h5><a href="ourbigbook-web-next-js-unit-tests">OurBigBook Web Next.js unit tests</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-next-js-unit-tests"></a><span class="metrics"><span class="wcntr"> Words: 425</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-unit-tests" class="u"> OurBigBook Web unit tests</a><a href="#_toc/ourbigbook-web-next-js-unit-tests" class="toc"></a></div></nav></div><div class="p" id="_4483">By default, we don't make any requests to Next.js, because starting up Next.js is extremelly slow for regular test usage and would drive us crazy.</div><div class="p" id="_4484">In regular OurBigBook Web usage through a browser, Next.js handles all GET requests for us, and the API only handles the other modifying methods like POST.</div><div class="p" id="_4485">However, we are trying to keep the API working equally well for GET, and as factored out with Next.js as possible, so just testing the API GET already gives reasonable coverage.</div><div class="p" id="_4486">But testing Next.js requests before deployment is a must, and is already done by default by <code>npm run deploy-prod</code> from <a href="#heroku-deployment">Heroku deployment</a>, and can be done manually with:<div class="code" id="_4487"><div><pre><code>npm run test-next</code></pre></div></div>or e.g. to run just a single test:<div class="code" id="_4488"><div><pre><code>npm run test-next -- -g 'api: create an article and see it on global feed'</code></pre></div></div>for for Postgres:<div class="code" id="_4489"><div><pre><code>npm run test-pg-next</code></pre></div></div>These tests are currently very basic, and only check page status. In the future, we can<div class="list"><ul id="_4490"><li id="_4491">add some HTML parsing to check for page contents as a reponse to GET, just as we already do in the <a href="#test-system">test system</a> of the <a href="#ourbigbook-library">OurBigBook Library</a></li><li id="_4492">go all in an use a JavaScript enabled test system like Selenium to also test login and data modification from the browser</li></ul></div></div><div class="p" id="_4493">TODO: <code>npm run test-next</code> <a href="https://github.com/ourbigbook/ourbigbook/issues/354">github.com/ourbigbook/ourbigbook/issues/354</a> is currently broken and always blows up on the second test that uses Next.js. So it works if you run one by one with <code>-g</code>, but not if you try to run all of them in one go.</div><div class="p" id="_4494">If you are not making any changes to the website itself, e.g. only to the test system, then you can skip the slow rebuild with:<div class="code" id="_4495"><div><pre><code>test-next-nobuild
test-pg-next-nobuild</code></pre></div></div>Note that annoyingly, Next.js reuses the same forlder for dev and build runs, so you have to quit your dev server for this to work, otherwise the dev server just keeps writing into the folder and messing up the production build test.</div><div class="p" id="_4496">Note that Next.js tests are just present inside other tests, e.g. <code>api: create an article and see it on global feed</code> also tests some stuff when not testing Next.js. Running <code>npm run test-next</code> simply enables the Next.js tests on top of the non Next.js ones that get run by default.</div><div class="p" id="_4497">These tests can only be run in production mode, and so our scripts automatically rebuild every time before running the tests, which makes things quite slow. This required because in development mode, Next.js is extremelly soft, and e.g. does not raise 500 instead returning a 200 page with error messages. Bad default.</div><div class="p" id="_4498">TODO:: the tests hang after running with Next.js enabled: <a href="https://github.com/ourbigbook/ourbigbook/issues/353">github.com/ourbigbook/ourbigbook/issues/353</a></div><div class="h" id="ourbigbook-web-static-analysis"><div class="notnav"><h4><a href="ourbigbook-web-static-analysis">OurBigBook Web static analysis</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-static-analysis"></a><span class="metrics"><span class="wcntr"> Words: 85</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-static-analysis" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-typescript-type-checking"><div class="notnav"><h5><a href="ourbigbook-web-typescript-type-checking">OurBigBook Web TypeScript type checking</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-typescript-type-checking"></a><span class="metrics"><span class="wcntr"> Words: 56</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-static-analysis" class="u"> OurBigBook Web static analysis</a><a href="#_toc/ourbigbook-web-typescript-type-checking" class="toc"></a></div></nav></div><div class="p" id="_4499">TypeScript type checking of <a href="#ourbigbook-web">OurBigBook Web</a> is run automatically during build, e.g. by:<div class="code" id="_4500"><div><pre><code>npm run build-dev</code></pre></div></div>as mentioned at <a href="#local-optimized-frontend">local optimized frontend</a>.</div><div class="p" id="_4501">To speed up the development loop further, you can run just the TypeScript type checking with:<div class="code" id="_4502"><div><pre><code>cd web
nmp run typecheck</code></pre></div></div>The output format is also a bit nicer that what is shown in <code>npm run build-dev</code>.</div><div class="h" id="ourbigbook-web-typescript-type-linting"><div class="notnav"><h5><a href="ourbigbook-web-typescript-type-linting">OurBigBook Web TypeScript type linting</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-typescript-type-linting"></a><span class="metrics"><span class="wcntr"> Words: 29</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-static-analysis" class="u"> OurBigBook Web static analysis</a><a href="#_toc/ourbigbook-web-typescript-type-linting" class="toc"></a></div></nav></div><div class="p" id="_4503">We use Next.js' rules, which are extremelly useful for finding React hook issues:<div class="code" id="_4504"><div><pre><code>cd web
npm run lint</code></pre></div></div></div><div class="p" id="_4505">To lint just one file run:<div class="code" id="_4506"><div><pre><code>cd web
npx eslint front/Article.tsx</code></pre></div></div></div><div class="h" id="ourbigbook-web-environment-variable"><div class="notnav"><h4><a href="ourbigbook-web-environment-variable">OurBigBook Web environment variable</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-environment-variable"></a><span class="metrics"><span class="wcntr"> Words: 23</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-environment-variable" class="toc"></a></div></nav></div><div class="list"><ul id="_4507"><li id="_4508"><code>OURBIGBOOK_IPAPI_IS_KEY</code>: <a href="#ourbigbook-vpn-blocking">OurBigBook VPN blocking</a></li></ul></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#ourbigbook-log-db"><code>OURBIGBOOK_LOG_DB</code></a></li><li><a href="#ourbigbook-log-perf"><code>OURBIGBOOK_LOG_PERF</code></a></li></ul></div></div><div class="h" id="ourbigbook-dev-ip"><div class="notnav"><h5><a href="ourbigbook-dev-ip"><code>OURBIGBOOK_DEV_IP</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-dev-ip"></a><span class="metrics"><span class="wcntr"> Words: 21</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-environment-variable" class="u"> OurBigBook Web environment variable</a><a href="#_toc/ourbigbook-dev-ip" class="toc"></a></div></nav></div><div class="p" id="_4509">Pretend that all requests come from this IP during development.</div><div class="p" id="_4510">If this is not set then <code>ip</code> is empty in development.</div><div class="h" id="ourbigbook-web-deployment"><div class="notnav"><h4><a href="ourbigbook-web-deployment">OurBigBook Web deployment</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-deployment"></a><span class="metrics"><span class="wcntr"> Words: 2k</span><span class="dcnt"> Articles: 25</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-deployment" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-database"><div class="notnav"><h5><a href="ourbigbook-web-database">OurBigBook Web database</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-database"></a><span class="metrics"><span class="wcntr"> Words: 691</span><span class="dcnt"> Articles: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><a href="#_toc/ourbigbook-web-database" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-database-normalization"><div class="notnav"><h6><a href="ourbigbook-web-database-normalization">OurBigBook Web database normalization</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-database-normalization"></a><span class="metrics"><span class="wcntr"> Words: 62</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database" class="u"> OurBigBook Web database</a><a href="#_toc/ourbigbook-web-database-normalization" class="toc"></a></div></nav></div><div class="p" id="_4511">We currently have some intentional denormalization in our database e.g.:<div class="list"><ul id="_4512"><li id="_4513">counts such as: user reputation, article issue and follower counts, issue comment and follower counts</li><li id="_4514"><a href="#nested-set">nested sets</a></li></ul></div></div><div class="p" id="_4515">These dernormalizations are not ideal, but they make things a bit easier, and some of them are almost certainly faster.</div><div class="p" id="_4516">To keep things slightly saner, the <a href="#_file/web/bin/normalize">web/bin/normalize</a> script can be used to view, check and update dernormalized data.</div><div class="h" id="nested-set"><div class="notnav"><h6><a href="nested-set">Nested set</a></h6><span class="hover-meta"> <a class="split" href="nested-set"></a><span class="metrics"><span class="wcntr"> Words: 171</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database" class="u"> OurBigBook Web database</a><a href="#_toc/nested-set" class="toc"></a></div></nav></div><div class="p" id="_4517">The "nested set index" is an index explicitly maintained by our codebase that allows quickly fetching pages for <a href="#ourbigbook-web-dynamic-article-tree">OurBigBook Web dynamic article tree</a> in <a href="https://ourbigbook.com/go/topic/pre-order-depth-first">pre-order depth first</a>, i.e. the conventional order in which  the table of contents and articlees appear in a book. See also: <a href="https://stackoverflow.com/questions/4048151/what-are-the-options-for-storing-hierarchical-data-in-a-relational-database">stackoverflow.com/questions/4048151/what-are-the-options-for-storing-hierarchical-data-in-a-relational-database</a></div><div class="p" id="_4518">This technique is also called "closure table" by some authors.</div><div class="p" id="_4519">This index is, as the name indicates, an index, i.e. it duplicates information otherwise present in the <a href="#ourbigbook-web-ref-database-table">OurBigBook Web <code>Ref</code> database table</a>, which contains an adjacency list format instead, in the hope that it would be faster to pre-order depth first traverse.</div><div class="p" id="_4520">This feature adds considerable complexity to the codebase. Also, updates can be considerably slow, as updating this index for a single article requires updating the index value for most or all other articles as well. We should bechmark it better vs recursive queries.</div><div class="p" id="_4521">This index was partly introduced as a helper rather than as a pure speed up, as it is a bit hard to do pre order tree traversal in SQLite due to the lack of arrays. In PostgreSQL we can do it well: <a href="https://stackoverflow.com/questions/65247873/preorder-tree-traversal-using-recursive-ctes-in-sql/77276675#77276675">stackoverflow.com/questions/65247873/preorder-tree-traversal-using-recursive-ctes-in-sql/77276675#77276675</a></div><div class="h" id="ourbigbook-web-database-table"><div class="notnav"><h6><a href="ourbigbook-web-database-table">OurBigBook Web database table</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-database-table"></a><span class="metrics"><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database" class="u"> OurBigBook Web database</a><a href="#_toc/ourbigbook-web-database-table" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-ref-database-table"><div class="notnav"><h6 data-level="7"><a href="ourbigbook-web-ref-database-table">OurBigBook Web <code>Ref</code> database table</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-ref-database-table"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database-table" class="u"> OurBigBook Web database table</a><a href="#_toc/ourbigbook-web-ref-database-table" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-database-migration-setup"><div class="notnav"><h6><a href="ourbigbook-web-database-migration-setup">OurBigBook Web database migration setup</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-database-migration-setup"></a><span class="metrics"><span class="wcntr"> Words: 415</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database" class="u"> OurBigBook Web database</a><a href="#_toc/ourbigbook-web-database-migration-setup" class="toc"></a></div></nav></div><div class="p" id="_4522">Any pending migrations are done automatically during deployment as part of <code>npm run build</code>, more precisely they are run from <a href="_raw/web/bin/sync-db.js">web/bin/sync-db.js</a>.</div><div class="p" id="_4523">We also have a custom setup where, if the database is not initialized, we first:<div class="list"><ul id="_4524"><li id="_4525">just creates the database from the latest model descriptions</li><li id="_4526">manually fill in the <code>SequelizeMeta</code> migration tracking table with all available migrations to tell Sequelize that all migrations have been done up to this point</li></ul></div>This is something that should be merged into Sequelize itself, or at least asked on Stack Overflow, but lazy now.</div><div class="p" id="_4527">In order to test migrations locally interactively, you can:<div class="list"><ul id="_4528"><li id="_4529">commit them on Git</li><li id="_4530"><code>git checkout HEAD~</code></li><li id="_4531">reset the database with <a href="#demo-data">demo data</a>:<div class="code" id="_4532"><div><pre><code>cd web
./bin/generate-demo-data.js --clear</code></pre></div></div></li><li id="_4533">Move back to master:<br><code>git checkout -</code></li><li id="_4534">Run the migration:<div class="code" id="_4535"><div><pre><code>./bin/sync-db.js</code></pre></div></div></li></ul></div></div><div class="h" id="test-migration"><div class="notnav"><h6 data-level="7"><a href="test-migration">test-migration</a></h6><span class="hover-meta"> <a class="split" href="test-migration"></a><span class="metrics"><span class="wcntr"> Words: 225</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database-migration-setup" class="u"> OurBigBook Web database migration setup</a><a href="#_toc/test-migration" class="toc"></a></div></nav></div><div class="p" id="_4536">Since sequelize migrations are so hard to get right, it is fundamental to test them.</div><div class="p" id="_4537">One way to do it is with our <a href="_raw/web/bin/test-migration">web/bin/test-migration</a> script:<div class="code" id="_4538"><div><pre><code>cd web
bin/test-migration -u1 -a3</code></pre></div></div>For PostgresQL:<div class="code" id="_4539"><div><pre><code>bin/pg bin/test-migration -u1 -a3</code></pre></div></div>Note that Sequelize SQLite migrations are basically worthless and often incorrectly fail due to foreign key constraints: <a href="https://stackoverflow.com/questions/62667269/sequelize-js-how-do-we-change-column-type-in-migration/70486686#70486686">stackoverflow.com/questions/62667269/sequelize-js-how-do-we-change-column-type-in-migration/70486686#70486686</a> so you might not care much about making them pass and focus only PostgreSQL.</div><div class="p" id="_4540">The <code>test-migration</code> script:<div class="list"><ul id="_4541"><li id="_4542">does a git checkout out to the previous commit</li><li id="_4543">regenerates the database</li><li id="_4544">checks out to master</li><li id="_4545">and then does the migration</li></ul></div></div><div class="p" id="_4546">The arguments of <code>test-migration</code> are fowarded to <a href="_raw/web/bin/generate-demo-data.js">web/bin/generate-demo-data.js</a> from <a href="#demo-data">demo data</a>, <code>-u1 -a5</code> would produce a small ammount of data, suitable for quick iteration tests.</div><div class="p" id="_4547">Towards the end of that script, we can see lines of type:<div class="code" id="_4548"><div><pre><code>+ diff -u tmp.old.sqlite3.sort.sql tmp.new-clean.sqlite3.sort.sql
+ diff -u tmp.new-clean.sqlite3.sort.sql tmp.new-migration.sqlite3.sort.sql</code></pre></div></div>Those are important diffs you might want to look at every time:<div class="list"><ul id="_4549"><li id="_4550"><code>tmp.old.sqlite3.sort.sql</code>: old schema before migration, but with lines sorted alphabetically</li><li id="_4551"><code>tmp.new-clean.sqlite3.sort.sql</code>: new schema achieved by dropping the database and re creating at once</li><li id="_4552"><code>tmp.new-migration.sqlite3.sort.sql</code>: new schema achieved migrating from the old state</li></ul></div>Therefore, you really want the <code>diff tmp.old.sqlite3.schema tmp.new-clean.sqlite3.schema</code> to be empty. For sqlite3 we actually check that and give an error if they differ, but for PostgreSQL it is a bit harder due to the multiline statements, so just inspect the diffs manually.</div><div class="h" id="ourbigbook-web-nuke-db-instead-of-migrating"><div class="notnav"><h6 data-level="7"><a href="ourbigbook-web-nuke-db-instead-of-migrating">OurBigBook Web nuke DB instead of migrating</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-nuke-db-instead-of-migrating"></a><span class="metrics"><span class="wcntr"> Words: 63</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database-migration-setup" class="u"> OurBigBook Web database migration setup</a><a href="#_toc/ourbigbook-web-nuke-db-instead-of-migrating" class="toc"></a></div></nav></div><div class="p" id="_4553">When quickly developing before we had any users, a reasonable way is to nuke the database everytime instead of spending time writing migrations. To do this, you can without creating a migration:<div class="code" id="_4554"><div><pre><code>npm run deploy-prod</code></pre></div></div>This breaks the website, because the DB is out of sync. So then you go and manually fix it up:<div class="code" id="_4555"><div><pre><code># heroku run -a ourbigbook web/bin/generate-demo-data.js --force-production --clear</code></pre></div></div></div><div class="h" id="ourbigbook-web-useful-queries"><div class="notnav"><h6><a href="ourbigbook-web-useful-queries">OurBigBook Web useful queries</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-useful-queries"></a><span class="metrics"><span class="wcntr"> Words: 43</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-database" class="u"> OurBigBook Web database</a><a href="#_toc/ourbigbook-web-useful-queries" class="toc"></a></div></nav></div><div class="p" id="_4556">Some hacks for those that have DB access.</div><div class="p" id="_4557">Change dates of all articles by a given user to a specific date:<div class="code" id="_4558"><div><pre><code>select "Article"."updatedAt" from "Article" inner join "File" on "Article"."fileId" = "File".id inner join "User" on "File"."authorId" = "User"."id" and "User".username = 'barack-obama';</code></pre></div></div></div><div class="h" id="ourbigbook-web-email-sending"><div class="notnav"><h5><a href="ourbigbook-web-email-sending">OurBigBook Web email sending</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-email-sending"></a><span class="metrics"><span class="wcntr"> Words: 551</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><a href="#_toc/ourbigbook-web-email-sending" class="toc"></a></div></nav></div><div class="p" id="_4559">To send emails, you have to set the environment variable <code>OURBIGBOOK_SEND_EMAIL</code> to select which provider you want to use:<div class="code" id="_4560"><div><pre><code>OURBIGBOOK_SEND_EMAIL=cloudmailin</code></pre></div></div>and then use provider specific variables for each provider documented under <a href="#ourbigbook-web-email-sending-with">Section "OurBigBook Web email sending with"</a>.</div><div class="p" id="_4561">This setup can be used to test the email integration locally.</div><div class="p" id="_4562">Some research of different methods is shown at: <a href="https://cirosantilli.com/send-free-emails-from-heroku">cirosantilli.com/send-free-emails-from-heroku</a></div><div class="p" id="_4563">Related configurations:<div class="list"><ul id="_4564"><li id="_4565">after reports that useres had received a "Suspicions link" when clicking the signup link on Gmail, we've tried to follow<div class="list"><ul id="_4566"><li id="_4567"><a href="https://stackoverflow.com/questions/63716879/how-to-prevent-suspicious-link-message-in-gmail/63716961#63716961">stackoverflow.com/questions/63716879/how-to-prevent-suspicious-link-message-in-gmail/63716961#63716961</a></li><li id="_4568"><a href="https://support.google.com/mail/thread/4242603?hl=en&amp;msgid=8208054">support.google.com/mail/thread/4242603?hl=en&amp;msgid=8208054</a></li><li id="_4569"><a href="https://postmaster.google.com/">postmaster.google.com/</a></li></ul></div>and add a TXT record of:<div class="code" id="_4570"><div><pre><code>google-site-verification=gctCPztssfR8A-fQ_5298gSee_DfFjBj8v9PqAxuhgU</code></pre></div></div>to the domain, which Google marked as verified. Let's see if helps.</li></ul></div></div><div class="h" id="web-bin-send-email"><div class="notnav"><h6><a href="web-bin-send-email">web/bin/send-email</a></h6><span class="hover-meta"> <a class="split" href="web-bin-send-email"></a><span class="metrics"><span class="wcntr"> Words: 49</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-email-sending" class="u"> OurBigBook Web email sending</a><a href="#_toc/web-bin-send-email" class="toc"></a><span class="tags"> Tags: <a href="#web-cli-utils">Web CLI utils</a></span></div></nav></div><div class="p" id="_4572">This utilit serves as a quick test to check if email sending is working, without you having to click a bunch of buttons on the web UI such as creating a new user:<div class="code" id="_4573"><div><pre><code>cd web
OURBIGBOOK_SEND_EMAIL=ses \
    OURBIGBOOK_SEND_EMAIL_SES_REGION=us-east-1 \
    OURBIGBOOK_SEND_EMAIL_SES_USERNAME=access-key \
    OURBIGBOOK_SEND_EMAIL_SES_API_KEY=secret-access-key \
    bin/send-email user@mail.com 'My subject' 'My body'</code></pre></div></div></div><div class="h" id="ourbigbook-web-email-sending-with"><div class="notnav"><h6><a href="ourbigbook-web-email-sending-with">OurBigBook Web email sending with</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-email-sending-with"></a><span class="metrics"><span class="wcntr"> Words: 410</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-email-sending" class="u"> OurBigBook Web email sending</a><a href="#_toc/ourbigbook-web-email-sending-with" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-email-sending-with-aws-ses"><div class="notnav"><h6 data-level="7"><a href="ourbigbook-web-email-sending-with-aws-ses">OurBigBook Web email sending with AWS SES</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-email-sending-with-aws-ses"></a><span class="metrics"><span class="wcntr"> Words: 74</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-email-sending-with" class="u"> OurBigBook Web email sending with</a><a href="#_toc/ourbigbook-web-email-sending-with-aws-ses" class="toc"></a></div></nav></div><div class="p" id="_4574">This is the current method used on <a href="#ourbigbook-com">OurBigBook.com</a>. They currenly offer pay as you go mailing at 1$ / 10,000 emails sent, which feels reasonable.</div><div class="code" id="_4575"><div><pre><code>OURBIGBOOK_SEND_EMAIL=ses \
    OURBIGBOOK_SEND_EMAIL_SES_REGION=us-east-1 \
    OURBIGBOOK_SEND_EMAIL_SES_USERNAME=access-key \
    OURBIGBOOK_SEND_EMAIL_SES_API_KEY=secret-access-key \
    npm run dev</code></pre></div></div><div class="p" id="_4576">The initial setup is slightly annoying as you have to write to support for them to enable your account, much like other AWS products, but once that is done we managed to get it working fine.</div><div class="p" id="_4577">Announced at: <div class="list"><ul id="_4578"><li id="_4579"><a href="https://mastodon.social/@ourbigbook/114970958914849281">mastodon.social/@ourbigbook/114970958914849281</a></li><li id="_4580"><a href="https://x.com/OurBigBook/status/1952376470849859661">x.com/OurBigBook/status/1952376470849859661</a></li><li id="_4581"><a href="https://www.linkedin.com/feed/update/urn:li:share:7358142308652838912">www.linkedin.com/feed/update/urn:li:share:7358142308652838912</a></li><li id="_4582"><a href="https://www.facebook.com/OurBigBook/posts/pfbid034bsRDjfp6aRsG8EwBQnBxBrm5yPe9uaEWeHHJoyVUjEzJDTAREyApcNPzMhBpSkGl">www.facebook.com/OurBigBook/posts/pfbid034bsRDjfp6aRsG8EwBQnBxBrm5yPe9uaEWeHHJoyVUjEzJDTAREyApcNPzMhBpSkGl</a></li></ul></div></div><div class="h" id="ourbigbook-web-email-sending-with-cloudmailin"><div class="notnav"><h6 data-level="7"><a href="ourbigbook-web-email-sending-with-cloudmailin">OurBigBook Web email sending with cloudmailin</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-email-sending-with-cloudmailin"></a><span class="metrics"><span class="wcntr"> Words: 89</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-email-sending-with" class="u"> OurBigBook Web email sending with</a><a href="#_toc/ourbigbook-web-email-sending-with-cloudmailin" class="toc"></a></div></nav></div><div class="p" id="_4583">We set them up as a Heroku plugin, and the login into cloudmailin is done through Heroku.</div><div class="p" id="_4584">Username and API keys are the same as the SMTP values.</div><div class="p" id="_4585">You need to setup a domain to take the account out of test mode.</div><div class="p" id="_4586">After a day they sent an email saying the DNS entries that neede to be changed:<div class="code" id="_4587"><div><pre><code>mta.ourbigbook.com CNAME feedback-smtp.cloudmta.net
e210040093cm.ourbigbook.com	TXT long-thing-in-attachment</code></pre></div></div></div><div class="p" id="_4588">But TODO even after that it still failed with:<div class="code" id="_4589"><div><pre><code>Domain has already been taken
Mta domain has already been taken</code></pre></div></div>when we input <code>ourbigbook.com</code>.</div><div class="h" id="ourbigbook-web-email-sending-with-sendgrid"><div class="notnav"><h6 data-level="7"><a href="ourbigbook-web-email-sending-with-sendgrid">OurBigBook Web email sending with Sendgrid</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-email-sending-with-sendgrid"></a><span class="metrics"><span class="wcntr"> Words: 247</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-email-sending-with" class="u"> OurBigBook Web email sending with</a><a href="#_toc/ourbigbook-web-email-sending-with-sendgrid" class="toc"></a></div></nav></div><div class="list"><ul id="_4590"><li id="_4591">ensure that you have a working email address in the hosted domain such as <code>notification@ourbigbook.com</code>. E.g. on our <a href="#custom-domain-name-setup">custom domain name setup</a> with Porkbun. We achieved this by redirecting <code>notification@ourbigbook.com</code> to your personal email initially.</li><li id="_4592">create a Sendgrid account<div class="list"><ul id="_4593"><li id="_4594">it would also be a good idea to setup two factor authentication</li></ul></div></li><li id="_4595">verify your domain, e.g. <code>ourbigbook.com</code>. This means setting up three <code>CNAME</code> records given by Sendgrid on your DNS provider, e.g. Porkbun.</li><li id="_4596">create a single sender. We used:<div class="list"><ul id="_4597"><li id="_4598">From Name: OurBigBook.com</li><li id="_4599">From Email Address: <code>notification@ourbigbook.com</code></li><li id="_4600">Reply to: <code>notification@ourbigbook.com</code></li></ul></div></li><li id="_4601">we disabled their "link tracking" feature, which was turned on by default. While it is fun to track clicks, it is basically useless for transactional email, and it parse HTML and replaces the links with their tracking links, making things less clear for end users. It is also harder to debug.</li><li id="_4602">integrate using web API<div class="list"><ul id="_4603"><li id="_4604">create an API key, and then save it on Heroku:<div class="code" id="_4605"><div><pre><code>heroku config:set -a ourbigbook OURBIGBOOK_SEND_EMAIL_SENDGRID_API_KEY=thekey</code></pre></div></div>Also set it locally to be able to test email sending integration locally:<div class="code" id="_4606"><div><pre><code>echo ourbigbook OURBIGBOOK_SEND_EMAIL_SENDGRID_API_KEY=thekey &gt;&gt; web/.env</code></pre></div></div>Then, to verify that the email sending is actually working run;<div class="code" id="_4607"><div><pre><code>env $(cat .env | xargs) OURBIGBOOK_SEND_EMAIL=cloudmailin npm run dev</code></pre></div></div>and try to register some of your real emails. You should actually receive the email at this step. The email appears as sent from:<div class="code" id="_4608"><div><pre><code>ciro@ourbigbook.com via sendgrid.net</code></pre></div></div>gmail accepted the email under promotions without domain verification, but outlook sent it to spam. Make sure to click "it is not spam" in that case.</li></ul></div></li></ul></div><div class="h" id="ourbigbook-web-recaptcha-setup"><div class="notnav"><h5><a href="ourbigbook-web-recaptcha-setup">OurBigBook Web reCAPTCHA setup</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-recaptcha-setup"></a><span class="metrics"><span class="wcntr"> Words: 98</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><a href="#_toc/ourbigbook-web-recaptcha-setup" class="toc"></a></div></nav></div><div class="p" id="_4609">Go to <a href="https://www.google.com/recaptcha/about/">www.google.com/recaptcha/about/</a>, setup a new domain, and save the values given e.g. to Heroku for <a href="#heroku-deployment">Heroku deployment</a>:<div class="code" id="_4610"><div><pre><code>./heroku config:set RECAPTCHA_SECRET_KEY=secret_key
./heroku config:set NEXT_PUBLIC_RECAPTCHA_SITE_KEY=site_key</code></pre></div></div></div><div class="p" id="_4611">Aditionally, also setup a separate localhost reCAPTCHA to test that it is working:<div class="code" id="_4612"><div><pre><code>echo RECAPTCHA_SECRET_KEY=secret_localhost_key &gt;&gt; web/.env
echo NEXT_PUBLIC_RECAPTCHA_SITE_KEY=site_localhost_key &gt;&gt; web/.env</code></pre></div></div>and then to use the .env file run with:<div class="code" id="_4613"><div><pre><code>cd web
env $(cat .env | xargs) npm run dev</code></pre></div></div></div><div class="p" id="_4614">Although it is possible to use a single reCAPTCHA for both production and development, Google recommends having separate ones.</div><div class="p" id="_4615">If the <code>NEXT_PUBLIC_RECAPTCHA_SITE_KEY</code> variable is not set, then reCAPTCHA is simply not used in the website.</div><div class="h" id="ourbigbook-vpn-blocking"><div class="notnav"><h5><a href="ourbigbook-vpn-blocking">OurBigBook VPN blocking</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-vpn-blocking"></a><span class="metrics"><span class="wcntr"> Words: 75</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><a href="#_toc/ourbigbook-vpn-blocking" class="toc"></a></div></nav></div><div class="p" id="_4616"><a href="#ourbigbook-web">OurBigBook Web</a> supports blocking VPN users from signing up in order to reduce SPAM.</div><div class="p" id="_4617">This is currently done by making API calls to <a href="https://ipapi.is/">ipapi.is/</a> after the <a href="#ourbigbook-web-recaptcha-setup">reCAPTCHA</a> check.</div><div class="p" id="_4618">To enable this, you must set the <code>OURBIGBOOK_IPAPI_IS_API_KEY</code> environment variable to contain your API key, which can be obtained by signing up to the freemium service:<div class="code" id="_4619"><div><pre><code>./heroku config:set OURBIGBOOK_IPAPI_IS_API_KEY=api_key</code></pre></div></div>To test locally, the checks ca be enabled with:<div class="code" id="_4620"><div><pre><code>OURBIGBOOK_IPAPI_IS_API_KEY=api_key OURBIGBOOK_DEV_IP=123.456.789.1 npm run dev</code></pre></div></div>which also fakes an IP with <a href="#ourbigbook-dev-ip"><code>OURBIGBOOK_DEV_IP</code></a>.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#signup-ip-blacklist-vpn-detection-and-account-locking">Signup IP blacklist, VPN detection and account locking</a></li></ul></div></div><div class="h" id="heroku-deployment"><div class="notnav"><h5><a href="heroku-deployment">Heroku deployment</a></h5><span class="hover-meta"> <a class="split" href="heroku-deployment"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 7</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-deployment" class="u"> OurBigBook Web deployment</a><a href="#_toc/heroku-deployment" class="toc"></a></div></nav></div><div class="p" id="_4621">Got it running perfectly at as of April 2021 <a href="https://ourbigbook.com">ourbigbook.com</a> with the following steps.</div><div class="p" id="_4622">Initial setup for a Heroku project called <code>ourbigbook</code>:<div class="code" id="_4623"><div><pre><code>sudo snap install --classic heroku
heroku login
./heroku git:remote
git remote rename heroku prod
# Automatically sets DATABASE_URL.
./heroku addons:create heroku-postgresql:hobby-dev
# We need this to be able to require("ourbigbook")
./heroku config:set SECRET="$(tr -dc A-Za-z0-9 &lt;/dev/urandom | head -c 256)"
# Password of users generated with ./web/bin/generate-demo-data
./heroku config:set OURBIGBOOK_DEMO_USER_PASSWORD="$(tr -dc A-Za-z0-9 &lt;/dev/urandom | head -c 20)"
# You can get it later to login with the demo users from the Heroku web interface</code></pre></div></div>To finish things off, you must now:<div class="list"><ul id="_4624"><li id="_4625">setup <a href="#ourbigbook-web-email-sending">OurBigBook Web email sending</a>, e.g. with <a href="#ourbigbook-web-email-sending-with-sendgrid">OurBigBook Web email sending with Sendgrid</a>. We haven't found a free method integrated with Heroku currently, so using this separate Sendgrid setup initially.</li><li id="_4626">optional but highly recommended: setup reCAPTCHA: <a href="#ourbigbook-web-recaptcha-setup">Section "OurBigBook Web reCAPTCHA setup"</a></li><li id="_4627">optional: setup <a href="#ourbigbook-vpn-blocking">Section "OurBigBook VPN blocking"</a></li></ul></div></div><div class="p" id="_4628">Additionally, you also need to setup the PostgreSQL test database for both OurBigBook CLI and OurBigBook Web as documented at <a href="#ourbigbook-web-postgresql-setup">Section "OurBigBook Web PostgreSQL setup"</a>:<div class="code" id="_4629"><div><pre><code>web/bin/pg-setup ourbigbook-cli</code></pre></div></div></div><div class="p" id="_4630">Then deploy with:<div class="code" id="_4631"><div><pre><code>cd web
npm run deploy-prod</code></pre></div></div></div><div class="p" id="_4632">Get an interactive shell on the production server:<div class="code" id="_4633"><div><pre><code>./heroku run bash</code></pre></div></div>From there you could then for example update the <a href="#demo-data">demo data</a> with:<div class="code" id="_4634"><div><pre><code>cd web
bin/generate-demo-data.js --force-production</code></pre></div></div>This should in theory not affect any real user data, only the demo articles and users, so it might be safe. In theory!</div><div class="p" id="_4635">Alternatively, we could do this at once with;<div class="code" id="_4636"><div><pre><code>./heroku run web/bin/generate-demo-data.js --force-production</code></pre></div></div></div><div class="p" id="_4637">Drop into a PostgreSQL shell on production:<div class="code" id="_4638"><div><pre><code>./heroku psql</code></pre></div></div>Of course, any writes could mean loss of user data!</div><div class="p" id="_4639">Run a query directly from your terminal:<div class="code" id="_4640"><div><pre><code>./heroku psql -c 'SELECT username,email FROM "User" ORDER BY "createdAt" DESC LIMIT 50'</code></pre></div></div></div><div class="p" id="_4641">If some spurious bugs crashes the server, you might want to restart it with:<div class="code" id="_4642"><div><pre><code>./heroku restart</code></pre></div></div></div><div class="h" id="_file/heroku"><div class="notnav"><span class="file" title="This article is about a file." /><h6><a href="_file/heroku">heroku</a></h6><span class="hover-meta"> <a class="split" href="_file/heroku"></a><span class="metrics"><span class="wcntr"> Words: 26</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#heroku-deployment" class="u"> Heroku deployment</a><a href="#_toc/_file/heroku" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_raw/heroku">heroku</a></b></div></nav></div><div class="p" id="_4643">The <a href="_raw/heroku">heroku</a> helper allows us to omit the boring <code>-a ourbigbook</code>, e.g. we can just type:<div class="code" id="_4644"><div><pre><code>./heroku logs -f</code></pre></div></div>instead of:<div class="code" id="_4645"><div><pre><code>./heroku logs -a ourbigbook -f</code></pre></div></div></div><div class="p"><b>heroku</b></div><div class="code"><div><pre><code>#!/usr/bin/env bash
# https://docs.ourbigbook.com/file/heroku
set -eu
cmd="$1"
shift
heroku "$cmd" -a ourbigbook "$@"
</code></pre></div></div><div class="h" id="upgrade-postgresql-database"><div class="notnav"><h6><a href="upgrade-postgresql-database">Upgrade PostgreSQL database</a></h6><span class="hover-meta"> <a class="split" href="upgrade-postgresql-database"></a><span class="metrics"><span class="wcntr"> Words: 18</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#heroku-deployment" class="u"> Heroku deployment</a><a href="#_toc/upgrade-postgresql-database" class="toc"></a></div></nav></div><div class="p" id="_4646">The 10k rows of the free plan are easy to reach, this procedure can be used to upgrade:</div><div class="list"><ul id="_4647"><li id="_4648"><a href="https://stackoverflow.com/questions/51211921/upgrade-hobby-dev-to-hobby-basic-on-heroku">stackoverflow.com/questions/51211921/upgrade-hobby-dev-to-hobby-basic-on-heroku</a></li><li id="_4649"><a href="https://elements.heroku.com/addons/heroku-postgresql">elements.heroku.com/addons/heroku-postgresql</a></li></ul></div><div class="h" id="custom-domain-name-setup"><div class="notnav"><h6><a href="custom-domain-name-setup">Custom domain name setup</a></h6><span class="hover-meta"> <a class="split" href="custom-domain-name-setup"></a><span class="metrics"><span class="wcntr"> Words: 175</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#heroku-deployment" class="u"> Heroku deployment</a><a href="#_toc/custom-domain-name-setup" class="toc"></a></div></nav></div><div class="p" id="_4650">The domain <a href="#ourbigbook-com">OurBigBook.com</a> was leased from: <a href="https://porkbun.com/">porkbun.com/</a>. Unfortunately, HTTPS on Heroku with a custom domain requires using a paying tier, so we upgraded from the free tier to the cheapest paid tier, "Hobby Project", to start with: <a href="https://stackoverflow.com/questions/52185560/heroku-set-ssl-certificates-on-free-plan">stackoverflow.com/questions/52185560/heroku-set-ssl-certificates-on-free-plan</a></div><div class="p" id="_4651">On the Porkbun web UI, we added a DNS record of type :<div class="code" id="_4652"><div><pre><code>ALIAS ourbigbook.com &lt;heroku-id&gt;.herokudns.com</code></pre></div></div>where <code>heroku-id</code> was obtained from:<div class="code" id="_4653"><div><pre><code>heroku domains:add ourbigbook.com
heroku domains</code></pre></div></div>and we removed all other <code>ALIAS</code>/<code>CNAME</code> records from Porkbun.</div><div class="p" id="_4654">Next, we setup forwarding from <code>ciro@ourbigbook.com</code> to <a href="#ciro-santilli">Ciro Santilli</a>'s personal gmail account. This is done in part because it appears that we are required to provide a from address for <a href="#ourbigbook-web-email-sending-with-sendgrid">OurBigBook Web email sending with Sendgrid</a>, and that email has to be verified. Having Porkbun host it costs 2$/month, and we are trying to use as much free stuff as possible until there are actual users on the website.</div><div class="p" id="_4655">Note that if you try to test from your own personal account, the redirect automatically skips sending as it notices that it would redirect to the sender. To test it you have to use some secondary email account instead.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#ourbigbook-com">OurBigBook.com</a></li></ul></div></div><div class="h" id="staging-deployment"><div class="notnav"><h6><a href="staging-deployment">Staging deployment</a></h6><span class="hover-meta"> <a class="split" href="staging-deployment"></a><span class="metrics"><span class="wcntr"> Words: 137</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#heroku-deployment" class="u"> Heroku deployment</a><a href="#_toc/staging-deployment" class="toc"></a></div></nav></div><div class="p" id="_4656">Before pushing any new changes, and especially ones that seem dangerous, it is a good idea to first deploy to a staging server.</div><div class="p" id="_4657">We have a staging server running at: <a href="https://ourbigbook-staging.herokuapp.com/">ourbigbook-staging.herokuapp.com/</a></div><div class="p" id="_4658">To set it up, we just follow the exact same steps as for <a href="#heroku-deployment">Heroku deployment</a> but with a different app ID. E.g. using the <code>ourbigbook-staging</code> heroku project ID:<div class="code" id="_4659"><div><pre><code>git remote add staging https://git.heroku.com/ourbigbook-staging.git
heroku addons:create -a ourbigbook-staging --confirm ourbigbook-staging heroku-postgresql:hobby-dev
heroku config:set -a ourbigbook-staging SECRET="$(tr -dc A-Za-z0-9 &lt;/dev/urandom | head -c 256)"
npm run deploy-staging</code></pre></div></div></div><div class="p" id="_4660">To copy the main database in staging we can follow the instructions at: <a href="https://stackoverflow.com/questions/10673630/how-do-i-transfer-production-database-to-staging-on-heroku-using-pgbackups-gett">stackoverflow.com/questions/10673630/how-do-i-transfer-production-database-to-staging-on-heroku-using-pgbackups-gett</a> Considering a production Heroku app ID of <code>ourbigbook</code>:<div class="code" id="_4661"><div><pre><code>heroku maintenance:on -a ourbigbook-staging &amp;&amp;
heroku pg:copy ourbigbook::DATABASE_URL DATABASE_URL -a ourbigbook-staging &amp;&amp;
heroku maintenance:off -a ourbigbook-staging</code></pre></div></div></div><div class="p" id="_4662">To get a shell on the stating server you can run:<div class="code" id="_4663"><div><pre><code>heroku run -a ourbigbook-staging bash</code></pre></div></div></div><div class="h" id="heroku-debugging"><div class="notnav"><h6><a href="heroku-debugging">Heroku debugging</a></h6><span class="hover-meta"> <a class="split" href="heroku-debugging"></a><span class="metrics"><span class="wcntr"> Words: 171</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#heroku-deployment" class="u"> Heroku deployment</a><a href="#_toc/heroku-debugging" class="toc"></a></div></nav></div><div class="p" id="_4664">To <a href="#log-database-queries">log database queries</a> you can run:<div class="code" id="_4665"><div><pre><code>./heroku config:set DEBUG='*:sql:*'</code></pre></div></div></div><div class="p" id="_4666">You then then see them with other logs at:<div class="code" id="_4667"><div><pre><code>./heroku logs -t</code></pre></div></div></div><div class="p" id="_4668">Disable these verbose logs once you're done:<div class="code" id="_4669"><div><pre><code>./heroku config:unset DEBUG</code></pre></div></div></div><div class="h" id="download-heroku-database-and-restore-it-locally"><div class="notnav"><h6 data-level="7"><a href="download-heroku-database-and-restore-it-locally">Download Heroku database and restore it locally</a></h6><span class="hover-meta"> <a class="split" href="download-heroku-database-and-restore-it-locally"></a><span class="metrics"><span class="wcntr"> Words: 142</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#heroku-debugging" class="u"> Heroku debugging</a><a href="#_toc/download-heroku-database-and-restore-it-locally" class="toc"></a></div></nav></div><div class="p" id="_4670">First download a dump of the database as per <a href="https://devcenter.heroku.com/articles/heroku-postgres-import-export">devcenter.heroku.com/articles/heroku-postgres-import-export</a> with <a href="_raw/web/bin/pg_dump_heroku">web/bin/pg_dump_heroku</a>:<div class="code" id="_4671"><div><pre><code>web/bin/pg_dump_heroku</code></pre></div></div>This produces a file <code>latest.dump</code> with the database dump. If that already exists, it gets overwritten.</div><div class="p" id="_4672">Restoring that database locally to reproduce bugs can be done with the helper <a href="_raw/web/bin/pg_restore_heroku_local">web/bin/pg_restore_heroku_local</a>:<div class="code" id="_4673"><div><pre><code>web/bin/pg_restore_heroku_local</code></pre></div></div></div><div class="p" id="_4674">Restoring that local database dump to Heroku when reverting back isuses can be done with the helper <a href="_raw/web/bin/pg_restore_heroku_remote">web/bin/pg_restore_heroku_remote</a>:<div class="code" id="_4675"><div><pre><code>web/bin/pg_restore_heroku_remote</code></pre></div></div>This will then ask you to type an interactive confirmation which we have not disabled by default.</div><div class="p" id="_4676">That helper restore the local <code>latest.dump</code> database file like in <a href="#save-and-restore-local-postgresql-development-database">Section "Save and restore local PostgreSQL development database"</a>. First we nuke the database completely with <a href="_raw/web/bin/pg-setup">web/bin/pg-setup</a> to increase accuracy:<div class="code" id="_4677"><div><pre><code>web/bin/pg-setup
web/bin/pg_restore --no-acl --no-owner latest.dump</code></pre></div></div>We also add some extra flags to reduce the ammount of warnings and errors due to database differences. The command does not exit with status 0. <a href="https://devcenter.heroku.com/articles/heroku-postgres-import-export">devcenter.heroku.com/articles/heroku-postgres-import-export</a> says some of those warnings are normal and can be ignored.</div><div class="h" id="dependency-organization"><div class="notnav"><h6><a href="dependency-organization">Dependency organization</a></h6><span class="hover-meta"> <a class="split" href="dependency-organization"></a><span class="metrics"><span class="wcntr"> Words: 227</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#heroku-deployment" class="u"> Heroku deployment</a><a href="#_toc/dependency-organization" class="toc"></a></div></nav></div><div class="p" id="_4678">On the toplevel we have:<div class="list"><ul id="_4679"><li id="_4680"><code>.</code>: OurBigBook package</li><li id="_4681"><div class="p" id="_4682"><code>web/</code>: <a href="#ourbigbook-web">OurBigBook Web</a> package that depends on the local OurBigBook package through relative path <code>..</code></div><div class="p" id="_4683">Every require outside of <code>web/</code> must be relative, except for executables such as <a href="_raw/ourbigbook">ourbigbook</a> or demos such as <a href="_raw/lib_hello.js">lib_hello.js</a>, or else the deployment will break.</div><div class="p" id="_4684">This is because we don't know of a super clean way of adding the toplevel <code>ourbigbook</code> package to the search path as <code>npm run link</code> does not work well on Heroku.</div><div class="p" id="_4685">A known workaround to allow <code>npm run build-assets</code> is done at: <a href="_raw/web/build.sh">web/build.sh</a>.</div></li></ul></div></div><div class="p" id="_4686">Currently, Heroku deployment does the following:<div class="list"><ul id="_4687"><li id="_4688">install both <code>dependencies</code> and <code>devDependencies</code></li><li id="_4689"><code>npm run build</code></li><li id="_4690"><div class="p" id="_4691">remove <code>devDependencies</code> from the final output to save space and speed some things up</div><div class="p" id="_4692">The <code>devDependencies</code> should therefore only contain things which are needed for the build, typically asset compressors like Webpack, but not components that are required at runtime.</div></li></ul></div></div><div class="p" id="_4693">This setup creates some conflict between what we want for OurBigBook command line users, and Heroku deployment.</div><div class="p" id="_4694">Notably, OurBigBook command line users will want SQLite, and Heroku never, and SQLite installation is quite slow.</div><div class="p" id="_4695">Since we were unable to find any way to make things more flexible on the <code>package.json</code> with some kind of optional depenency, for now we are just hacking out any dependencies that we don't want Heroku to install at all from <a href="_raw/package.json">package.json</a> and <a href="_raw/web/package.json">web/package.json</a> with <code>sed</code> rom <a href="_raw/heroku-prebuild">heroku-prebuild</a>.</div><div class="p" id="_4696">Further discussion at: <a href="https://github.com/ourbigbook/ourbigbook/issues/156">github.com/ourbigbook/ourbigbook/issues/156</a></div><div class="h" id="ourbigbook-web-performance-benchmarking"><div class="notnav"><h4><a href="ourbigbook-web-performance-benchmarking">OurBigBook Web performance benchmarking</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-performance-benchmarking"></a><span class="metrics"><span class="wcntr"> Words: 420</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-performance-benchmarking" class="toc"></a></div></nav></div><div class="p" id="_4697"><a href="https://stackoverflow.com/questions/18215389/how-do-i-measure-request-and-response-times-at-once-using-curl">stackoverflow.com/questions/18215389/how-do-i-measure-request-and-response-times-at-once-using-curl</a> is a useful one if the server is slow:<div class="code" id="_4698"><div><pre><code>curl -o /dev/null -s -w 'Establish Connection: %{time_connect}s\nTTFB: %{time_starttransfer}s\nTotal: %{time_total}s\n' http://localhost:3000</code></pre></div></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#ourbigbook-com-cirosantilli-loads-2x-as-fast-after-database-optimizations">Ourbigbook.com/cirosantilli loads 2x as fast after database optimizations</a></li></ul></div></div><div class="h" id="next-js-web-vitals"><div class="notnav"><h5><a href="next-js-web-vitals">Next.js web vitals</a></h5><span class="hover-meta"> <a class="split" href="next-js-web-vitals"></a><span class="metrics"><span class="wcntr"> Words: 58</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-performance-benchmarking" class="u"> OurBigBook Web performance benchmarking</a><a href="#_toc/next-js-web-vitals" class="toc"></a></div></nav></div><div class="p" id="_4699">These are documented at <a href="https://nextjs.org/docs/advanced-features/measuring-performance">nextjs.org/docs/advanced-features/measuring-performance</a>. To enable them use <code>NEXT_PUBLIC_OURBIGBOOK_LOG_PERF</code>, the front-end-avaible version of <a href="#ourbigbook-log-perf"><code>OURBIGBOOK_LOG_PERF</code></a>:<div class="code" id="_4700"><div><pre><code>NEXT_PUBLIC_OURBIGBOOK_LOG_PERF=1 npm run dev</code></pre></div></div></div><div class="p" id="_4701">If enabled, we see a few metrics printed on the browser console such as:<div class="code" id="_4702"><div><pre><code>{
    "id": "1667591558646-5510113745482",
    "name": "TTFB",
    "startTime": 0,
    "value": 2474.199999999255,
    "label": "web-vital"
}
{
    "id": "1667591558646-9119282792899",
    "name": "LCP",
    "startTime": 4982.099,
    "value": 4982.099,
    "label": "web-vital"
}</code></pre></div></div></div><div class="h" id="ourbigbook-log-perf"><div class="notnav"><h5><a href="ourbigbook-log-perf"><code>OURBIGBOOK_LOG_PERF</code></a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-log-perf"></a><span class="metrics"><span class="wcntr"> Words: 20</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-performance-benchmarking" class="u"> OurBigBook Web performance benchmarking</a><a href="#_toc/ourbigbook-log-perf" class="toc"></a><span class="tags"> Tags: <a href="#ourbigbook-web-environment-variable">OurBigBook Web environment variable</a></span></div></nav></div><div class="p" id="_4704">If set to <a href="#ourbigbook-environment-variable-true">OurBigBook environment variable true</a> enables somewhat verbose logs of several key performance points, notably in:<div class="list"><ul id="_4705"><li id="_4706">web vitals on all pages: <a href="https://nextjs.org/docs/pages/building-your-application/optimizing/analytics">nextjs.org/docs/pages/building-your-application/optimizing/analytics</a></li><li id="_4707">conversion</li></ul></div></div><div class="h" id="ourbigbook-web-performance-log"><div class="notnav"><h5><a href="ourbigbook-web-performance-log">OurBigBook Web performance log</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-performance-log"></a><span class="metrics"><span class="wcntr"> Words: 322</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-performance-benchmarking" class="u"> OurBigBook Web performance benchmarking</a><a href="#_toc/ourbigbook-web-performance-log" class="toc"></a></div></nav></div><div class="p" id="_4708">A good benchmark for the critical Article page is perhaps the <a href="#wikipedia-bot">Wikipedia bot</a> account which stresses the atricle tree the hardest.</div><div class="p" id="_4709">We should look out for metrics such as:<div class="list"><ul id="_4710"><li id="_4711">First Contentful Paint (FCP)</li><li id="_4712">Time to First Byte (TTFB)</li></ul></div>and test both on <a href="#heroku-deployment">Heroku deployment</a> and locally.</div><div class="p" id="_4713">Local tests are always on optimized PostgresQL. Remote tests always on powerful home wifi, never 4G. Measuremnts are taken on browser Network tab in developer tools with cache enabled. Each URL is ran randomly a few times, which gives an idea of cache warmup effects. Logged-in is logged-in as <code>cirosantilli</code>.</div><div class="p" id="_4714">Visit article:<div class="list"><ul id="_4715"><li id="_4716">ae4d0e3a0964f3c00a7e1ec0d561ebd6f2d2f44f (show tagged headers under non-toplevel headers) TTFB logged off local:<div class="list"><ul id="_4717"><li id="_4718">/barack-obama: 60 - 75</li><li id="_4719">/cirosantilli: 200 - 300</li><li id="_4720">/wikibot: 100 - 120</li></ul></div></li><li id="_4721">3c61db4b778f0cc6c0fcfbc5519ef82927d365b3 (one before "show tagged headers under non-toplevel headers") TTFB logged off local:<div class="list"><ul id="_4722"><li id="_4723">/cirosantilli: 200 - 300</li><li id="_4724">/wikibot: 110 - 120</li></ul></div></li><li id="_4725"><div class="p" id="_4726">075872a0a5ca7faf171d45834bc2b47995a15634 web: speed up article page DB queries further by moving topicId into topic</div><div class="p" id="_4727">At this commit we had highly optimized article page queries. The slowest query was getting the new upvotes of the logged in user at 20 - 30 ms.</div><div class="list"><ul id="_4728"><li id="_4729">TTFB<div class="list"><ul id="_4730"><li id="_4731">local<div class="list"><ul id="_4732"><li id="_4733">logged off:<div class="list"><ul id="_4734"><li id="_4735">/barack-obama: 40 - 60</li><li id="_4736">/cirosantilli: 160 - 190</li><li id="_4737">/cirosantilli/mathematics: 100 - 120</li><li id="_4738">/wikibot: 65 - 70</li></ul></div></li><li id="_4739">logged in:<div class="list"><ul id="_4740"><li id="_4741">/barack-obama 65</li><li id="_4742">/cirosantilli: 200 - 300</li><li id="_4743">/wikibot: 90 - 100</li></ul></div></li></ul></div></li><li id="_4744">cirosantilli.com: 100 - 200</li><li id="_4745">ourbigbook.com<div class="list"><ul id="_4746"><li id="_4747">logged off:<div class="list"><ul id="_4748"><li id="_4749">/barack-obama: 140 -180</li><li id="_4750">/cirosantilli: 300 - 400</li><li id="_4751">/cirosantilli/mathematics: 240 - 400</li><li id="_4752">/wikibot: 180 - 300</li></ul></div></li><li id="_4753">logged in:<div class="list"><ul id="_4754"><li id="_4755">/barack-obama: 250 - 400</li><li id="_4756">/cirosantilli: 450 - 600</li><li id="_4757">/cirosantilli/mathematics: 350 - 500</li><li id="_4758">/wikibot: 330 - 450</li></ul></div></li></ul></div></li></ul></div></li></ul></div></li><li id="_4759">8ea5ffa52d291350e9a5ddef92e4171d50a51dcc TTFB logged off:<div class="list"><ul id="_4760"><li id="_4761">local<div class="list"><ul id="_4762"><li id="_4763">/barack-obama: 400</li><li id="_4764">/cirosantilli: 500</li><li id="_4765">/wikibot: 1200</li></ul></div></li><li id="_4766">cirosantilli.com: 100 - 200</li><li id="_4767">ourbigbook.com<div class="list"><ul id="_4768"><li id="_4769">/barack-obama: 500 - 700</li><li id="_4770">/cirosantilli: 1100 - 1500</li><li id="_4771">/wikibot: 3500 - 4500</li></ul></div></li></ul></div>This suggests a database scaling issue like a missing index.</li></ul></div></div><div class="p" id="_4772">Update article:<div class="list"><ul id="_4773"><li id="_4774">f2d48c4b6eaa6264017d3ef506a58167802730f3 Lenovo ThinkPad P14s Ubuntu 24.10 postgresql 16.8 and cirosantilli.github.io at 858d7eb936b541979660e3aecb7abf96541fc06c<div class="list"><ul id="_4775"><li id="_4776">/cirosantilli 380 ms</li><li id="_4777">/cirosantilli/x86-paging and descendants 1900 ms</li><li id="_4778">/cirosantilli/cool-data-embedded-in-the-bitcoin-blockchain and descendants 4400</li><li id="_4779">/cirosantilli/cia-2010-covert-communication-websites and descendants 4700</li></ul></div></li></ul></div></div><div class="p" id="_4780">Related:<div class="list"><ul id="_4781"><li id="_4782"><a href="todo#reach-the-same-performance-as-static-website-with-dynamic-tree">Reach the same performance as static website with dynamic tree</a></li></ul></div></div><div class="h" id="ourbigbook-web-architecture"><div class="notnav"><h4><a href="ourbigbook-web-architecture">OurBigBook Web architecture</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-web-architecture"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 16</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-development" class="u"> OurBigBook Web development</a><a href="#_toc/ourbigbook-web-architecture" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-security"><div class="notnav"><h5><a href="ourbigbook-web-security">OurBigBook Web security</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-security"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><a href="#_toc/ourbigbook-web-security" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-web-csrf-security"><div class="notnav"><h5><a href="ourbigbook-web-csrf-security">OurBigBook Web CSRF security</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-csrf-security"></a><span class="metrics"><span class="wcntr"> Words: 152</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><a href="#_toc/ourbigbook-web-csrf-security" class="toc"></a></div></nav></div><div class="p" id="_4783">For a general introduction to CSRF see: <a href="https://security.stackexchange.com/questions/8264/why-is-the-same-origin-policy-so-important/72569#72569">security.stackexchange.com/questions/8264/why-is-the-same-origin-policy-so-important/72569#72569</a></div><div class="p" id="_4784">CSRF security is organized as follows:<div class="list"><ul id="_4785"><li id="_4786">unsafe methods such as POST are all authenticated by JWT. This authentication comes from headers that can only be sent via JavaScript, so it is not possible to make users click links that will take those actions</li><li id="_4787"><div class="p" id="_4788">safe methods such as GET are authenticated by a cookie. The cookie has the same value as the JWT. It is possible for third party websites to make such authenticated requests, but it doesn't matter as they will not alter the server state, and contents cannot be read back due to the single origin policy.</div><div class="p" id="_4789">There is currently one exception to this: the verification page, which has side effects based on GET. But it shouldn't matter in that specific case.</div></li></ul></div></div><div class="p" id="_4790">The JWT token is only given to users after account verification. Having the JWT token is the definition of being logged in.</div><div class="h" id="ourbigbook-web-tech-stack"><div class="notnav"><h5><a href="ourbigbook-web-tech-stack">OurBigBook Web tech stack</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-tech-stack"></a><span class="metrics"><span class="wcntr"> Words: 33</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><a href="#_toc/ourbigbook-web-tech-stack" class="toc"></a></div></nav></div><div class="list"><ul id="_4791"><li id="_4792">Frontend<div class="list"><ul id="_4793"><li id="_4794">Next.js</li><li id="_4795">React</li></ul></div></li><li id="_4796">Frontend backend communication<div class="list"><ul id="_4797"><li id="_4798">JSON API</li><li id="_4799">Next.js makes its prerender server-side queries directly to the database without going through the API</li></ul></div></li><li id="_4800">Backend<div class="list"><ul id="_4801"><li id="_4802">Express.js</li><li id="_4803">Sequelize</li><li id="_4804">SQLite for local development, PostgreSQL for deployment</li></ul></div></li></ul></div><div class="h" id="ourbigbook-web-ui-guidelines"><div class="notnav"><h5><a href="ourbigbook-web-ui-guidelines">OurBigBook Web UI guidelines</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-ui-guidelines"></a><span class="metrics"><span class="wcntr"> Words: 282</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><a href="#_toc/ourbigbook-web-ui-guidelines" class="toc"></a></div></nav></div><div class="list"><ul id="_4805"><li id="_4806">nav tabs<div class="list"><ul id="_4807"><li id="_4808">are icon-separated, e.g.: "(home icon) Home (article icon) Top Articles (article icon) Latest articles'</li><li id="_4809">every title-like (e.g. pages, table headers) thing and links to title-like things are "Sentence cased", i.e.:<div class="list"><ul id="_4810"><li id="_4811">the first letter uppercase</li><li id="_4812">others are lowercase or uppercase if proper nouns</li></ul></div></li></ul></div></li><li id="_4813">things that users can click to "take actions" (usually modify the database) show as buttons. Things that users can click to view things show as links. Exmaples of actions:<div class="list"><ul id="_4814"><li id="_4815">like, subscribe</li><li id="_4816">create article/issue/comment</li><li id="_4817">go to a separate new/edit article/issue page. This is strictly technically speaking just a link, but it is closely related to creating something new, so it feels more intuitive for it to be a button</li></ul></div></li><li id="_4818">when logged off:<div class="list"><ul id="_4819"><li id="_4820">stateful actions like "create article" or "like article" show as if logged in, but redirected to signup page. Unless it is possible for user to create significant content and then lose it, e.g. type in a new comment body and only notice later that he cannot submit.</li></ul></div></li></ul></div><div class="h" id="ourbigbook-web-with-javascript-disabled"><div class="notnav"><h6><a href="ourbigbook-web-with-javascript-disabled">OurBigBook Web with JavaScript disabled</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-with-javascript-disabled"></a><span class="metrics"><span class="wcntr"> Words: 120</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-ui-guidelines" class="u"> OurBigBook Web UI guidelines</a><a href="#_toc/ourbigbook-web-with-javascript-disabled" class="toc"></a></div></nav></div><div class="p" id="_4821">It is intended that OurBigBook Web be readable with JavaScript disabled. This has the following advantages:<div class="list"><ul id="_4822"><li id="_4823">reduces flickering on page load for users that JavaScript enabled</li><li id="_4824">may help with SEO</li><li id="_4825">helps with Web archiving. The Wayback Machine for example is notably bad with JavaScrip</li><li id="_4826">helps privacy freaks who have their JavaScript turned off</li></ul></div></div><div class="p" id="_4827">Pages should look exactly the same with JavaScript turned on or off.</div><div class="p" id="_4828">Page interactive behaviour may differ slighly. Notably, due to <a href="#ourbigbook-web-dynamic-article-tree">OurBigBook Web dynamic article tree</a>, clicking links with JavaScript off always opens a new page <code>/username/myid</code> rather than going to <code>#myid</code> if the target <a href="#element-id">Element ID</a> is already visible in the current page.</div><div class="p" id="_4829">User input and even login is not intended to be necessarily possible however, and will likely be always broken.</div><div class="h" id="ourbigbook-web-url-standards"><div class="notnav"><h5><a href="ourbigbook-web-url-standards">OurBigBook Web URL standards</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-url-standards"></a><span class="metrics"><span class="wcntr"> Words: 414</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><a href="#_toc/ourbigbook-web-url-standards" class="toc"></a></div></nav></div><div class="p" id="_4830">This section describes rules for normally browser-visible URLs of the website. These rules do not apply to the Web API, see <a href="#ourbigbook-web-api-standards">OurBigBook Web API standards</a> for Web API URL standards.</div><div class="p" id="_4831">It should be impossible to have upper case characters on any URL of the website. Words should be separated by hyphens <code>-</code> instead.</div><div class="p" id="_4832">Use the usual gramatical ordering for action object pairs, e.g.:<div class="list"><ul id="_4833"><li id="_4834"><code>new-discussion</code></li><li id="_4835"><code>edit-discussion</code></li></ul></div>instead of:<div class="list"><ul id="_4836"><li id="_4837"><code>discussion-new</code></li><li id="_4838"><code>discussion-edit</code></li></ul></div>The latter is tempting to group all "Discussion" actions under a prefix, but let's use the nice grammar instead.</div><div class="p" id="_4839">GET parameters should always be alphabetically ordered by key, e.g.:<div class="code" id="_4840"><div><pre><code>?ab=1&amp;cd=2</code></pre></div></div>rather than:<div class="code" id="_4841"><div><pre><code>?cd=2&amp;ab=1</code></pre></div></div></div><div class="h" id="ourbigbook-web-url-standards-get-param-vs-url-component"><div class="notnav"><h6><a href="ourbigbook-web-url-standards-get-param-vs-url-component">OurBigBook Web URL standards: GET param vs url component</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-url-standards-get-param-vs-url-component"></a><span class="metrics"><span class="wcntr"> Words: 151</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-url-standards" class="u"> OurBigBook Web URL standards</a><a href="#_toc/ourbigbook-web-url-standards-get-param-vs-url-component" class="toc"></a></div></nav></div><div class="p" id="_4842">Next.js imposes one constraint: ISR only works with URL parameters like <code>/articles/&lt;page&gt;</code>, not GET parameters like <code>/articles?page=1</code>.</div><div class="p" id="_4843">As of writing however, we don't use any ISR as it adds a lot of complication. But still, we are trying to stick to the general principle that if something might ever be ISR'ed in the future, then we would like to keep it as parameter rather then GET. It feels sane.</div><div class="p" id="_4844">The only things that we are ever consider ISR'ing are the pre-rendered version of articles and issues, excluding any metadata of those that changes often or depends on logged in users.</div><div class="p" id="_4845">All lists of things will never be ISR'ed, as those can change constantly. One conclusion of this is that:<div class="list"><ul id="_4846"><li id="_4847">page number</li><li id="_4848">ordering</li><li id="_4849">other search-like parameters</li></ul></div>which appear only in lists of things, will always be part of the GET query, and not params.</div><div class="p" id="_4850">Types:<div class="list"><ul id="_4851"><li id="_4852">booleans are <code>true</code> or <code>false</code></li></ul></div></div><div class="h" id="ourbigbook-web-url-standards-article-id-comes-last-due-to-slash"><div class="notnav"><h6><a href="ourbigbook-web-url-standards-article-id-comes-last-due-to-slash">OurBigBook Web URL standards: article ID comes last due to slash</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-url-standards-article-id-comes-last-due-to-slash"></a><span class="metrics"><span class="wcntr"> Words: 63</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-url-standards" class="u"> OurBigBook Web URL standards</a><a href="#_toc/ourbigbook-web-url-standards-article-id-comes-last-due-to-slash" class="toc"></a></div></nav></div><div class="p" id="_4853">It is a bit annoying that due to <a href="#h-scope-argument">scopes</a> being separated with <code>/</code>, we always have to put article names last in any URL (outside GET parameters) to avoid ambiguities. E.g. it would be arguably nicer to have:<div class="code" id="_4854"><div><pre><code>/go/donald-trump/linear-algebra/issues</code></pre></div></div>rather than the current:<div class="code" id="_4855"><div><pre><code>/go/issues/donald-trump/linear-algebra</code></pre></div></div>but this produces ambiguity, what if user <code>issues</code> has an article with title <code>Linear algebra</code> under scope <code>donald-trump</code>?</div><div class="h" id="ourbigbook-web-api-standards"><div class="notnav"><h6><a href="ourbigbook-web-api-standards">OurBigBook Web API standards</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-web-api-standards"></a><span class="metrics"><span class="wcntr"> Words: 102</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-url-standards" class="u"> OurBigBook Web URL standards</a><a href="#_toc/ourbigbook-web-api-standards" class="toc"></a></div></nav></div><div class="p" id="_4856">In the API article slugs are always passed as a GET parameter, unlike in the case of browser visible URLs. This is because we don't care about having:<div class="list"><ul id="_4857"><li id="_4858">nice human readable URLs</li><li id="_4859">ISR, at least for now</li></ul></div>so the <code>id=</code> parameter is always used.</div><div class="p" id="_4860">For now there is no API that returns single items: getting a single item is done simply using a filter that uniquely selects a single element, e.g.:<div class="code" id="_4861"><div><pre><code>/api/articles?id=johnsmith/mathematics</code></pre></div></div>Maybe this will change if someday we ever de to have full vs minimized versions of API objects. But then at that point we might as well go to GraphQL.</div><div class="h" id="ourbigbook-web-directory-structure"><div class="notnav"><h5><a href="ourbigbook-web-directory-structure">OurBigBook Web directory structure</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-web-directory-structure"></a><span class="metrics"><span class="wcntr"> Words: 427</span><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-architecture" class="u"> OurBigBook Web architecture</a><a href="#_toc/ourbigbook-web-directory-structure" class="toc"></a></div></nav></div><div class="list"><ul id="_4862"><li id="_4863"><a href="_raw/web/app.js">web/app.js</a>: server executable entry point, can also be used programmatically from Node.js</li><li id="_4864"><a href="_dir/web/models">web/models</a>: Sequelize database models. Most changes in this folder require the creation of a corresponding <a href="_dir/web/migrations">web/migrations</a></li><li id="_4865"><a href="_dir/web/migrations">web/migrations</a>: database migrations, see also: <a href="#ourbigbook-web-database-migration-setup">Section "OurBigBook Web database migration setup"</a></li><li id="_4866"><a href="_dir/web/pages">web/pages</a>: Next.js URL entry points</li><li id="_4867"><a href="_dir/web/front">web/front</a> and <a href="_raw/web/front.tsx">web/front.tsx</a>: files that can be imported from either front-end of backend. See: <a href="https://stackoverflow.com/questions/64926174/module-not-found-cant-resolve-fs-in-next-js-application/70363153#70363153">stackoverflow.com/questions/64926174/module-not-found-cant-resolve-fs-in-next-js-application/70363153#70363153</a></li><li id="_4868"><a href="_dir/web/back">web/back</a> and <a href="_raw/web/back.ts">web/back.ts</a>: files that can be imported only from backend. See: <a href="https://stackoverflow.com/questions/64926174/module-not-found-cant-resolve-fs-in-next-js-application/70363153#70363153">stackoverflow.com/questions/64926174/module-not-found-cant-resolve-fs-in-next-js-application/70363153#70363153</a></li><li id="_4869"><a href="_raw/web_api.js">web_api.js</a>: helpers to access the OurBigBook HTTP REST API. These have to be outside of <code>web/</code> because <a href="#ourbigbook-cli">OurBigBook CLI</a> uses them e.g. for syncing local files to the server, and OurBigBook CLI cannot depend on OurBigBook Web components, only the other way around, otherwise we could create circular dependencies. That exact same JavaScript code is also used from the front-end! The infinite joys of homomorphic JS.</li></ul></div><div class="h" id="web-cli-utils"><div class="notnav"><h6><a href="web-cli-utils">Web CLI utils <span class="meta">(web/bin)</span></a></h6><span class="hover-meta"> <a class="split" href="web-cli-utils"></a><span class="metrics"><span class="wcntr"> Words: 302</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-web-directory-structure" class="u"> OurBigBook Web directory structure</a><a href="#_toc/web-cli-utils" class="toc"></a></div></nav></div><div class="p" id="_4871">This setion is about <a href="#ourbigbook-web">OurBigBook Web</a> administration utilities that live under the directory <a href="_dir/web/bin">web/bin</a>.</div><div class="p" id="_4872">These can be mostly used to conveniently manipulate the database to perform some routine adminstartive tasks from the command line.</div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#web-bin-send-email">Web/bin/send-email</a></li></ul></div></div><div class="h" id="_file/web/bin/normalize"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="7"><a href="_file/web/bin/normalize">web/bin/normalize</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/normalize"></a><span class="metrics"><span class="wcntr"> Words: 60</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#web-cli-utils" class="u"> Web CLI utils</a><a href="#_toc/_file/web/bin/normalize" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/normalize">normalize</a></b></div></nav></div><div class="p" id="_4873">Check the counts of issues per article for user <code>barack-obama</code> only with <code>-c</code>, but don't fix anything:<div class="code" id="_4874"><div><pre><code>web/bin/normalize -c -u barack-obama article-issue-count</code></pre></div></div></div><div class="p" id="_4875">Print the full correct normalized state with <code>-p</code>:<div class="code" id="_4876"><div><pre><code>web/bin/normalize -f -u barack-obama issue-follower-count</code></pre></div></div></div><div class="p" id="_4877">Fix the counts of issue follower if any are wrong with <code>-f</code>, thus potentially altering the database:<div class="code" id="_4878"><div><pre><code>web/bin/normalize -f -u barack-obama issue-follower-count</code></pre></div></div></div><div class="p"><b>web/bin/normalize</b></div><div class="code"><div><pre><code>#!/usr/bin/env node
// https://docs.ourbigbook.com/file/web/bin/normalize

const path = require('path')

const commander = require('commander')

const models = require('../models')

// main
const program = commander.program

program.description('View, check or update (i.e. normalize redundant database data: https://docs.ourbigbook.com/ourbigbook-web-dynamic-article-tree https://docs.ourbigbook.com/_file/web/bin/normalize')
program.option('-c, --check', 'check if something is up-to-date', false);
program.option('-f, --fix', 'fix before printing', false);
program.option('-p, --print', 'print the final state after any update if any', false);
program.option(
  '-u, --username &lt;username&gt;',
  'which user to check or fix for. If not given do it for all users. Can be given multiple times.',
  (value, previous) =&gt; previous.concat([value]),
  [],
);
program.argument('[whats...]', 'list of things to normalize, e.g. "nested-set" or "article-issue-count"')
program.parse(process.argv);
const opts = program.opts()
let [whats] = program.processedArgs
const sequelize = models.getSequelize(path.dirname(__dirname))
;(async () =&gt; {
  await models.normalize({
    check: opts.check,
    fix: opts.fix,
    log: true,
    print: opts.print,
    sequelize,
    usernames: opts.username,
    whats,
  })
})().finally(() =&gt; { return sequelize.close() });
</code></pre></div></div><div class="h" id="_file/web/bin/rerender-articles.js"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="7"><a href="_file/web/bin/rerender-articles.js">web/bin/rerender-articles.js</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/rerender-articles.js"></a><span class="metrics"><span class="wcntr"> Words: 167</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#web-cli-utils" class="u"> Web CLI utils</a><a href="#_toc/_file/web/bin/rerender-articles.js" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/rerender-articles.js">rerender-articles.js</a></b></div></nav></div><div class="p" id="_4879">Rerender all articles by all users:<div class="code" id="_4880"><div><pre><code>web/bin/rerender-articles.js</code></pre></div></div></div><div class="p" id="_4881">Rerender only the articles with specified slugs:<div class="code" id="_4882"><div><pre><code>web/bin/rerender-articles.js johnsmith/mathematics maryjane/physics</code></pre></div></div></div><div class="p" id="_4883">Only rerender articles by <code>johnsmith</code> and <code>maryjane</code>:<div class="code" id="_4884"><div><pre><code>web/bin/rerender-articles.js -a johnsmith -a maryjane</code></pre></div></div></div><div class="p" id="_4885">Rerender articles by all authors except <code>johnsmith</code> and <code>maryjane</code>:<div class="code" id="_4886"><div><pre><code>web/bin/rerender-articles.js -A johnsmith -A maryjane</code></pre></div></div></div><div class="p" id="_4887">Rerendering has to be done to see updates on OurBigBook changes that change the render output.</div><div class="p" id="_4888">Notably, this would be mandatory in case of CSS changes that require corresponding HTML changes.</div><div class="p" id="_4889">As the website grows, we will likely need to do a lazy version of this that marks pages as outdated, and then renders on the fly, plus a background thread that always updates outdated pages.</div><div class="p" id="_4890">The functionality of this script should be called from a <a href="#ourbigbook-web-database-migration-setup">migration</a> whenever such HTML changes are required. TODO link to an example. We had one at <code>web/migrations/20220321000000-output-update-ancestor.js</code> that seemed to work, but lost it. It was simple though. Just you have to instantiate your own Sequelize instance after making the model change to move any data.</div><div class="p"><b>web/bin/rerender-articles.js</b></div><div class="code"><div><pre><code>#!/usr/bin/env node

const path = require('path')

const commander = require('commander')

const models = require('../models')
const back_js = require('../back/js')
const { cliInt } = require('ourbigbook/nodejs_webpack_safe')

const program = commander.program
program.description('Re-render articles https://docs.ourbigbook.com/_file/web/bin/rerender-articles.js')
program.option('-a, --author &lt;username&gt;', 'only convert articles by this author', (v, p) =&gt; p.concat([v]), [])
program.option('--automatic-topic-links-max-words &lt;val&gt;', 'maximum number of words to put on automatic topic links', cliInt)
program.option('-A, --skip-author &lt;username&gt;', "don't convert articles by this author", (v, p) =&gt; p.concat([v]), [])
program.option('-d, --descendants', 'rerender all descendants of input slugs in addition to the articles themselves. Has no effect if no slugs are given as input (everything gets converted regardless in that case).')
program.option('-i, --ignore-errors', 'ignore errors', false)
program.option('-s, --start-from &lt;start-from&gt;', 'start from this article and continue alphabetically to the end', false)
program.argument('[slugs...]', 'list of slugs to convert, e.g. "barack-obama/quantum-mechanics". If not given, convert all articles matching the criteria of other options.')
program.parse(process.argv);
const opts = program.opts()
let [slugs] = program.processedArgs
const sequelize = models.getSequelize(path.dirname(__dirname));
(async () =&gt; {
await sequelize.models.Article.rerender({
  log: true,
  convertOptionsExtra: {
    automaticTopicLinksMaxWords: opts.automaticTopicLinksMaxWords,
    katex_macros: back_js.preloadKatex(),
  },
  authors: opts.author,
  descendants: opts.descendants,
  ignoreErrors: opts.ignoreErrors,
  slugs,
  skipAuthors: opts.skipAuthor,
  startFrom: opts.startFrom,
})
})().finally(() =&gt; { return sequelize.close() });
</code></pre></div></div><div class="h" id="_file/web/bin/rerender-issues.js"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="7"><a href="_file/web/bin/rerender-issues.js">web/bin/rerender-issues.js</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/rerender-issues.js"></a><span class="metrics"><span class="wcntr"> Words: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#web-cli-utils" class="u"> Web CLI utils</a><a href="#_toc/_file/web/bin/rerender-issues.js" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/rerender-issues.js">rerender-issues.js</a></b></div></nav></div><div class="p" id="_4891">Analogous to <a href="#_file/web/bin/rerender-articles.js">web/bin/rerender-articles.js</a> but for issues.</div><div class="p"><b>web/bin/rerender-issues.js</b></div><div class="code"><div><pre><code>#!/usr/bin/env node

const path = require('path')

const commander = require('commander');

const models = require('../models')
const back_js = require('../back/js')

const program = commander.program
program.description('Re-render issues https://docs.ourbigbook.com/_file/web/bin/rerender-issues.js')
program.option('-i, --ignore-errors', 'ignore errors', false);
program.parse(process.argv);
const opts = program.opts()
const sequelize = models.getSequelize(path.dirname(__dirname));
(async () =&gt; {
await sequelize.models.Issue.rerender({
  log: true,
  convertOptionsExtra: { katex_macros: back_js.preloadKatex() },
  ignoreErrors: opts.ignoreErrors
})
})().finally(() =&gt; { return sequelize.close() });
</code></pre></div></div><div class="h" id="_file/web/bin/rerender-comments.js"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="7"><a href="_file/web/bin/rerender-comments.js">web/bin/rerender-comments.js</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/rerender-comments.js"></a><span class="metrics"><span class="wcntr"> Words: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#web-cli-utils" class="u"> Web CLI utils</a><a href="#_toc/_file/web/bin/rerender-comments.js" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/rerender-comments.js">rerender-comments.js</a></b></div></nav></div><div class="p" id="_4892">Analogous to <a href="#_file/web/bin/rerender-articles.js">web/bin/rerender-articles.js</a> but for comments.</div><div class="p"><b>web/bin/rerender-comments.js</b></div><div class="code"><div><pre><code>#!/usr/bin/env node

const path = require('path')

const commander = require('commander');

const models = require('../models')
const back_js = require('../back/js')

const program = commander.program
program.description('Re-render comments https://docs.ourbigbook.com/_file/web/bin/rerender-comments.js')
program.option('-i, --ignore-errors', 'ignore errors', false);
program.parse(process.argv);
const opts = program.opts()
const sequelize = models.getSequelize(path.dirname(__dirname));
(async () =&gt; {
await sequelize.models.Comment.rerender({
  log: true,
  convertOptionsExtra: { katex_macros: back_js.preloadKatex() },
  ignoreErrors: opts.ignoreErrors
})
})().finally(() =&gt; { return sequelize.close() });
</code></pre></div></div><div class="h" id="_file/web/bin/set-password"><div class="notnav"><span class="file" title="This article is about a file." /><h6 data-level="7"><a href="_file/web/bin/set-password">web/bin/set-password</a></h6><span class="hover-meta"> <a class="split" href="_file/web/bin/set-password"></a><span class="metrics"><span class="wcntr"> Words: 33</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#web-cli-utils" class="u"> Web CLI utils</a><a href="#_toc/_file/web/bin/set-password" class="toc"></a></div><div class="nav file"><b> <a href="_dir">(root)</a> / <a href="_dir/web">web</a> / <a href="_dir/web/bin">bin</a> / <a href="_raw/web/bin/set-password">set-password</a></b></div></nav></div><div class="p" id="_4893">Change password for a given user. Usage:<div class="code" id="_4894"><div><pre><code>set-password &lt;username&gt; &lt;new-password&gt;</code></pre></div></div>Note that this can also be achieved on the web interface by visiting the settings page of a target user with an <a href="#ourbigbook-admin">OurBigBook Admin</a> account.</div><div class="p"><b>web/bin/set-password</b></div><div class="code"><div><pre><code>#!/usr/bin/env node

// https://docs.ourbigbook.com/web/bin/set-password

const path = require('path')

const commander = require('commander')

const models = require('../models')

// CLI arguments
const program = commander.program
program.allowExcessArguments(false)
program.argument('&lt;username&gt;', 'username')
program.argument('&lt;password&gt;', 'password')
program.parse(process.argv);
const opts = program.opts()
const [username, password] = program.processedArgs

// main
const sequelize = models.getSequelize(path.dirname(__dirname));
(async () =&gt; {
const user = await sequelize.models.User.findOne({ where: { username }})
await sequelize.models.User.setPassword(user, password)
await user.save()
})().finally(() =&gt; { return sequelize.close() });
</code></pre></div></div><div class="h" id="runtime-feature"><div class="notnav"><h2><a href="runtime-feature">Runtime feature</a></h2><span class="hover-meta"> <a class="split" href="runtime-feature"></a><span class="metrics"><span class="wcntr"> Words: 185</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/runtime-feature" class="toc"></a></div></nav></div><div class="p" id="_4895">This section describes features present in <a href="_raw/ourbigbook_runtime.js">ourbigbook_runtime.js</a></div><div class="p" id="_4896">That file contains JavaScript functionality to be included in the final documents to enable interactive document features such as the <a href="#table-of-contents">table of contents</a>.</div><div class="p" id="_4897">You should use the packaged <code>_obb/ourbigbook_runtime.js</code> instead of this file directly however.</div><div class="h" id="javascript-redirect-to-split-on-missing-id"><div class="notnav"><h3><a href="javascript-redirect-to-split-on-missing-id">JavaScript redirect to split on missing ID</a></h3><span class="hover-meta"> <a class="split" href="javascript-redirect-to-split-on-missing-id"></a><span class="metrics"><span class="wcntr"> Words: 146</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#runtime-feature" class="u"> Runtime feature</a><a href="#_toc/javascript-redirect-to-split-on-missing-id" class="toc"></a></div></nav></div><div class="p" id="_4898">When you have a document like:</div><div class="p" id="_4899">animal.bigb</div><div class="code" id="_4900"><div><pre><code>= Animal

== Dog

=== Poodle</code></pre></div></div><div class="p" id="_4901">the version without <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> will contains a valid ID within it:</div><div class="code" id="_4902"><div><pre><code>animal.html#poodle</code></pre></div></div><div class="p" id="_4903">However, if at some point you decide that the section <code>dog</code> has become too large and want to split it as:</div><div class="code" id="_4904"><div><pre><code>= Animal

\Include[dog]</code></pre></div></div><div class="p" id="_4905">and:</div><div class="p" id="_4906">dog.bigb</div><div class="code" id="_4907"><div><pre><code>= Dog

== Poodle</code></pre></div></div><div class="p" id="_4908">When you do this, it would break liks that users might have shared to <code>animal.html#poodle</code>, which is not located at <code>dog.html#poodle</code>.</div><div class="p" id="_4909">To make that less worse, if <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> are enabled, we check at runtime if the ID <code>poodle</code> is present in the output, and if it is not, we redirect to the split page <code>#poodle</code> to <code>poodle.html</code>.</div><div class="p" id="_4910">It would be even more awesome if we were able to redirect to the non-split version as well, <code>dog.html#poodle</code>, but that would be harder to implement, so not doing it for now.</div><div class="h" id="tooling"><div class="notnav"><h2><a href="tooling">Tooling</a></h2><span class="hover-meta"> <a class="split" href="tooling"></a><span class="metrics"><span class="wcntr"> Words: 3k</span><span class="dcnt"> Articles: 15</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/tooling" class="toc"></a></div></nav></div><div class="p" id="_4911">Unlike all languages which rely on ad-hoc tooling, we will support every single tool that is required and feasible to be in this repository in this repository, in a centralized manner.</div><div class="h" id="conversion-to-from-other-formats"><div class="notnav"><h3><a href="conversion-to-from-other-formats">Conversion to/from other formats</a></h3><span class="hover-meta"> <a class="split" href="conversion-to-from-other-formats"></a><span class="metrics"><span class="wcntr"> Words: 43</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#tooling" class="u"> Tooling</a><a href="#_toc/conversion-to-from-other-formats" class="toc"></a></div></nav></div><div class="p" id="_4912">The only thing we have for now is the quick and dirty <a href="_raw/adoc-to-bigb">adoc-to-bigb</a>.</div><div class="p" id="_4913">The better approach would be to implement a converter in Haskell from anything to OurBigBook.</div><div class="p" id="_4914">And from OurBigBook to anything, create new output formats inside OurBigBook to those other formats.</div><div class="h" id="editor-support"><div class="notnav"><h3><a href="editor-support">Editor support</a></h3><span class="hover-meta"> <a class="split" href="editor-support"></a><span class="metrics"><span class="wcntr"> Words: 2k</span><span class="dcnt"> Articles: 11</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#tooling" class="u"> Tooling</a><a href="#_toc/editor-support" class="toc"></a></div></nav></div><div class="h" id="visual-studio-code"><div class="notnav"><h4><a href="visual-studio-code">Visual Studio Code <span class="meta">(VS Code)</span></a></h4><span class="hover-meta"> <a class="split" href="visual-studio-code"></a><span class="metrics"><span class="wcntr"> Words: 2k</span><span class="dcnt"> Articles: 6</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#editor-support" class="u"> Editor support</a><a href="#_toc/visual-studio-code" class="toc"></a></div></nav></div><div class="p" id="_4916">VS Code is currently intended to be the best supported <a href="todo#wysiwyg">non-fully-custom OurBigBook editor</a>.</div><div class="p" id="_4917">The official OurBigBook extension is published at: <a href="https://marketplace.visualstudio.com/items?itemName=ourbigbook.ourbigbook-vscode">marketplace.visualstudio.com/items?itemName=ourbigbook.ourbigbook-vscode</a> by the publisher account: <a href="https://marketplace.visualstudio.com/publishers/ourbigbook">marketplace.visualstudio.com/publishers/ourbigbook</a>.</div><div class="figure"><figure id="image-visual-studio-code-extension-installation"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/vscode/install.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/vscode/install.png" loading="lazy" height="750"  class="border"></a></div><figcaption><a href="#image-visual-studio-code-extension-installation"><span class="caption-prefix">Figure 66. </span></a><div class="title">Visual Studio Code extension installation</div>. </figcaption></figure></div><div class="figure"><figure id="image-visual-studio-code-extension-tree-navigation"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/vscode/tree.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/vscode/tree.png" loading="lazy" height="1100"  class="border"></a></div><figcaption><a href="#image-visual-studio-code-extension-tree-navigation"><span class="caption-prefix">Figure 67. </span></a><div class="title">Visual Studio Code extension tree navigation</div>. </figcaption></figure></div><div class="figure"><figure id="video-ourbigbook-visual-studio-code-extension"><div class="float-wrap"><iframe width="1066" height="600" loading="lazy" src="https://www.youtube.com/embed/0W8U2YtQ8fg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-visual-studio-code-extension"><span class="caption-prefix">Video 19. </span></a><div class="title">OurBigBook Visual Studio Code extension</div>. <a href="https://www.youtube.com/watch?v=0W8U2YtQ8fg">Source</a>. </figcaption></figure></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#visual-studio-code-extension-overhaul">Visual Studio Code extension overhaul</a></li><li><a href="todo#vs-code-symbol-provider">Vs Code symbol provider</a></li></ul></div></div><div class="h" id="visual-studio-code-quick-start"><div class="notnav"><h5><a href="visual-studio-code-quick-start">Visual Studio Code quick start</a></h5><span class="hover-meta"> <a class="split" href="visual-studio-code-quick-start"></a><span class="metrics"><span class="wcntr"> Words: 241</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#visual-studio-code" class="u"> Visual Studio Code</a><a href="#_toc/visual-studio-code-quick-start" class="toc"></a><span class="tags"> Tags: <a href="#quick-start">Quick start</a></span></div></nav></div><div class="p" id="_4919">First follow <a href="#play-with-the-template">play with the template</a> and ensure that you are able to run <code>ourbigbook</code> from the command line succesfully on a <a href="#generate">project template</a>:<div class="code" id="_4920"><div><pre><code>npx ourbigbook .</code></pre></div></div>We would like to remove the need for this step and allow users doing everyting without the command line, but that will require some extra work: <a href="https://github.com/ourbigbook/ourbigbook/issues/318">github.com/ourbigbook/ourbigbook/issues/318</a></div><div class="p" id="_4921">Once that is working, you can now install the extension either:<div class="list"><ul id="_4922"><li id="_4923">via the VS Code UI: Ctrl + Shift + X and search for "ourbigbook", the ID is: <code>ourbigbook.ourbigbook-vscode</code></li><li id="_4924">from the command line with:<div class="code" id="_4925"><div><pre><code>ext install ourbigbook.ourbigbook-vscode</code></pre></div></div></li></ul></div></div><div class="p" id="_4926">We also recommend installing the "Code Spell checker" extension:<div class="code" id="_4927"><div><pre><code>ext install streetsidesoftware.code-spell-checker</code></pre></div></div>and adding the following settings to your User JSON settings file:<div class="code" id="_4928"><div><pre><code>"cSpell.enableFiletypes": [
    "ourbigbook"
],</code></pre></div></div></div><div class="p" id="_4929">Next, open the downloaded folder in Visual Studio Code with:<div class="list"><ul id="_4930"><li id="_4931"><code>Ctrl + Shift + P</code></li><li id="_4932">File: Open Folder</li></ul></div>then open a .bigb file such as index.bigb on vscode.</div><div class="p" id="_4933">Now you are ready to:<div class="list"><ul id="_4934"><li id="_4935"><code>Ctrl + Shift + B</code>: build all files in the folder</li><li id="_4936"><code>F5</code>: build all files in the folder, and view the HTML output for the current source file in your browser</li><li id="_4937"><code>Ctrl + Shift + Alt + B</code>: publish your project to <a href="#ourbigbook-web">OurBigBook Web</a></li></ul></div></div><div class="p" id="_4938">Other things to try include:<div class="list"><ul id="_4939"><li id="_4940"><code>Ctrl + T</code>: search for a header in any file</li><li id="_4941">type <code>&lt;</code> to create an <a href="#cross-file-internal-link">internal cross file internal link</a> and observe autocompletion suggest header names for you</li></ul></div></div><div class="figure"><figure id="video-edit-locally-and-publish-demo-visual-studio-code"><div class="float-wrap"><iframe width="720" height="720" loading="lazy" src="https://www.youtube.com/embed/Ghvlztiu6rI" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-edit-locally-and-publish-demo-visual-studio-code"><span class="caption-prefix">Video 20. </span></a><div class="title">Edit locally and publish demo</div>. <a href="https://www.youtube.com/watch?v=Ghvlztiu6rI">Source</a>. This shows editing <a href="#ourbigbook-markup">OurBigBook Markup</a> and <a href="#publish-your-content">publishing</a> it using the <a href="#visual-studio-code">VS Code</a> extension.</figcaption></figure></div><div class="figure"><figure id="image-screenshot-of-a-sample-ourbigbook-project-in-vs-code"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/local-editing/vscode-mathematics-calculus-derivative.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/local-editing/vscode-mathematics-calculus-derivative.png" loading="lazy" height="800"></a></div><figcaption><a href="#image-screenshot-of-a-sample-ourbigbook-project-in-vs-code"><span class="caption-prefix">Figure 68. </span></a><div class="title">Screenshot of a sample OurBigBook project in VS Code</div>. </figcaption></figure></div><div class="h" id="visual-studio-code-documentation"><div class="notnav"><h5><a href="visual-studio-code-documentation">Visual Studio Code documentation</a></h5><span class="hover-meta"> <a class="split" href="visual-studio-code-documentation"></a><span class="metrics"><span class="wcntr"> Words: 919</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#visual-studio-code" class="u"> Visual Studio Code</a><a href="#_toc/visual-studio-code-documentation" class="toc"></a></div></nav></div><div class="p" id="_4942">Supported language features:<div class="list"><ul id="_4943"><li id="_4944">syntax highlighting</li><li id="_4945">auto-completion:<div class="list"><ul id="_4946"><li id="_4947"><div class="p" id="_4948">snippets: E.g. if you type in an editor window:<div class="code" id="_4949"><div><pre><code>\I</code></pre></div></div>it suggests the autocompletion to<div class="code" id="_4950"><div><pre><code>\Image[]</code></pre></div></div> and if you select it autofills with URL the clipboard text.</div><div class="p" id="_4951">Common <a href="#named-argument">named arguments</a> also have shortcuts starting with open curly brace <code>{</code>, e.g. for the <a href="#title-argument"><code>title</code> argument</a> it is <code>{t</code> (open curly brace + <code>t</code>)<div class="code" id="_4952"><div><pre><code>{t</code></pre></div></div>which expands to:<div class="code" id="_4953"><div><pre><code>{title=}</code></pre></div></div>leaving your cursor after the <code>=</code> sign.</div><div class="p" id="_4954">see their definition fn the snippts file <a href="_raw/vscode/snippets.json">vscode/snippets.json</a>.</div></li><li id="_4955">ID autocompletion initiated by things like:<div class="list"><ul id="_4956"><li id="_4957"><code>&lt;</code>: <a href="#internal-link">internal link</a></li><li id="_4958"><code>{tag=</code>: <a href="#h-tag-argument"><code>\H</code> <code>tag</code> argument</a></li><li id="_4959"><code>{parent=</code>: <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a></li></ul></div>Known limitations:<div class="list"><ul id="_4960"><li id="_4961">although separate words do find good matches in this case unlike in Ctrl + T, if you auto-complete after the first word, pre existing words are duplicated, e.g.:<div class="list"><ul id="_4962"><li id="_4963">type the first word</li><li id="_4964">space</li><li id="_4965">start the second word</li><li id="_4966">finish autocomplete on second word</li></ul></div>then the stuff before the last space remains rather than being replaced, leaving you with something like:<div class="code" id="_4967"><div><pre><code>&lt;United United States&gt;</code></pre></div></div>The bult-in markdown extension does not support this either as it uses only slash separated "IDs" in its searches.</li></ul></div></li></ul></div></li><li id="_4968"><div class="p" id="_4969"><code>Ctrl + T</code> "<a href="https://code.visualstudio.com/docs/editor/editingevolved#_open-symbol-by-name">Open symbol by name</a>". Shows matching <a href="#element-id">Element IDs</a> such as for <a href="#header">headers</a>, and allows you to quickly jump to them. It lists:<div class="list"><ul id="_4970"><li id="_4971">first lists IDs that start with the search</li><li id="_4972">then followed by IDs that contain the search anywhere inside them</li></ul></div></div><div class="p" id="_4973">Unfortunately, due to VS Code limitations, you cannot use spaces in the search as we would like, e.g.:<div class="code" id="_4974"><div><pre><code>fundamental theorem</code></pre></div></div>will not find the ID <code>fundamental-theorem-of-calculus</code>. This is because VS Code does not pass the search after the first space to the extension at all in the <code>provideWorkspaceSymbols</code> callback. It does work if you instead use the hyphen <code>-</code> ID separator as in:<div class="code" id="_4975"><div><pre><code>fundamental-theorem</code></pre></div></div></div><div class="p" id="_4976">Using <code>%</code> SQL wildcards such as in:<div class="code" id="_4977"><div><pre><code>fund%ntal</code></pre></div></div>also does not work. Looking at debug logs, we see that the correct SQL queries are generated and the correct rows returned, but VS Code must be doing a hardcoded post-processing step that removes the matches afterwards, so it also seems to be out of our control.</div><div class="p" id="_4978">TODO: the built-in markdown extension handles spaces on Ctrl+T. Understand how it works.</div><div class="p" id="_4979"><a href="#id-extraction">ID extraction</a> is performed on .bigb files automatically with <code>ourbigbook --no-render file.bigb</code> whenever new changes are saved to disk e.g. with Ctrl + S. This ensures that the <a href="#cross-file-internal-link-internals">ID database</a> is kept up to date so that Ctrl + T and autocompletion will work.</div></li><li id="_4980"><code>Ctrl + Shift + O</code>: ID search in the current file. Somewhat of a subset of <code>Ctrl + T</code>, but works faster, is more scoped if you know your ID is in the current file, and allows you to type spaces.</li><li id="_4981">Ctrl + Click: jump to definition. If you hover over <a href="#cross-file-internal-link">internal cross file internal link</a>-like elements such anywhere over the following:<div class="list"><ul id="_4982"><li id="_4983"><code>&lt;New York&gt;</code></li><li id="_4984"><code>{tag=New York}</code></li><li id="_4985"><code>{parent=New York}</code></li></ul></div>then the editor jumps to their definition point.</li><li id="_4986"><div class="p" id="_4987">outline, sticky scroll, breadcrumb. These features allow you to quickly navigate between headers of the current file in a tree structure. Consider adding the following shortcut to reveal the outline sidebar on <code>Ctrl + 3</code>:<div class="code" id="_4988"><div><pre><code>{
  "key": "ctrl+3",
  "command": "outline.focus"
},</code></pre></div></div>As you add or remove lines to the document, the outline becomes immediately outdated. To update it, make sure to save the document (Ctrl + S) and wait a few seconds.</div><div class="p" id="_4989">Drag and drop editing gets requested from time to time but just dies to the bot:<div class="list"><ul id="_4990"><li id="_4991"><a href="https://github.com/microsoft/vscode/issues/143192">github.com/microsoft/vscode/issues/143192</a></li><li id="_4992"><a href="https://github.com/microsoft/vscode/issues/69080">github.com/microsoft/vscode/issues/69080</a></li></ul></div>though in our case it wouldn't be so simple as <a href="#h-parent-argument"><code>\H</code> <code>parent</code> arguments</a> would also have to be adjusted.</div></li><li id="_4993">commands: all our command shortcuts are defined to only work on OurBigBook files (<a href="#ourbigbook-markup"><code>.bigb</code> extension</a>) to avoid cluttering non-OurBigBook projects. This is done as vscode does not seem to have the concept of "project type" built into it. If you want the build and launch shorcuts to work on your project for any file, also define build and launch commands under <code>.vscode</code><div class="list"><ul id="_4994"><li id="_4995"><code>Build all</code>: save the current file is unsaved, and then build the <a href="#project-toplevel-directory">project toplevel directory</a> with <code>ourbigbook .</code></li><li id="_4996"><div class="p" id="_4997"><code>Build all and view current output file</code>: do <code>ourbigbook .</code> and then open the HTML output for the current file in your browser</div><div class="p" id="_4998">Known limitations: snap browsers on Ubuntu 24.04 can't access dotfiles, so CSS and JavaScript will be broken because they go under <code>~/.vscode</code> when building with the extension: <a href="https://askubuntu.com/questions/1238211/how-to-make-snaps-access-hidden-files-and-folders-in-home#comment2676255_1238219">askubuntu.com/questions/1238211/how-to-make-snaps-access-hidden-files-and-folders-in-home#comment2676255_1238219</a> We don't know how to work around this besides not using the snap version of browsers.</div></li><li id="_4999"><code>Publish to static website (ourbigbook.publishStatic)</code>: publish <a href="#p-publish">static website</a></li><li id="_5000"><code>Publish to OurBigBook Web (ourbigbook.publishWeb)</code>: publish to <a href="#ourbigbook-web">OurBigBook Web</a></li><li id="_5001"><code>Publish to OurBigBook Web and static (ourbigbook.publishWebAndStatic)</code>: publish to both <a href="#ourbigbook-web">OurBigBook Web</a> and <a href="#p-publish">static website</a></li></ul></div></li></ul></div></div><div class="p" id="_5002">Todo<div class="list"><ul id="_5003"><li id="_5004">deployment as <a href="#p-publish">static website</a> or to <a href="#ourbigbook-web">OurBigBook Web</a> via command</li><li id="_5005">live side-by-side HTML preview, maybe we could learn a bit from the Asciidoc extension</li></ul></div>The default markdown support is incredible and should serve as inspiration for this extension: <a href="https://code.visualstudio.com/docs/languages/markdown">code.visualstudio.com/docs/languages/markdown</a></div><div class="p" id="_5006">Historically, <a href="#vim">Vim</a> support came first and was better developed. But that was just an ad-hoc path of least resistance, VS Code is the one we are going to actually support moving forward.</div><div class="p" id="_5007">Our syntax highlighting attempts mostly to follow the official HTML style, which is perhaps the best maintained data-language. We have also had a look at the LaTeX, Markdown and Asciidoctor ones for refernce.</div><div class="p" id="_5008">One current fundamental limitation of <a href="#visual-studio-code">VS Code</a> is that there is no way to preview images and mathematics inline with text: <a href="https://stackoverflow.com/questions/52709966/vscode-is-it-possible-to-show-an-image-inside-a-text-buffer">stackoverflow.com/questions/52709966/vscode-is-it-possible-to-show-an-image-inside-a-text-buffer</a> If only it were able to do that, it would go a long way to being as good as a WYSIWYG interface.</div><div class="h" id="visual-studio-code-options"><div class="notnav"><h6><a href="visual-studio-code-options">Visual Studio Code options</a></h6><span class="hover-meta"> <a class="split" href="visual-studio-code-options"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#visual-studio-code-documentation" class="u"> Visual Studio Code documentation</a><a href="#_toc/visual-studio-code-options" class="toc"></a></div></nav></div><div class="h" id="gitautocommitafterbuild"><div class="notnav"><h6><a href="gitautocommitafterbuild"><code>gitAutoCommitAfterBuild</code></a></h6><span class="hover-meta"> <a class="split" href="gitautocommitafterbuild"></a><span class="metrics"><span class="wcntr"> Words: 40</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#visual-studio-code-documentation" class="u"> Visual Studio Code documentation</a><a href="#_toc/gitautocommitafterbuild" class="toc"></a></div></nav></div><div class="p" id="_5009">Default: <code>false</code></div><div class="p" id="_5010">If true, automaticlaly Git commit after a succesful build with <code>Ctrl + Shift + B</code>.</div><div class="p" id="_5011">New .bigb files are automatically git added, but you must manually git add new non-.bigb files to help prevent accidental data leaks.</div><div class="h" id="developing-the-visual-studio-code-extension"><div class="notnav"><h5><a href="developing-the-visual-studio-code-extension">Developing the Visual Studio Code extension</a></h5><span class="hover-meta"> <a class="split" href="developing-the-visual-studio-code-extension"></a><span class="metrics"><span class="wcntr"> Words: 148</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#visual-studio-code" class="u"> Visual Studio Code</a><a href="#_toc/developing-the-visual-studio-code-extension" class="toc"></a><span class="tags"> Tags: <a href="#developing-ourbigbook">Developing OurBigBook</a></span></div></nav></div><div class="p" id="_5013">The source code for the extension is located under: <a href="_dir/vscode">vscode</a></div><div class="p" id="_5014">It's the standard procedure for any extension:<div class="list"><ul id="_5015"><li id="_5016">open a new workspace with just the extension at toplevel:<div class="list"><ul id="_5017"><li id="_5018">Ctrl + Shift + N</li><li id="_5019">Ctrl + Shift + P</li><li id="_5020">Open workspace from file</li><li id="_5021">select <a href="_raw/vscode/vscode.code-workspace">vscode/vscode.code-workspace</a></li></ul></div></li><li id="_5022">In the new window from any file:<div class="list"><ul id="_5023"><li id="_5024">Ctrl+Shift+P</li><li id="_5025">Debug: Start Debugging</li></ul></div>This opens a new window titled "Extension Development Host". You will likely then want to open any .bigb file from that window to test out the extension</li><li id="_5026">from there on:<div class="list"><ul id="_5027"><li id="_5028">make changes on the "vscode" workspace</li><li id="_5029">test them on the "Extension Development Host" window. To reload changes either:<div class="list"><ul id="_5030"><li id="_5031">from the Extension Host run the "Developer: Reload Window" command to make extension changes take effect. We recommend adding a shortcut "Alt + Shift + R" for that</li><li id="_5032">from the "vscode" workspace, restart the debug proces with the "Debug: Restart" command (default shortcut "Ctrl + Shift + F5")</li></ul></div></li></ul></div></li></ul></div></div><div class="h" id="making-concurrent-changes-to-ourbigbook-and-the-extension"><div class="notnav"><h5><a href="making-concurrent-changes-to-ourbigbook-and-the-extension">Making concurrent changes to ourbigbook and the extension</a></h5><span class="hover-meta"> <a class="split" href="making-concurrent-changes-to-ourbigbook-and-the-extension"></a><span class="metrics"><span class="wcntr"> Words: 217</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#visual-studio-code" class="u"> Visual Studio Code</a><a href="#_toc/making-concurrent-changes-to-ourbigbook-and-the-extension" class="toc"></a></div></nav></div><div class="p" id="_5033">Sometimes you need to change ourbigbook files like <a href="_raw/index.js">index.js</a> when working on a new extension feature.</div><div class="p" id="_5034">TODO: we don't have a neat way to handle this now. Currently;<br><a href="_raw/vscode/package.json">vscode/package.json</a><br>uses fixed <code>ourbigbook</code> versions such as:<div class="code" id="_5035"><div><pre><code>  "dependencies": {
    "ourbigbook": "0.9.11"</code></pre></div></div>and therefore does not pick up changes made to <a href="_raw/index.js">index.js</a>.</div><div class="p" id="_5036">To work around that, you can hack that line to:<div class="code" id="_5037"><div><pre><code>  "dependencies": {
    "ourbigbook": ".."</code></pre></div></div>and:<div class="code" id="_5038"><div><pre><code>cd vscode
npm install</code></pre></div></div></div><div class="p" id="_5039">The reason we don't use the <code>..</code> by default is that we are unable to release the extension with the <code>..</code> for an unknown reason because then:<div class="code" id="_5040"><div><pre><code>npx vsce package</code></pre></div></div>is failing with:<div class="code" id="_5041"><div><pre><code>Executing prepublish script 'npm run vscode:prepublish'...

&gt; ourbigbook-vscode@0.0.26 vscode:prepublish
&gt; npm run compile


&gt; ourbigbook-vscode@0.0.26 compile
&gt; tsc -p ./

 ERROR  Command failed: npm list --production --parseable --depth=99999 --loglevel=error
npm ERR! code ELSPROBLEMS
npm ERR! invalid: katex@v0.11.1 /home/ciro/bak/git/ourbigbook/node_modules/katex

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/ciro/.npm/_logs/2024-08-05T15_51_22_124Z-debug-0.log</code></pre></div></div>One thing we could do is to play it really nasty and hack <code>..</code> to a fixed version for relese, then hack it back to <code>..</code> immediately, always requiring a ourbigbook release for each vscode release.</div><div class="p" id="_5042">If you use the <code>..</code> hack, besides undoing the <code>..</code> change, before releasing you have to:<div class="code" id="_5043"><div><pre><code>cd vscode
rm -rf node_modules package-lock.json</code></pre></div></div>otherwise the error does not go away.</div><div class="h" id="vim"><div class="notnav"><h4><a href="vim">Vim</a></h4><span class="hover-meta"> <a class="split" href="vim"></a><span class="metrics"><span class="wcntr"> Words: 423</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#editor-support" class="u"> Editor support</a><a href="#_toc/vim" class="toc"></a></div></nav></div><div class="p" id="_5044">You can install the support with <a href="https://github.com/VundleVim/Vundle.vim">Vundle</a> with:<div class="code" id="_5045"><div><pre><code>set nocompatible
filetype off
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
Plugin 'gmarik/vundle'
let g:snipMate = {}
let g:snipMate.snippet_version = 1
Plugin 'MarcWeber/vim-addon-mw-utils'
Plugin 'tomtom/tlib_vim'
Plugin 'garbas/vim-snipmate'
Plugin 'ourbigbook/ourbigbook', {'rtp': 'vim'}</code></pre></div></div>or by directly dropping the files named below under your <code>~/.vim/</code>, e.g. <code>vim/syntax/ourbigbook.vim</code></div><div class="p" id="_5046">The following support is provided:<div class="list"><ul id="_5047"><li id="_5048"><div class="p" id="_5049"><a href="_raw/vim/syntax/ourbigbook.vim">vim/syntax/ourbigbook.vim</a>: syntax highlighting.</div><div class="p" id="_5050">As for other programming languages, this cannot be perfect without actually parsing, which would be slow for larger files.</div><div class="p" id="_5051">But even the imperfect approximation already covers a lot of the most cases.</div><div class="p" id="_5052">Notably it turns off spelling from parts of the document like URLs and code which would otherwise contain many false positive spelling errors.</div></li><li id="_5053"><div class="p" id="_5054"><a href="_raw/vim/snippets/ourbigbook.snippets">vim/snippets/ourbigbook.snippets</a>: snippets for <a href="https://github.com/honza/vim-snippets">github.com/honza/vim-snippets</a>, which you also have to install first for them to work.</div><div class="p" id="_5055">For example, with those snippets installed, you can easily create links to headers. Suppose you have:<div class="code" id="_5056"><div><pre><code>= My long header</code></pre></div></div>To create an <a href="#internal-link">internal link</a> to it you can:<div class="list"><ul id="_5057"><li id="_5058">copy <code>My long header</code> to the clipboard, see copy to clipboard shortcuts at: <a href="https://stackoverflow.com/questions/3961859/how-to-copy-to-clipboard-in-vim/67890119#67890119">stackoverflow.com/questions/3961859/how-to-copy-to-clipboard-in-vim/67890119#67890119</a></li><li id="_5059">type <code>\x</code> and then hit tab</li></ul></div>and it will automatically expand to:<div class="code" id="_5060"><div><pre><code>\x[my-long-header]</code></pre></div></div>This provides a reasonable alternative for ID calculation, until a ctags-like setup gets implemented (never/<a href="#browser-editor-with-preview">browser editor with preview</a>-only? ;-))</div><div class="p" id="_5061">Similarly for <a href="#h-parent-argument"><code>\H</code> <code>parent</code> argument</a> you can do:<div class="code" id="_5062"><div><pre><code>{p</code></pre></div></div>would expand to:<div class="code" id="_5063"><div><pre><code>{parent=my-long-header}</code></pre></div></div></div><div class="p" id="_5064">Syntax highlighting can likely never be perfect without a full parser (which is slow), but even the imperfect approximate setup (as provided for most other languages) is already a huge usability improvement.</div><div class="p" id="_5065">We will attempt to err on the side of "misses some stuff but does not destroy the entire page below" whenever possible.</div></li><li id="_5066">mappings:<div class="list"><ul id="_5067"><li id="_5068"><code>&lt;leader&gt;f</code>, which usually means <code>,f</code> (comma then F): start searching for a header in the current file. Does a regular <code>/</code> search without opening any windows, to is it very ligthweight. Mnemonic: "Find".</li><li id="_5069"><div class="p" id="_5070"><code>&lt;leader&gt;h</code> (requires <a href="https://github.com/tpope/vim-fugitive">Fugitive</a> to be installed): sets up the <code>ObbGitGrep</code> command, which  searches for header across all git tracked files in the current Git repository. After <code>,g</code> you are left in the prompt with:<div class="code" id="_5071"><div><pre><code>ObbGitGrep</code></pre></div></div>so if you complete that by:<div class="code" id="_5072"><div><pre><code>ObbGitGrep animal kingdom</code></pre></div></div>it will match headers that start with <code>animal kingdoom</code> case insentively, e.g.:<div class="code" id="_5073"><div><pre><code>= Animal kingdom tree
= Animal kingdom book</code></pre></div></div>Vim regular expressions are accepted, e.g. if you don't want it to start with the search pattern:<div class="code" id="_5074"><div><pre><code>ObbGitGrep .*animal kingdom</code></pre></div></div>The command opens a new tab (technically a "Vim error window") containing all matches, where you can click Enter to open one of them.</div><div class="p" id="_5075">Mnemonic: "Header search".</div></li></ul></div></li></ul></div></div><div class="p" id="_5076">A simple way to develop is to edit the Vundle repository directly under <code>~/.vim/bundle/ourbigbook</code>.</div><div class="h" id="browser-editor-with-preview"><div class="notnav"><h4><a href="browser-editor-with-preview">Browser editor with preview</a></h4><span class="hover-meta"> <a class="split" href="browser-editor-with-preview"></a><span class="metrics"><span class="wcntr"> Words: 349</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#editor-support" class="u"> Editor support</a><a href="#_toc/browser-editor-with-preview" class="toc"></a></div></nav></div><div class="p" id="_5077">There are two versions of this editor:<div class="list"><ul id="_5078"><li id="_5079"><a href="#static-editor">static editor</a>: a browser-only toy/demo with no persistent storage</li><li id="_5080"><a href="#web-editor">web editor</a>: this is editor present in <a href="#ourbigbook-web">OurBigBook Web</a>. It is linked to the database, and has further features added on top of the <a href="#static-editor">static editor</a>.</li></ul></div></div><div class="p" id="_5081">Issues for the editor are being tracked under: <a href="https://github.com/ourbigbook/ourbigbook/labels/web-editor">github.com/ourbigbook/ourbigbook/labels/web-editor</a></div><div class="p" id="_5082">We must achieve an editor setup with synchronized live side-by-side preview.</div><div class="p" id="_5083">Likely, we will first do a non WYSIWYG editor with side by side preview with scroll sync.</div><div class="p" id="_5084">Then, if the project picks up steam, we can start considering a full WYSIWYG.</div><div class="p" id="_5085">It would be amazing to have a WebKit interface that works both on browser for the and locally.</div><div class="p" id="_5086">Possibilities we could reuse:<div class="list"><ul id="_5087"><li id="_5088">CKeditor <a href="https://ckeditor.com/">ckeditor.com/</a> Used e.g. by Trilium Notes.</li><li id="_5089"><div class="p" id="_5090">Editor.js</div><div class="p" id="_5091">Returns JSON AST!</div><div class="list"><ul id="_5092"><li id="_5093">website: <a href="https://editorjs.io/">editorjs.io/</a></li><li id="_5094">source: <a href="https://github.com/codex-team/editor.js">github.com/codex-team/editor.js</a></li><li id="_5095">WYSIWYG: yes</li><li id="_5096">preview scroll sync: yes</li></ul></div></li><li id="_5097">StackEdit<div class="list"><ul id="_5098"><li id="_5099">markup implementation: PageDown</li><li id="_5100">website: <a href="https://stackedit.io">stackedit.io</a></li><li id="_5101">source: <a href="https://github.com/benweet/stackedit">github.com/benweet/stackedit</a></li><li id="_5102">demo: <a href="https://stackedit.io/app">stackedit.io/app</a></li><li id="_5103">WYSIWYG: no</li><li id="_5104">preview scroll sync: yes</li></ul></div></li><li id="_5105">Editor.md<div class="list"><ul id="_5106"><li id="_5107">website: <a href="https://github.com/pandao/editor.md">github.com/pandao/editor.md</a></li><li id="_5108">source: <a href="https://github.com/pandao/editor.md">github.com/pandao/editor.md</a></li><li id="_5109">demo: <a href="https://pandao.github.io/editor.md">pandao.github.io/editor.md</a></li><li id="_5110">WYSIWYG: no</li><li id="_5111">preview scroll sync: yes but buggy when tested 2019-12-12 on live website</li></ul></div></li><li id="_5112"><div class="p" id="_5113"><a href="https://github.com/markdown-it/markdown-it">markdown-it</a></div><div class="p" id="_5114">Custom editor and highlight via <a href="https://github.com/highlightjs/highlight.js/">highlight.js</a>.</div><div class="list"><ul id="_5115"><li id="_5116">markup implementation: custom</li><li id="_5117">website: <a href="https://markdown-it.github.io">markdown-it.github.io</a></li><li id="_5118">source: <a href="https://github.com/markdown-it/markdown-it">github.com/markdown-it/markdown-it</a></li><li id="_5119">WYSIWYG: no</li><li id="_5120">preview scroll sync: yes</li><li id="_5121">editor hangs on large input: yes</li></ul></div></li><li id="_5122">Quill.md<div class="list"><ul id="_5123"><li id="_5124">website: <a href="https://quilljs.com">quilljs.com</a></li><li id="_5125">source: <a href="https://github.com/quilljs/quill/">github.com/quilljs/quill/</a></li><li id="_5126">demo: <a href="https://pandao.github.io/editor.md">pandao.github.io/editor.md</a></li><li id="_5127">WYSIWYG: yes</li><li id="_5128">markdown output: no <a href="https://github.com/quilljs/quill/issues/74">github.com/quilljs/quill/issues/74</a></li></ul></div></li><li id="_5129"><a href="https://ui.toast.com/tui-editor/">ui.toast.com/tui-editor/</a></li><li id="_5130"><a href="https://www.froala.com/wysiwyg-editor">www.froala.com/wysiwyg-editor</a></li></ul></div></div><div class="h" id="static-editor"><div class="notnav"><h5><a href="static-editor">Static editor <span class="meta">(editor.html)</span></a></h5><span class="hover-meta"> <a class="split" href="static-editor"></a><span class="metrics"><span class="wcntr"> Words: 120</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#browser-editor-with-preview" class="u"> Browser editor with preview</a><a href="#_toc/static-editor" class="toc"></a></div></nav></div><div class="p" id="_5132">The "static editor" is the <a href="#browser-editor-with-preview">Browser editor with preview</a>.</div><div class="p" id="_5133">It can be viewed live at: <a href="https://docs.ourbigbook.com/_obb/dist/editor">docs.ourbigbook.com/_obb/dist/editor</a> and its main source code is located at: <a href="_raw/editor.html">editor.html</a>.</div><div class="p" id="_5134">The static editor is a browser-only toy/demo with no persistent storage. We call it "static" because it is able to run on a <a href="#p-publish">static website</a>, as opposed to the more advanced editor present in <a href="#ourbigbook-web">OurBigBook Web</a>, which interacts fully with a dynamic database. Both static and dynamic editor codebases are highly factored however, which is why they look identical.</div><div class="p" id="_5135">That editor can be viewed directly locally with:<div class="code" id="_5136"><div><pre><code>git clone https://github.com/ourbigbook/ourbigbook
cd ourbigbook
npm install
npm run build-assets
firefox dist/editor.html</code></pre></div></div></div><div class="p" id="_5137">You can also speed up the interactive development loop of editor.html with:<div class="code" id="_5138"><div><pre><code>npm run webpack-dev</code></pre></div></div>as usual when dealing with the <a href="#dist-directory"><code>dist</code> directory</a>.</div><div class="h" id="web-editor"><div class="notnav"><h5><a href="web-editor">Web editor</a></h5><span class="hover-meta"> <a class="split" href="web-editor"></a><span class="metrics"><span class="wcntr"> Words: 36</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#browser-editor-with-preview" class="u"> Browser editor with preview</a><a href="#_toc/web-editor" class="toc"></a></div></nav></div><div class="p" id="_5139">This is editor present in <a href="#ourbigbook-web">OurBigBook Web</a>. It is linked to the database, and has further features added on top of the <a href="#static-editor">static editor</a>.</div><div class="figure"><figure id="image-web-editor"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/cirosantilli-derivative.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/cirosantilli-derivative.png" loading="lazy" height="800"  class="border"></a></div><figcaption><a href="#image-web-editor"><span class="caption-prefix">Figure 69. </span></a><div class="title">Web editor</div>. Editing the source of the page: <a href="https://ourbigbook.com/cirosantilli/derivative">ourbigbook.com/cirosantilli/derivative</a></figcaption></figure></div><div class="figure"><figure id="image-web-editor-metadata-tab"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/cirosantilli-derivative-metadata.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/web-editor/cirosantilli-derivative-metadata.png" loading="lazy" height="400"  class="border"></a></div><figcaption><a href="#image-web-editor-metadata-tab"><span class="caption-prefix">Figure 70. </span></a><div class="title">Web editor metadata tab</div>. Editing the source of the page: <a href="https://ourbigbook.com/cirosantilli/derivative">ourbigbook.com/cirosantilli/derivative</a></figcaption></figure></div><div class="h" id="error-reporting"><div class="notnav"><h3><a href="error-reporting">Error reporting</a></h3><span class="hover-meta"> <a class="split" href="error-reporting"></a><span class="metrics"><span class="wcntr"> Words: 366</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#tooling" class="u"> Tooling</a><a href="#_toc/error-reporting" class="toc"></a></div></nav></div><div class="p" id="_5140">A lot of effort has been put into making error reporting as good as possible in OurBigBook, to allow authors to quickly find what is wrong with their source code.</div><div class="p" id="_5141">Error reporting is for example tested with <code>assert_error</code> tests in <a href="_raw/test.js">test.js</a>.</div><div class="p" id="_5142">Please report any error reporting bug you find, as it will be seriously tracked under the: <a href="https://github.com/ourbigbook/ourbigbook/issues?q=label%3Aerror-reporting+"><code>error-reporting</code> label</a>.</div><div class="p" id="_5143">Notably, OurBigBook should never throw an exception due to a syntax error, as that prevents error messages from being output at all.</div><div class="h" id="order-of-reported-errors"><div class="notnav"><h4><a href="order-of-reported-errors">Order of reported errors</a></h4><span class="hover-meta"> <a class="split" href="order-of-reported-errors"></a><span class="metrics"><span class="wcntr"> Words: 284</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#error-reporting" class="u"> Error reporting</a><a href="#_toc/order-of-reported-errors" class="toc"></a></div></nav></div><div class="p" id="_5144">One important philosophy of the error reporting is that the very first message should be the root cause of the problem whenever possible: users should not be forced to search a hundred messages to find the root cause. In this way, the procedure:<div class="list"><ul id="_5145"><li id="_5146">solve the first error</li><li id="_5147">reconvert</li><li id="_5148">solving the new first error</li><li id="_5149">reconvert</li><li id="_5150">etc.</li></ul></div>should always deterministically lead to a resolution of all problems.</div><div class="p" id="_5151">Error messages are normally sorted by file, line and column, regardless of which conversion stage they happened (e.g. a tokeniser error first gets reported before a parser error).</div><div class="p" id="_5152">There is however one important exception to that: broken <a href="#internal-link">internal links</a> are always reported last.</div><div class="p" id="_5153">For example, consider the following syntactically wrong document:<div class="code" id="_5154"><div><pre><code>= a

\x[b]

``
== b</code></pre></div></div>Here we have an unterminated code block at line 5.</div><div class="p" id="_5155">However, this unterminated code block leads the header <code>b</code> not to be seen, and therefore the reference <code>\x[b]</code> on line 3 to fail.</div><div class="p" id="_5156">Therefore, if we sorted naively by line, the broken reference would shoe up first:<div class="code" id="_5157"><div><pre><code>error: tmp.bigb:3:3: internal link to unknown id: "b"
error: tmp.bigb:5:1: unterminated literal argument</code></pre></div></div></div><div class="p" id="_5158">But in a big document, this case could lead to hundreds of undefined references to show up before the actual root unterminated literal problem.:<div class="code" id="_5159"><div><pre><code>error: tmp.bigb:3:3: internal link \x to unknown id: "b"
error: tmp.bigb:4:3: internal link \x to unknown id: "b"
error: tmp.bigb:5:3: internal link \x to unknown id: "b"
...
error: tmp.bigb:1000:1: unterminated literal argument</code></pre></div></div></div><div class="p" id="_5160">Therefore, we force undefined references to show up last to prevent this common problem:<div class="code" id="_5161"><div><pre><code>error: tmp.bigb:1000:1: unterminated literal argument
error: tmp.bigb:3:3: intenal link \x to unknown id: "b"
error: tmp.bigb:4:3: intenal link \x to unknown id: "b"
error: tmp.bigb:5:3: intenal link \x to unknown id: "b"
...</code></pre></div></div></div><div class="h" id="security"><div class="notnav"><h2><a href="security">Security</a></h2><span class="hover-meta"> <a class="split" href="security"></a><span class="metrics"><span class="wcntr"> Words: 206</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/security" class="toc"></a></div></nav></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#unsafe-ace"><code>--unsafe-ace</code></a></li></ul></div></div><div class="h" id="arbitrary-code-execution"><div class="notnav"><h3><a href="arbitrary-code-execution">Arbitrary code execution</a></h3><span class="hover-meta"> <a class="split" href="arbitrary-code-execution"></a><span class="metrics"><span class="wcntr"> Words: 97</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#security" class="u"> Security</a><a href="#_toc/arbitrary-code-execution" class="toc"></a></div></nav></div><div class="p" id="_5162">OurBigBook is designed to not allow arbitrary code execution by default on any <a href="#ourbigbook-cli">OurBigBook CLI</a> command.</div><div class="p" id="_5163">This means that it it should be safe to just download any untrusted OurBigBook repository, and convert it with <a href="#ourbigbook-cli">OurBigBook CLI</a>, even if you don't trust its author.</div><div class="p" id="_5164">In order to allow code execution for pre/post processing tasks e.g. from <a href="#ourbigbook-json/prepublish"><code>prepublish</code></a>, use the <a href="#unsafe-ace"><code>--unsafe-ace</code></a> option.</div><div class="p" id="_5165">Note however that you have to be careful in general, since e.g. a malicious author could create a package with their own malicious version of the <code>ourbigbook</code> executable, that you could unknowingly run with with the standard <code>npx ourbigbook</code> execution.</div><div class="h" id="unsafexss"><div class="notnav"><h3><a href="unsafexss">unsafeXss <span class="meta">(<code>--unsafe-xss</code>)</span></a></h3><span class="hover-meta"> <a class="split" href="unsafexss"></a><span class="metrics"><span class="wcntr"> Words: 109</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#security" class="u"> Security</a><a href="#_toc/unsafexss" class="toc"></a></div></nav></div><div class="p" id="_5167">OurBigBook HTML output is designed to be XSS safe by default, any non-XSS safe constructs must be enabled with a non-default flag or setting, see: <a href="#unsafexss">unsafeXss</a>.</div><div class="p" id="_5168">Of course, we are walking on eggs, and this is hard to assert, so the best thing to do later on will be to parse the output e.g. with <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser"><code>DOMParser</code></a> to ensure that it is valid and does not contain any <code>script</code> tags, but it is not as simple as that: <a href="https://stackoverflow.com/questions/37435077/execute-javascript-for-xss-without-script-tags/61588322#61588322">stackoverflow.com/questions/37435077/execute-javascript-for-xss-without-script-tags/61588322#61588322</a></div><div class="p" id="_5169">XSS unsafe constructs lead to errors by default. XSS unsafe constructs can be allowed <a href="#ourbigbook-cli">from the command</a> line with:<div class="code" id="_5170"><div><pre><code>./ourbigbook --unsafe-xss</code></pre></div></div>or from the <a href="#ourbigbook-json"><code>ourbigbook.json</code></a> file with an entry of form:<div class="code" id="_5171"><div><pre><code>"unsafeXss": true</code></pre></div></div></div><div class="h" id="contact"><div class="notnav"><h2><a href="contact">Contact</a></h2><span class="hover-meta"> <a class="split" href="contact"></a><span class="metrics"><span class="wcntr"> Words: 11</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/contact" class="toc"></a></div></nav></div><div class="list"><ul id="_5172"><li id="_5173"><a href="https://github.com/ourbigbook/ourbigbook/issues">github.com/ourbigbook/ourbigbook/issues</a> for any public contact, see also: <a href="#ourbigbook-issue-tracker">Section "OurBigBook issue tracker"</a></li><li id="_5174">for private contact email: <code>admin@ourbigbook.com</code></li></ul></div><div class="h" id="ourbigbook-issue-tracker"><div class="notnav"><h3><a href="ourbigbook-issue-tracker">OurBigBook issue tracker</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-issue-tracker"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#contact" class="u"> Contact</a><a href="#_toc/ourbigbook-issue-tracker" class="toc"></a></div></nav></div><div class="p" id="_5175"><a href="https://github.com/ourbigbook/ourbigbook/issues">github.com/ourbigbook/ourbigbook/issues</a></div><div class="h" id="developing-ourbigbook"><div class="notnav"><h2><a href="developing-ourbigbook">Developing OurBigBook</a></h2><span class="hover-meta"> <a class="split" href="developing-ourbigbook"></a><span class="metrics"><span class="wcntr"> Words: 12k</span><span class="dcnt"> Articles: 100</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/developing-ourbigbook" class="toc"></a></div></nav></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#developing-the-visual-studio-code-extension">Developing the Visual Studio Code extension</a></li></ul></div></div><div class="h" id="license"><div class="notnav"><h3><a href="license">License</a></h3><span class="hover-meta"> <a class="split" href="license"></a><span class="metrics"><span class="wcntr"> Words: 289</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/license" class="toc"></a></div></nav></div><div class="p" id="_5176">All our software is licensed by under the GNU Affero General Public License (AGPL): <a href="_raw/LICENSE.txt">LICENSE.txt</a> unless otherwise noted. This license basically means that if you use this software then you must publish any changes you make to it, even if you use it only in your own servers that serve external requests without publishing the software.</div><div class="h" id="contributor-license-agreement"><div class="notnav"><h4><a href="contributor-license-agreement">Contributor License Agreement <span class="meta">(CLA)</span></a></h4><span class="hover-meta"> <a class="split" href="contributor-license-agreement"></a><span class="metrics"><span class="wcntr"> Words: 234</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#license" class="u"> License</a><a href="#_toc/contributor-license-agreement" class="toc"></a></div></nav></div><div class="p" id="_5178">We require all contributions to give the OurBigBook Project non-exclusive rights to their contributions.</div><div class="p" id="_5179">This means that contributors retain their copyright, and may reuse their part of the code as they see fit under additional licenses beyond AGPL, but so can the OurBigBook Project.</div><div class="p" id="_5180">The AGPL can of course cannot never be revoked once it has been applied. This only means that copyright owners may at any point also release their IP under another license.</div><div class="p" id="_5181">The main rationale for this right now is to allow the OurBigBook Project the flexibility to one day allow someone to pay for a license that doesn't require releasing their source code under the AGPL without having to get all contributors ever to agree. This scenario is very unlikely to ever happen.</div><div class="p" id="_5182">The <a href="">OurBigBook Projects</a>'s commitment is and always will be to provide free education for all, and we have no plans to ever make anything closed source. But if it ever happens that we absolutely run out of the only way to achieve the goals of free education is to make concessions and allow enterprise users to pay for using the site for their purposes, which is not the case at this point, we would like to keep that door open.</div><div class="p" id="_5183">Such CLA would also make it easier for the OurBigBook Project to be able to fight in court to enforce the AGPL's term's should that need ever arise.</div><div class="h" id="run-ourbigbook-master"><div class="notnav"><h3><a href="run-ourbigbook-master">Run OurBigBook master</a></h3><span class="hover-meta"> <a class="split" href="run-ourbigbook-master"></a><span class="metrics"><span class="wcntr"> Words: 275</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/run-ourbigbook-master" class="toc"></a></div></nav></div><div class="p" id="_5184">Install master globally on your machine:<div class="code" id="_5185"><div><pre><code>git clone https://github.com/ourbigbook/ourbigbook
cd ourbigbook
npm link
npm link ourbigbook
npm run build-assets</code></pre></div></div>so you can now run the <code>ourbigbook</code> command from any directory in your computer, for example to convert the ourbigbook documentation itself:<div class="code" id="_5186"><div><pre><code>ourbigbook .</code></pre></div></div>Note that this repository uses <a href="#ourbigbook-json/outputoutoftree"><code>outputOutOfTree</code></a>, and so the output will be present at <code>_out/html/index.html</code> rather than <code>index.html</code>.</div><div class="p" id="_5187">We also have a shortcut for <code>npm link</code> and <code>npm link ourbigbook</code>:<div class="code" id="_5188"><div><pre><code>npm run link</code></pre></div></div></div><div class="p" id="_5189"><code>npm run link</code> produces symlinks so that any changes made to the Git source tree will automatically be visible globally, see also: <a href="https://stackoverflow.com/questions/28440893/install-a-locally-developed-npm-package-globally">stackoverflow.com/questions/28440893/install-a-locally-developed-npm-package-globally</a> The symlink structure looks like:<div class="code" id="_5190"><div><pre><code>/home/ciro/ourbigbook/node_modules/ourbigbook -&gt; /home/ciro/.nvm/versions/node/v14.17.0/lib/node_modules/ourbigbook -&gt; /home/ciro/ourbigbook</code></pre></div></div></div><div class="p" id="_5191">As mentioned at <a href="#useless-knowledge">useless knowledge</a>, most users don't want global installations of OurBigBook. But this can be handy during development, as you can immediately see how your changes to OurBigBook source code affect your complex example of interest. For example, Ciro developed a lot of OurBigBook by hacking <a href="https://github.com/cirosantilli/cirosantilli.github.io">github.com/cirosantilli/cirosantilli.github.io</a> directly with OurBigBook <code>master</code>.</div><div class="p" id="_5192">Just remember that if you add a new dependency, you must redo the symlinking business:<div class="code" id="_5193"><div><pre><code>npm install &lt;dependency&gt;
npm run link</code></pre></div></div>Asked if there is a better way at: <a href="https://stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo">stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo</a>. The symlink business can be undone with:<div class="code" id="_5194"><div><pre><code>npm unlink
rm node_modules/ourbigbook</code></pre></div></div></div><div class="h" id="run-an-isolated-ourbigbook-master"><div class="notnav"><h4><a href="run-an-isolated-ourbigbook-master">Run an isolated OurBigBook master</a></h4><span class="hover-meta"> <a class="split" href="run-an-isolated-ourbigbook-master"></a><span class="metrics"><span class="wcntr"> Words: 72</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#run-ourbigbook-master" class="u"> Run OurBigBook master</a><a href="#_toc/run-an-isolated-ourbigbook-master" class="toc"></a></div></nav></div><div class="p" id="_5195"><a href="#run-ourbigbook-master">Run OurBigBook master</a> mentions how to install and then run OurBigBook master globally, which is useful build some projects locally on master.</div><div class="p" id="_5196">To instead install locally in the current directory only instead, which can be useful for bisection:<div class="code" id="_5197"><div><pre><code>npm install
ln -s .. node_modules/ourbigbook
npm run build-assets</code></pre></div></div></div><div class="p" id="_5198">You can now run tests as:<div class="code" id="_5199"><div><pre><code>npm test</code></pre></div></div>or the executable interactively as:<div class="code" id="_5200"><div><pre><code>./ourbigbook .</code></pre></div></div>It also works from a subdirectory:<div class="code" id="_5201"><div><pre><code>mkdir -p tmp
cd tmp
../ourbigbook .</code></pre></div></div></div><div class="h" id="test-system"><div class="notnav"><h3><a href="test-system">Test system</a></h3><span class="hover-meta"> <a class="split" href="test-system"></a><span class="metrics"><span class="wcntr"> Words: 797</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/test-system" class="toc"></a></div></nav></div><div class="p" id="_5202">Run all tests:<div class="code" id="_5203"><div><pre><code>npm test</code></pre></div></div></div><div class="p" id="_5204">To run all tests on PostgreSQL as in the <a href="#ourbigbook-web">OurBigBook Web</a>, first setup the PostgreSQL database similarly to <a href="#local-run-as-identical-to-deployment-as-possible">local run as identical to deployment as possible</a>:<div class="code" id="_5205"><div><pre><code>createdb ourbigbook_cli
psql -c "CREATE ROLE ourbigbook_user with login password 'a'"
psql -c 'GRANT ALL PRIVILEGES ON DATABASE ourbigbook_cli TO ourbigbook_user'
psql -c 'GRANT ALL ON SCHEMA public TO ourbigbook_user'
psql -c 'GRANT USAGE ON SCHEMA public TO ourbigbook_user'
psql -c 'ALTER DATABASE ourbigbook_cli OWNER TO ourbigbook_user'</code></pre></div></div>This got really annoying with PostgreSQL 15: <a href="https://stackoverflow.com/questions/67276391/why-am-i-getting-a-permission-denied-error-for-schema-public-on-pgadmin-4">stackoverflow.com/questions/67276391/why-am-i-getting-a-permission-denied-error-for-schema-public-on-pgadmin-4</a> And then run with:<div class="code" id="_5206"><div><pre><code>npm run test-pg</code></pre></div></div></div><div class="p" id="_5207">List all tests:<div class="code" id="_5208"><div><pre><code>node node_modules/mocha-list-tests/mocha-list-tests.js main.js</code></pre></div></div>as per: <a href="https://stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986">stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986</a>.</div><div class="p" id="_5209">Run just one test by name:<div class="code" id="_5210"><div><pre><code>npm test -- -g 'one paragraph'</code></pre></div></div>or on PostgreSQL:<div class="code" id="_5211"><div><pre><code>npm run test-pg -- -g 'one paragraph'</code></pre></div></div>As per: <a href="https://stackoverflow.com/questions/10832031/how-to-run-a-single-test-with-mocha">stackoverflow.com/questions/10832031/how-to-run-a-single-test-with-mocha</a> todo: what if the test name is a substring? You will want these Bash aliases:<div class="code" id="_5212"><div><pre><code>npmtg() ( npm test -- -g "$*" )
npmtpg() ( npm run test-pg -- -g "$*" )</code></pre></div></div>which allos you to just:<div class="code" id="_5213"><div><pre><code>npmtg one paragraph
npmtpg one paragraph</code></pre></div></div></div><div class="p" id="_5214">Run all tests that don't start with <code>cli:</code>:<div class="code" id="_5215"><div><pre><code>npm test -- -g '^(?!cli:)'</code></pre></div></div>This works because <code>-g</code> takes JavaScript regular expressions, so we can use negative lookahead, see also: <a href="https://stackoverflow.com/questions/26908288/with-mocha-how-do-i-run-all-tests-that-dont-have-slow-in-the-name">stackoverflow.com/questions/26908288/with-mocha-how-do-i-run-all-tests-that-dont-have-slow-in-the-name</a></div><div class="h" id="inspect-the-database-after-a-test"><div class="notnav"><h4><a href="inspect-the-database-after-a-test">Inspect the database after a test</a></h4><span class="hover-meta"> <a class="split" href="inspect-the-database-after-a-test"></a><span class="metrics"><span class="wcntr"> Words: 80</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#test-system" class="u"> Test system</a><a href="#_toc/inspect-the-database-after-a-test" class="toc"></a></div></nav></div><div class="p" id="_5216">Suppose you selected a single test:<div class="code" id="_5217"><div><pre><code>npm test -- -g 'cli: empty document'</code></pre></div></div>and want to inspect the <a href="#cross-file-internal-link-internals">ID database</a> database status.</div><div class="p" id="_5218">On SQLite it is not currently possible as tests run on a temporary in-memory database. TODO create a way.</div><div class="p" id="_5219">On PostgreSQL, you can just inspect the <code>ourbigbook_cli</code> table with the <code>psql</code> command line executable, e.g..<div class="code" id="_5220"><div><pre><code>psql ourbigbook_cli -c 'select * from "Id"'</code></pre></div></div>That table is used to run each test, and will contain the contents of the last test executed.</div><div class="h" id="step-debug-when-running-a-test"><div class="notnav"><h4><a href="step-debug-when-running-a-test">Step debug when running a test</a></h4><span class="hover-meta"> <a class="split" href="step-debug-when-running-a-test"></a><span class="metrics"><span class="wcntr"> Words: 154</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#test-system" class="u"> Test system</a><a href="#_toc/step-debug-when-running-a-test" class="toc"></a></div></nav></div><div class="p" id="_5221">Step debug during a test run. Add the statement:<div class="code" id="_5222"><div><pre><code>debugger;</code></pre></div></div>to where you want to break in the code, and then run:<div class="code" id="_5223"><div><pre><code>npm run testi -- -g 'p with id before'</code></pre></div></div>where <code>i</code> in <code>testi</code> stands for <code>inspect</code> from <code>node inspect</code>. Also consider the alias:<div class="code" id="_5224"><div><pre><code>npmtgi() ( npm run testi -- -g "$*" )</code></pre></div></div></div><div class="p" id="_5225">Note however that this does not work for tests that run the <code>ourbigbook</code> executable itself, since those spawn a separate process. TODO how to do it? Tried along:<div class="code" id="_5226"><div><pre><code>const out = child_process.spawnSync('node', ['inspect', 'ourbigbook'].concat(options.args), {
  cwd: tmpdir,
  input: options.stdin,
  stdio: 'inherit',
});</code></pre></div></div>but not working, related: <a href="https://stackoverflow.com/questions/23612087/gulp-target-to-debug-mocha-tests">stackoverflow.com/questions/23612087/gulp-target-to-debug-mocha-tests</a> So for now, we are just printing the command being run as in:<div class="code" id="_5227"><div><pre><code>cmd: cd _out/test/executable-ourbigbook.json-outputOutOfTree &amp;&amp; ourbigbook --split-headers .</code></pre></div></div>so you can just re-run it manually with <code>node inspect</code> as in:<div class="code" id="_5228"><div><pre><code>cd _out/test/executable-ourbigbook.json-outputoutoftree &amp;&amp; node inspect "../../../ourbigbook" --split-headers .</code></pre></div></div>This works since the <code>tmp</code> directory is not deleted in case of failure.</div><div class="h" id="lib-vs-cli-tests"><div class="notnav"><h4><a href="lib-vs-cli-tests"><code>lib:</code> vs <code>cli:</code> tests</a></h4><span class="hover-meta"> <a class="split" href="lib-vs-cli-tests"></a><span class="metrics"><span class="wcntr"> Words: 373</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#test-system" class="u"> Test system</a><a href="#_toc/lib-vs-cli-tests" class="toc"></a></div></nav></div><div class="p" id="_5229">There are two types of test in our test suite:<div class="list"><ul id="_5230"><li id="_5231"><div class="p" id="_5232">tests that call the <code>ourbigbook.convert</code> <a href="#ourbigbook-library">JavaScript API</a> directly.<br>These tests are prefixed with <code>lib: </code></div><div class="p" id="_5233">These tests don't actually create files in the filesystem, and just mock the filesystem instead with a dictionary.</div><div class="p" id="_5234">Database access is not mocked however, we just use Sqlite's fantastic in-memory mode.</div><div class="p" id="_5235">Whenever possible, these tests check their results just from the <a href="#abstract-syntax-tree">abstract syntax tree</a> tree returned by the API, which is cleaner than parsing the HTML. But sometimes HTML parsing is inevitable.</div></li><li id="_5236">tests that call the <a href="#ourbigbook-cli"><code>ourbigbook</code> executable</a> itself:<div class="list"><ul id="_5237"><li id="_5238">their titles are prefixed with <code>cli: </code></li><li id="_5239">they tend to be a lot slower than the API test</li><li id="_5240">can test functionality that is done outside of the <code>ourbigbook.convert</code> JavaScript API, notably stuff prevent in ourbigbook, so they are more end to end</li><li id="_5241"><div class="p" id="_5242">don't do any mocking, and could therefore be more representative.</div><div class="p" id="_5243">However, as of 2022, we have basically eliminated all the hard database access mocking and are using the main database methods directly.</div><div class="p" id="_5244">So all that has to be mocked is basically stuff done in the ourbigbook executable itself.</div><div class="p" id="_5245">This means that except for more specific options, the key functionality of ourbigbook, which is to convert multiple paths, can be done very well in a non executable test.</div><div class="p" id="_5246">The only major difference is that instead of passing command line arguments like in <code>ourbigbook .</code> to convert multiple files in a directory, you have to use <code>convert_before</code> and <code>convert_before_norender</code> and specify conversion order one by one.</div><div class="p" id="_5247">This test robustness is new as of 2022, and many tests were previously written with executable that would now also work as unit tests, and we generally want that to be the case to make the tests go faster.</div></li><li id="_5248"><div class="p" id="_5249">work by creating an actual physical filesystem under <code>_out/test/&lt;normalized-test-title&gt;</code> with the OurBigBook files and other files like <code>ourbigbook.json</code>, and then running the executable on that directory.</div><div class="p" id="_5250"><code>npm test</code> first deletes the <code>_out/test</code> directory before running the tests. After running, the generated files are kept so you can inspect them to help debug any issues.</div></li><li id="_5251">all these tests check their results by parsing the HTML and searching for elements, since here we don't have access to the <a href="#abstract-syntax-tree">abstract syntax tree</a>. It wouldn't be impossible to obtain it however, as it is likely already JSON serializable.</li></ul></div></li></ul></div></div><div class="h" id="overview-of-files-in-this-repository"><div class="notnav"><h3><a href="overview-of-files-in-this-repository">Overview of files in this repository</a></h3><span class="hover-meta"> <a class="split" href="overview-of-files-in-this-repository"></a><span class="metrics"><span class="wcntr"> Words: 407</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/overview-of-files-in-this-repository" class="toc"></a></div></nav></div><div class="p" id="_5252">Source files:<div class="list"><ul id="_5253"><li id="_5254"><a href="#_file/index.js">index.js</a>: main <a href="#ourbigbook-markup">OurBigBook Markup</a> conversion code</li><li id="_5255"><a href="_raw/ourbigbook">ourbigbook</a>: CLI executable. Is basically just a CLI interface frontend to <code>convert</code></li><li id="_5256"><a href="_raw/test.js">test.js</a>: contains all the Mocha tests, see also: <a href="#test-system">test system</a></li><li id="_5257"><a href="_raw/README.md">README.md</a>: minimal Markdown README until GitHub / NPM support OurBigBook :-)</li><li id="_5258"><a href="_raw/ourbigbook_runtime.js">ourbigbook_runtime.js</a>: <a href="#runtime-feature">runtime features</a></li><li id="_5259"><a href="_raw/main.scss">main.scss</a> this file simply contains the customized CSS for <a href="https://docs.ourbigbook.com/">docs.ourbigbook.com/</a> and does not get otherwise distributed with OurBigBook, see: <a href="#css">CSS</a></li></ul></div></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#_file/index.js">index.js</a></li></ul></div></div><div class="h" id="generated-files"><div class="notnav"><h4><a href="generated-files">Generated files</a></h4><span class="hover-meta"> <a class="split" href="generated-files"></a><span class="metrics"><span class="wcntr"> Words: 280</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#overview-of-files-in-this-repository" class="u"> Overview of files in this repository</a><a href="#_toc/generated-files" class="toc"></a></div></nav></div><div class="h" id="dist-directory"><div class="notnav"><h5><a href="dist-directory"><code>dist</code> directory</a></h5><span class="hover-meta"> <a class="split" href="dist-directory"></a><span class="metrics"><span class="wcntr"> Words: 241</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#generated-files" class="u"> Generated files</a><a href="#_toc/dist-directory" class="toc"></a></div></nav></div><div class="p" id="_5260"><code>dist/</code> contains fully embedded packaged versions that work on browsers as per common JavaScript package naming convention. All the following files are generated with Webpack with:<div class="code" id="_5261"><div><pre><code>npm run webpack</code></pre></div></div>which is called from <code>npm run build-assets</code>.</div><div class="p" id="_5262">When publishing with <a href="#ourbigbook-cli">OurBigBook CLI</a>, <code>dist</code> is placed under the <a href="#obb-directory"><code>_obb</code> directory</a>.</div><div class="p" id="_5263">The files in that directory are:<div class="list"><ul id="_5264"><li id="_5265"><code>dist/ourbigbook.js</code>: OurBigBook <a href="#ourbigbook-library">JavaScript API</a> converter for browser usage. The source entry point for it is located at <a href="_raw/index.js">index.js</a>. Contains the code of every single dependency used from <code>node_modules</code> used by <code>index.js</code>. This is notably used for the live-preview of a <a href="#browser-editor-with-preview">browser editor with preview</a>.</li><li id="_5266"><code>dist/ourbigbook_runtime.js</code>: similar <code>dist/ourbigbook.js</code>, but contains the converted output of <a href="_raw/ourbigbook_runtime.js">ourbigbook_runtime.js</a>. You should include this in every OurBigBook HTML output.</li><li id="_5267"><code>dist/ourbigbook.css</code>: minimized CSS needed to view OurBigBook output as intended. Embeds all OurBigBook CSS dependencies, notably the KaTeX CSS without which <a href="#mathematics">mathematics</a> displays as garbage. The Sass entry point for it is: <a href="_raw/ourbigbook.scss">ourbigbook.scss</a>.</li><li id="_5268"><code>dist/editor_css.css</code>: the CSS of the editor, rendered from <a href="_raw/editor.scss">editor.scss</a>.</li></ul></div></div><div class="p" id="_5269">To develop these files, you absolutely want to use:<div class="code" id="_5270"><div><pre><code>npm run webpack-dev</code></pre></div></div>This runs Webpack in development mode, which has two huge advantages:<div class="list"><ul id="_5271"><li id="_5272">almost instantaneous compilation, as opposed to the unbearable 5 seconds+ of an optimized build</li><li id="_5273">source maps are enabled, so you can see the fully: <a href="https://blog.jakoblind.no/debug-webpack-app-browser/">blog.jakoblind.no/debug-webpack-app-browser/</a></li></ul></div><code>npm run webpack-dev</code> also enables watch mode, so it keeps running until you turn it off.</div><div class="p" id="_5274">This setup also works seamlessly when <a href="#ourbigbook-web-development">developing OurBigBook Web</a>, just let the watch process run in a separate terminal.</div><div class="h" id="obb-directory"><div class="notnav"><h5><a href="obb-directory"><code>_obb</code> directory</a></h5><span class="hover-meta"> <a class="split" href="obb-directory"></a><span class="metrics"><span class="wcntr"> Words: 39</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#generated-files" class="u"> Generated files</a><a href="#_toc/obb-directory" class="toc"></a></div></nav></div><div class="p" id="_5275">When publishing with <a href="#ourbigbook-cli">OurBigBook CLI</a>, certain files such as the <a href="#dist-directory"><code>dist</code> directory</a> are placed under the <a href="#obb-directory"><code>_obb</code> directory</a> on the final output.</div><div class="p" id="_5276">Because <code>_obb</code> is a <a href="#reserved-ids">reserved ID</a>, we can safely dump any autogenerated files under <code>_obb</code> without fear of name conflicts with other files.</div><div class="h" id="the-out-directory"><div class="notnav"><h4><a href="the-out-directory">The <code>_out</code> directory</a></h4><span class="hover-meta"> <a class="split" href="the-out-directory"></a><span class="metrics"><span class="wcntr"> Words: 72</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#overview-of-files-in-this-repository" class="u"> Overview of files in this repository</a><a href="#_toc/the-out-directory" class="toc"></a></div></nav></div><div class="p" id="_5277">OurBigBook stores some metadata and outputs it generates/needs inside the <code>./_out/</code> directory that it creates inside the <a href="#outdir"><code>--outdir &lt;outdir&gt;</code></a>.</div><div class="p" id="_5278">Overview of files it contains:<div class="list"><ul id="_5279"><li id="_5280"><code>db.sqlite3</code>: <a href="#cross-file-internal-link-internals">cross file internal link internals</a></li><li id="_5281"><code>publish</code>: a git clone of the source of the main repository to ensure that untracked files won't accidentally go into the output<div class="list"><ul id="_5282"><li id="_5283"><code>publish/_out/db.sqlite3</code>: like <code>_out/db.sqlite3</code> but from the clean clone of <code>_out/publish</code></li><li id="_5284"><code>publish/_out/publish</code>: the final generated output directory that gets published, e.g. as in <a href="#publish-to-github-pages">publish to GitHub Pages</a></li></ul></div></li></ul></div></div><div class="h" id="conversion-process-overview"><div class="notnav"><h3><a href="conversion-process-overview">Conversion process overview</a></h3><span class="hover-meta"> <a class="split" href="conversion-process-overview"></a><span class="metrics"><span class="wcntr"> Words: 1k</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/conversion-process-overview" class="toc"></a></div></nav></div><div class="p" id="_5285">A conversion follows the following steps done for each file to be converted:<div class="list"><ul id="_5286"><li id="_5287">tokenizer. Reads the input and converts it to a linear list of tokens.</li><li id="_5288">parser. Reads the list of tokens and converts it into an <a href="#abstract-syntax-tree">abstract syntax tree</a>. Parse can be called multiple times recursively when doing things like.</li><li id="_5289"><div class="p" id="_5290">ast post process pass 1.</div><div class="p" id="_5291">An ast post process pass takes abstract syntax tree that comes out of a previous step, e.g. the original parser output, and modifies the it tree to achieve various different functionalities.</div><div class="p" id="_5292">We may need iterate the tree multiple times to achieve all desired effects, at the time of writing it was done twice. Each iteration is called pass.</div><div class="p" id="_5293">You can view snapshots of the tree after each pass with the <a href="#log"><code>--log</code></a> option:<div class="code" id="_5294"><div><pre><code>ourbigbook --log=ast-pp-simple input.bigb</code></pre></div></div></div><div class="p" id="_5295">This first pass basically does few but very wide reacing operations that will determine what data we will have to fetch from the database during the followng DB queries step.</div><div class="p" id="_5296">It might also do some operations that are required for pass 2 but that don't necessarily fetch data, not sure anymore.</div><div class="p" id="_5297">E.g. this is where the following functionality are implemented:<div class="list"><ul id="_5298"><li id="_5299"><a href="#h-synonym-argument">synonym</a> and <a href="#h-scope-argument">scope</a></li><li id="_5300"><a href="#ourbigbookexample"><code>\OurBigBookExample</code></a> and <a href="#embed-includes"><code>--embed-includes</code></a>: they are stitched into the main AST</li></ul></div></div></li><li id="_5301">ast post process pass 2: we now do every other post process operation that was not done in pass 1, e.g.:<div class="list"><ul id="_5302"><li id="_5303"><a href="#macro-shorthand-syntax">shorthand</a> paragraphs, lists and tables</li></ul></div></li><li id="_5304">ast post process pass 3: this does some minimal tree hierarchy linking between parents and children. TODO could it be merged into 2? Feels likely</li><li id="_5305"><div class="p" id="_5306">render, which converts our AST tree into a output string. This is run once for the toplevel, and once for every header of the document if <a href="#split-headers"><code>-S</code>, <code>--split-headers</code></a> are enabled. We need to do this because header renders are different from their toplevel counterparts, e.g. their first paragraph has id <code>p-1</code> and not <code>p-283</code>. All of those renders are done from the same parsed tree however, parsing happens only once.</div><div class="p" id="_5307">This step is skipped when using the <a href="#no-render"><code>--no-render</code></a> option, or during <a href="#id-extraction">ID extraction</a>.</div><div class="p" id="_5308">TODO it is intended that it should not be possible for there to be rendering errors once the previous steps have concluded successfully. This is currently not the case for at least one known scenario however: <a href="#internal-link">internal links</a> that are not defined.</div><div class="p" id="_5309">Sub-steps include:<div class="list"><ul id="_5310"><li id="_5311"><div class="p" id="_5312">DB queries: this is the first thing we do during the rendering step.</div><div class="p" id="_5313">Every single database query must be done at this point, in one go.</div><div class="p" id="_5314">Database queries are only done while rendering, never when parsing. The database is nothing but a cache for source file state, and this separation means that we can always cache input source state into the database during parsing without relying on the database itself, and thus preventing any circular dependencies from parsing to parsing.<a href="https://cirosantilli.com/china-dictatorship/reddit"><sup class="ref">[ref]</sup></a></div><div class="p" id="_5315">Keeping all queries together is fundamental for performance reasons, especially of <a href="#browser-editor-with-preview">browser editor with preview</a> in the <a href="#ourbigbook-web">OurBigBook Web</a>: imagine doing 100 scattered server queries:<div class="code" id="_5316"><div><pre><code>SELECT * from Ids WHERE id = '0'
SELECT * from Ids WHERE id = '1'
...
SELECT * from Ids WHERE id = '100'</code></pre></div></div>vs grouping them together:<div class="code" id="_5317"><div><pre><code>SELECT * from Ids WHERE id IN ('0', '1', ..., '100')</code></pre></div></div>It also has the benefit of allowing us to remove <code>async</code>/<code>await</code> from almost every single function in the code, which considerably slows down the CPU-bound execution path.</div><div class="p" id="_5318">As an added bonus, it also allows us to clearly see the impact of database queries when using <a href="#log-perf"><code>--log perf</code></a>.</div><div class="p" id="_5319">We call this joining up of small queries into big ones "query bundling".</div></li></ul></div></div></li><li id="_5320"><div class="p" id="_5321">at the every end of the conversion, we then save the database changes calculated during parsing and post processing back to the DB so that the conversion of other files will pick them up.</div><div class="p" id="_5322">Just like for the SELECT, we do a single large INSERT/UPDATE query per database to reduce the round trips.</div></li></ul></div></div><div class="p" id="_5323">Conversion of a directory with multiple input files works as follows:<div class="list"><ul id="_5324"><li id="_5325">do one <a href="#id-extraction">ID extraction</a> pass without render</li><li id="_5326">do a global database check/fixup for all files that have been parsed which checks in one go for:<div class="list"><ul id="_5327"><li id="_5328"><div class="p" id="_5329">check that all <a href="#internal-link">internal link</a> targets exist.</div><div class="p" id="_5330">When using the <a href="#x-magic-argument"><code>\x</code> <code>magic</code> argument</a>:<div class="list"><ul id="_5331"><li id="_5332">only one of the plural/singular needs to exist</li><li id="_5333">we then decide which one to use and delete the other one. Both are initially placed in the database during the <a href="#id-extraction">ID extraction</a> phase.</li></ul></div></div></li><li id="_5334">duplicate IDs</li><li id="_5335">references from one non-header title to another non-header title as mentioned at <a href="#x-within-title-restrictions"><code>\x</code> within <code>title</code> restrictions</a></li></ul></div>Ideally, failure of any of the above checks should lead to the database not being updated with new values, but that is not the case as of writing.</li><li id="_5336">do one conversion pass with render. To speed up conversion, we might at some point start storing a parsed JSON after the first conversion pass, and then just deserialize it and convert the deserialized output directly without re-parsing.</li></ul></div>The two pass approach is required to resolve <a href="#internal-link">internal links</a></div><div class="h" id="id-extraction"><div class="notnav"><h4><a href="id-extraction">ID extraction</a></h4><span class="hover-meta"> <a class="split" href="id-extraction"></a><span class="metrics"><span class="wcntr"> Words: 21</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#conversion-process-overview" class="u"> Conversion process overview</a><a href="#_toc/id-extraction" class="toc"></a></div></nav></div><div class="p" id="_5337">One of the main two passes done during conversion, where the files are parsed and all references stored in the database.</div><div class="h" id="abstract-syntax-tree"><div class="notnav"><h4><a href="abstract-syntax-tree">Abstract syntax tree <span class="meta">(AST)</span></a></h4><span class="hover-meta"> <a class="split" href="abstract-syntax-tree"></a><span class="metrics"><span class="wcntr"> Words: 265</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#conversion-process-overview" class="u"> Conversion process overview</a><a href="#_toc/abstract-syntax-tree" class="toc"></a></div></nav></div><div class="p" id="_5339">The implementation of much of the functionality of OurBigBook involves manipulating the abstract syntax tree.</div><div class="p" id="_5340">The structure of the AST is as follows:<div class="list"><ul id="_5341"><li id="_5342"><code>AstNode</code>: contains a map from argument names to the values of each argument, which are of type AstArgument</li><li id="_5343"><div class="p" id="_5344"><code>AstArgument</code>: contains a list of <code>AstNode</code>. These are generally just joined up on the output, one after the other.</div><div class="p" id="_5345">One important exception to this are plaintext nodes. These nodes contain just raw strings instead of a list of arguments. They are usually the leaf nodes.</div></li></ul></div></div><div class="p" id="_5346">We can easily observe the AST of an input document by using the <a href="#log"><code>--log</code></a> following log options:<div class="code" id="_5347"><div><pre><code>ourbigbook --log=ast-simple input.bigb
ourbigbook --log=ast input.bigb</code></pre></div></div></div><div class="p" id="_5348">For example, the document:<div class="code" id="_5349"><div><pre><code>= My title
{c}

A link to \x[another-title]{c}{p} and more text.

== Another title</code></pre></div></div>produces with <code>--log=ast-simple</code> the following output:<div class="code" id="_5350"><div><pre><code>ast Toplevel
  arg content
    ast H id="tmp"
      arg c
      arg level
        ast plaintext "1"
      arg numbered
        ast plaintext "0"
      arg scope
        ast plaintext "0"
      arg splitDefault
        ast plaintext "0"
      arg synonym
        ast plaintext "0"
      arg title
        ast plaintext "My title"
    ast P id="p-1"
      arg content
        ast plaintext "A link to "
        ast x
          arg c
          arg child
            ast plaintext "0"
          arg full
            ast plaintext "0"
          arg href
            ast plaintext "another-title"
          arg p
          arg parent
            ast plaintext "0"
          arg ref
            ast plaintext "0"
        ast plaintext " and more text."
    ast Toc id="toc"
    ast H id="another-title"
      arg c
        ast plaintext "0"
      arg level
        ast plaintext "2"
      arg numbered
        ast plaintext "0"
      arg scope
        ast plaintext "0"
      arg splitDefault
        ast plaintext "0"
      arg synonym
        ast plaintext "0"
      arg title
        ast plaintext "Another title"</code></pre></div></div></div><div class="h" id="autogenerated-tests"><div class="notnav"><h4><a href="autogenerated-tests">Autogenerated tests</a></h4><span class="hover-meta"> <a class="split" href="autogenerated-tests"></a><span class="metrics"><span class="wcntr"> Words: 59</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#conversion-process-overview" class="u"> Conversion process overview</a><a href="#_toc/autogenerated-tests" class="toc"></a></div></nav></div><div class="p" id="_5351">The following scripts generate parametrized OurBigBook examples that can be used for performance or other types of interactive testing:<div class="list"><ul id="_5352"><li id="_5353"><div class="p" id="_5354"><a href="_raw/generate-deep-tree">generate-deep-tree</a>:</div><div class="code" id="_5355"><div><pre><code>./generate-deep-tree 2 5 &gt; deep_tree.tmp.bigb
./ourbigbook deep_tree.tmp.bigb</code></pre></div></div><div class="p" id="_5356">Originally designed to be able to interactively play with a huge <a href="#table-of-contents">table of contents</a> to streamline JavaScript open close interaction.</div></li></ul></div></div><div class="h" id="generate-paragraphs"><div class="notnav"><h5><a href="generate-paragraphs">generate-paragraphs</a></h5><span class="hover-meta"> <a class="split" href="generate-paragraphs"></a><span class="metrics"><span class="wcntr"> Words: 15</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#autogenerated-tests" class="u"> Autogenerated tests</a><a href="#_toc/generate-paragraphs" class="toc"></a></div></nav></div><div class="code" id="_5357"><div><pre><code>./generate-paragraphs 10 &gt; main.bigb</code></pre></div></div><div class="p" id="_5358">Output:<div class="code" id="_5359"><div><pre><code>0

1

2

3

4

5

6

7

8

9</code></pre></div></div></div><div class="h" id="pretty-print-html"><div class="notnav"><h3><a href="pretty-print-html">Pretty print HTML</a></h3><span class="hover-meta"> <a class="split" href="pretty-print-html"></a><span class="metrics"><span class="wcntr"> Words: 42</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/pretty-print-html" class="toc"></a></div></nav></div><div class="p" id="_5360">We have stopped making any effort to generate nicely indented HTML output as it just felt not worth it.</div><div class="p" id="_5361">Instead, if you want to debug some badly formatted HTML you can just use our pre-installed js-beautify dependency, e.g. with:<div class="code" id="_5362"><div><pre><code>npx js-beautify _out/html/index.html</code></pre></div></div></div><div class="h" id="performance"><div class="notnav"><h3><a href="performance">Performance</a></h3><span class="hover-meta"> <a class="split" href="performance"></a><span class="metrics"><span class="wcntr"> Words: 503</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/performance" class="toc"></a></div></nav></div><div class="p" id="_5363">To log some performance statistics, use: <a href="#performance-log">performance log</a>.</div><div class="h" id="speed-comparison-to-other-markup-language-implementations"><div class="notnav"><h4><a href="speed-comparison-to-other-markup-language-implementations">Speed comparison to other markup language implementations</a></h4><span class="hover-meta"> <a class="split" href="speed-comparison-to-other-markup-language-implementations"></a><span class="metrics"><span class="wcntr"> Words: 130</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#performance" class="u"> Performance</a><a href="#_toc/speed-comparison-to-other-markup-language-implementations" class="toc"></a></div></nav></div><div class="p" id="_5364">One quick and dirty option is to use <code>generate-paragraphs</code> which generates output compatible for most markup languages:<div class="code" id="_5365"><div><pre><code>./generate-paragraphs 100000 &gt; tmp.bigb</code></pre></div></div></div><div class="p" id="_5366">On Ubuntu 20.04 <a href="https://cirosantilli.com/linux-kernel-module-cheat/#p51">Lenovo ThinkPad P51</a> for example:<div class="list"><ul id="_5367"><li id="_5368">OurBigBook 54ba49736323264a5c66aa5d419f8232b4ecf8d0 + 1, Node.js v12.18.1<div class="code" id="_5369"><div><pre><code>time ./ourbigbook tmp.bigb</code></pre></div></div>outputs:<div class="code" id="_5370"><div><pre><code>real    0m5.104s
user    0m6.323s
sys     0m0.674s</code></pre></div></div></li><li id="_5371">Asciidoctor 2.0.10, Ruby 2.6.0p0:<div class="code" id="_5372"><div><pre><code>cp tmp.bigb tmp.adoc
time asciidoctor tmp.adoc</code></pre></div></div>outputs:<div class="code" id="_5373"><div><pre><code>real    0m1.911s
user    0m1.850s
sys     0m0.060s</code></pre></div></div></li><li id="_5374"><a href="https://github.com/commonmark/cmark">cmark</a> 0.29.0:<div class="code" id="_5375"><div><pre><code>cp tmp.bigb tmp.md
time cmark tmp.md &gt; tmp.md.html</code></pre></div></div>outputs:<div class="code" id="_5376"><div><pre><code>real    0m0.091s
user    0m0.070s
sys     0m0.021s</code></pre></div></div>Holy cow, it is 200x faster than Asciidoctor!</li><li id="_5377"><a href="https://github.com/markdown-it/markdown-it">markdown-it</a> at 5789a3fe9693aa3ef6aa882b0f57e0ea61efafc0 to get an idea of a JavaScript markdown implementation:<div class="code" id="_5378"><div><pre><code>time markdown-it tmp.md &gt; tmp.md.html</code></pre></div></div>outputs:<div class="code" id="_5379"><div><pre><code>real    0m0.361s
user    0m0.590s
sys     0m0.060s</code></pre></div></div></li><li id="_5380"><code>cat</code> just to find the absolute floor:<div class="code" id="_5381"><div><pre><code>time cat tmp.bigb &gt; tmp.tmp</code></pre></div></div>outputs:<div class="code" id="_5382"><div><pre><code>real    0m0.006s
user    0m0.006s
sys     0m0.000s</code></pre></div></div></li></ul></div></div><div class="h" id="performance-log"><div class="notnav"><h4><a href="performance-log">Performance log</a></h4><span class="hover-meta"> <a class="split" href="performance-log"></a><span class="metrics"><span class="wcntr"> Words: 366</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#performance" class="u"> Performance</a><a href="#_toc/performance-log" class="toc"></a></div></nav></div><div class="p" id="_5383">On P51:</div><div class="list"><ul id="_5384"><li id="_5385"><div class="p" id="_5386"><code>time ./ourbigbook --no-render . &amp;&amp; time ./ourbigbook -S --log=perf index.bigb</code>:</div><div class="list"><ul id="_5387"><li id="_5388"><div class="p" id="_5389">ourbigbook 39e633f08b2abce10331b884c04d70dbe6d4565a before moving OurBigBook to Sequelize: 14s<div class="code" id="_5390"><div><pre><code>convert index.bigb
perf start 248.0712810009718
perf tokenize_pre 248.36641899868846
perf tokenize_post 2027.6697090007365
perf parse_start 2028.678952999413
perf post_process_start 2684.3162699975073
perf post_process_end 5017.946601998061
perf split_render_pre 6572.925067000091
perf render_pre 5018.202895000577
perf render_2_pre undefined
perf render_post 13093.658641997725
perf end 13126.138450000435
perf convert_input_end 14281.568749997765
perf convert_path_pre_sqlite 14281.64151499793
perf convert_path_pre_sqlite_transaction 14281.835940998048
perf convert_path_post_sqlite_transaction 14551.673818998039
perf convert_path_end 14551.860617998987
convert index.bigb finished in 14309.703324001282 ms
perf convert_path_to_file_end 14552.230636000633

real    0m14.602s
user    0m16.500s
sys     0m1.832</code></pre></div></div></div><div class="p" id="_5391"><code>sqlite3 _out/db.sqlite3 .schema</code><div class="code" id="_5392"><div><pre><code>CREATE TABLE IF NOT EXISTS 'ids' (
        id TEXT PRIMARY KEY,
        path TEXT,
        ast_json TEXT
      );
CREATE TABLE IF NOT EXISTS 'includes' (
        from_id TEXT,
        from_path TEXT,
        to_id TEXT,
        type TINYINT
      );
CREATE INDEX includes_from_path
      ON includes(from_path);
CREATE INDEX includes_from_id_type
      ON includes(from_id, type);
CREATE TABLE IF NOT EXISTS 'files' (
        path TEXT PRIMARY KEY,
        toplevel_id TEXT UNIQUE
      );</code></pre></div></div></div></li></ul></div><div class="list"><ul id="_5393"><li id="_5394"><div class="p" id="_5395">ourbigbook 8e6a4311f7debd079721412e1ea5d647cc1c2941 after, OMG gotta debug perf now:<div class="code" id="_5396"><div><pre><code>real    0m29.595s
user    0m34.095s
sys     0m4.427s

convert index.bigb
perf start_convert undefined
perf tokenize_pre 411.71094800531864
perf tokenize_post 2265.3646410033107
perf parse_start 2266.436312004924
perf post_process_start 2905.8304330036044
perf post_process_end 12113.761793002486
perf split_render_pre 16534.5258340016
perf render_pre 12114.092462003231
perf render_post 40937.611143000424
perf end_convert undefined
perf convert_input_end 42042.85608199984
perf convert_path_pre_sqlite 42042.92515899986
perf convert_path_pre_sqlite_transaction 42147.847070001066
perf convert_path_post_sqlite_transaction 42732.242132000625
perf convert_path_end 42732.35991900414
convert index.bigb finished in 42327.62727500498 ms
perf convert_path_to_file_end 42732.534088000655

real    0m42.779s
user    0m46.530s
sys     0m6.945s</code></pre></div></div></div><div class="p" id="_5397"><code>sqlite3 _out/db.sqlite3 .schema</code><div class="code" id="_5398"><div><pre><code>CREATE TABLE `Files` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `path` TEXT NOT NULL UNIQUE, `toplevel_id` TEXT UNIQUE);
CREATE TABLE sqlite_sequence(name,seq);
CREATE INDEX `files_path` ON `Files` (`path`);
CREATE INDEX `files_toplevel_id` ON `Files` (`toplevel_id`);
CREATE TABLE `Ids` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `idid` TEXT NOT NULL UNIQUE, `path` TEXT NOT NULL, `ast_json` TEXT NOT NULL);
CREATE INDEX `ids_path` ON `Ids` (`path`);
CREATE TABLE `Refs` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `from_id` TEXT NOT NULL, `from_path` TEXT NOT NULL, `to_id` TEXT NOT NULL, `type` TINYINT NOT NULL);
CREATE INDEX `refs_from_path` ON `Refs` (`from_path`);
CREATE INDEX `refs_from_id_type` ON `Refs` (`from_id`, `type`);
CREATE INDEX `refs_to_id_type` ON `Refs` (`to_id`, `type`);</code></pre></div></div></div><div class="p" id="_5399">The question is: is it because we added <code>async</code> Everywhere, or is it because of changes in the database queries?</div><div class="p" id="_5400">Answering the question: added old DB at: <a href="https://github.com/ourbigbook/ourbigbook/tree/async-slow-old-db">github.com/ourbigbook/ourbigbook/tree/async-slow-old-db</a> and it is fast again. So DB debugging it is, hurray.</div></li></ul></div></li></ul></div><div class="h" id="internals-api"><div class="notnav"><h3><a href="internals-api">Internals API</a></h3><span class="hover-meta"> <a class="split" href="internals-api"></a><span class="metrics"><span class="wcntr"> Words: 327</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/internals-api" class="toc"></a></div></nav></div><div class="p" id="_5401">Tokenized token stream and AST can be obtained as JSON from the API.</div><div class="p" id="_5402">Errors can be obtained as JSON from the API.</div><div class="p" id="_5403">Everything that you need to write OurBigBook tooling, is present in the main API.</div><div class="p" id="_5404">All tooling will be merged into one single repo.</div><div class="h" id="toplevel"><div class="notnav"><h4><a href="toplevel">The <code>\Toplevel</code> implicit macro</a></h4><span class="hover-meta"> <a class="split" href="toplevel"></a><span class="metrics"><span class="wcntr"> Words: 103</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internals-api" class="u"> Internals API</a><a href="#_toc/toplevel" class="toc"></a></div></nav></div><div class="p" id="_5405">Every OurBigBook document is implicitly put inside a <code>\Toplevel</code> document and:<div class="list"><ul id="_5406"><li id="_5407">any optionally given arguments at the very beginning of the document will be treated as arguments of the <code>\Toplevel</code> macro</li><li id="_5408">anything else will be put inside the <a href="#content-argument"><code>content</code> argument</a> of the <code>\Toplevel</code> macro</li></ul></div></div><div class="p" id="_5409">E.g., a OurBigBook document that contains:<div class="code" id="_5410"><div><pre><code>{title=My favorite title}

And now, some content!</code></pre></div></div></div><div class="p" id="_5411">is morally equivalent to:<div class="code" id="_5412"><div><pre><code>\Toplevel{title=My favorite title}
[
And now, some content!
]</code></pre></div></div>In terms of HTML, the <code>\Toplevel</code> element corresponds to the <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;header&gt;</code> and <code>&lt;footer&gt;</code> elements of a document.</div><div class="p" id="_5413">Trying to use the <code>\Toplevel</code> macro explicitly in a document leads to an error.</div><div class="h" id="html-document-title"><div class="notnav"><h4><a href="html-document-title">HTML document title</a></h4><span class="hover-meta"> <a class="split" href="html-document-title"></a><span class="metrics"><span class="wcntr"> Words: 31</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internals-api" class="u"> Internals API</a><a href="#_toc/html-document-title" class="toc"></a></div></nav></div><div class="list"><ul id="_5414"><li id="_5415">if the <code>title</code> argument of <code>toplevel</code> is given, use that</li><li id="_5416">otherwise, if the document has a <code>\H[1]</code>, use the title of the first such header</li><li id="_5417">otherwise use a dummy value</li></ul></div><div class="h" id="adding-your-first-macro"><div class="notnav"><h4><a href="adding-your-first-macro">Adding your first macro</a></h4><span class="hover-meta"> <a class="split" href="adding-your-first-macro"></a><span class="metrics"><span class="wcntr"> Words: 148</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#internals-api" class="u"> Internals API</a><a href="#_toc/adding-your-first-macro" class="toc"></a></div></nav></div><div class="p" id="_5418">To add your own macro, try to copy from another existing macro that feels the closest in functionality.</div><div class="p" id="_5419">For example, suppose we want something similar to <a href="#line-break">line break</a>. So let's grep:</div><div class="code" id="_5420"><div><pre><code>git grep '\bbr\b'</code></pre></div></div><div class="p" id="_5421">Grep currently gives:</div><div class="code" id="_5422"><div><pre><code>index.js:8018:    'br',
index.js:8841:        'br': function(ast, context) { return '&lt;br&gt;' },
index.js:9792:        'br': function(ast, context) { return '\n'; },
index.js:10289:        'br': ourbigbookConvertSimpleElem,
test_bigb_output.bigb:71:br:
test_bigb_output.bigb:74:aa\br
test_bigb_output.bigb:75:bb\br
test_bigb_output.bigb:79:asdf\br
test_bigb_output.bigb:98:Non-br macro without arguments\i</code></pre></div></div><div class="p" id="_5423">All functionality is contained in <a href="#_file/index.js">index.js</a> as expected. Expanding the hits a but further we see:</div><div class="p" id="_5424"><div class="code" id="_5425"><div><pre><code>const DEFAULT_MACRO_LIST = [
  new Macro(
    'br',
    [],
    {
      phrasing: true,
    }
  ),

const OUTPUT_FORMATS_LIST = [

  new OutputFormat(
    OUTPUT_FORMAT_HTML,
      ext: HTML_EXT,
      convert_funcs: {
        'br': function(ast, context) { return '&lt;br&gt;' },

    OUTPUT_FORMAT_ID,
    {
      ext: 'id',
      convert_funcs: {
        'br': function(ast, context) { return '\n'; },

  new OutputFormat(
    OUTPUT_FORMAT_OURBIGBOOK,
    {
      ext: OURBIGBOOK_EXT,
      convert_funcs: {
        'br': ourbigbookConvertSimpleElem,</code></pre></div></div>so it should be quick direct to see what is going on from this.</div><div class="h" id="css"><div class="notnav"><h3><a href="css">CSS</a></h3><span class="hover-meta"> <a class="split" href="css"></a><span class="metrics"><span class="wcntr"> Words: 134</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/css" class="toc"></a></div></nav></div><div class="p" id="_5426">Our CSS is located at <a href="_raw/main.scss">main.scss</a> and gets processed through <a href="https://sass-lang.com">Sass</a>.</div><div class="p" id="_5427">To generate the CSS during development after any changes to that file, you must run:<div class="code" id="_5428"><div><pre><code>npm run sass</code></pre></div></div>which generates the final CSS file:<div class="code" id="_5429"><div><pre><code>main.css</code></pre></div></div></div><div class="p" id="_5430">You then need to explicitly include that <code>main.css</code> file in your <a href="#template"><code>--template</code></a>. For example, our <a href="_raw/ourbigbook.liquid.html">ourbigbook.liquid.html</a> contains a line:<div class="code" id="_5431"><div><pre><code>&lt;link rel="stylesheet" type="text/css" href="{{ root_relpath }}main.css"&gt;</code></pre></div></div>where <code>root_relpath</code> is explained under <a href="#template">Section "<code>--template</code>"</a>.</div><div class="h" id="ourbigbook-common-scss"><div class="notnav"><h4><a href="ourbigbook-common-scss"><code>ourbigbook.common.scss</code></a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-common-scss"></a><span class="metrics"><span class="wcntr"> Words: 42</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#css" class="u"> CSS</a><a href="#_toc/ourbigbook-common-scss" class="toc"></a></div></nav></div><div class="p" id="_5432">The file <code>ourbigbook.common.scss</code> contains stand-alone Sass definitions that can be used by third parties.</div><div class="p" id="_5433">One use case is to factor out OurBigBook style with the site-specific boilerplate.</div><div class="p" id="_5434">E.g. a website that stores its custom rules under <a href="_raw/main.scss">main.scss</a> can do stuff like:<div class="code" id="_5435"><div><pre><code>@import 'ourbigbook/ourbigbook.common.scss';</code></pre></div></div></div><div class="h" id="mobile-guidelines"><div class="notnav"><h4><a href="mobile-guidelines">Mobile guidelines</a></h4><span class="hover-meta"> <a class="split" href="mobile-guidelines"></a><span class="metrics"><span class="wcntr"> Words: 26</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#css" class="u"> CSS</a><a href="#_toc/mobile-guidelines" class="toc"></a></div></nav></div><div class="p" id="_5436">The main design goal on narrow screens is that there should never be horizontal scrolling enabled for the hole document, only on a per element basis.</div><div class="h" id="database-guidelines"><div class="notnav"><h3><a href="database-guidelines">Database guidelines</a></h3><span class="hover-meta"> <a class="split" href="database-guidelines"></a><span class="metrics"><span class="wcntr"> Words: 20</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/database-guidelines" class="toc"></a></div></nav></div><div class="p" id="_5437">Every foreign key should have a manually created associated index, this is not done automatically by neither PostgreSQL nor Sequelize:<div class="list"><ul id="_5438"><li id="_5439"><a href="https://stackoverflow.com/questions/970562/postgres-and-indexes-on-foreign-keys-and-primary-keys">stackoverflow.com/questions/970562/postgres-and-indexes-on-foreign-keys-and-primary-keys</a></li><li id="_5440"><a href="https://github.com/sequelize/sequelize/issues/5042">github.com/sequelize/sequelize/issues/5042</a></li></ul></div></div><div class="h" id="formal-grammar"><div class="notnav"><h3><a href="formal-grammar">Formal grammar</a></h3><span class="hover-meta"> <a class="split" href="formal-grammar"></a><span class="metrics"><span class="wcntr"> Words: 15</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/formal-grammar" class="toc"></a></div></nav></div><div class="p" id="_5441">TODO. Describe OurBigBook's formal grammar, and classify it in the grammar hierarchy and parsing complexity.</div><div class="h" id="release-procedure"><div class="notnav"><h3><a href="release-procedure">Release procedure</a></h3><span class="hover-meta"> <a class="split" href="release-procedure"></a><span class="metrics"><span class="wcntr"> Words: 355</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/release-procedure" class="toc"></a></div></nav></div><div class="h" id="do-the-release"><div class="notnav"><h4><a href="do-the-release">Do the release</a></h4><span class="hover-meta"> <a class="split" href="do-the-release"></a><span class="metrics"><span class="wcntr"> Words: 177</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#release-procedure" class="u"> Release procedure</a><a href="#_toc/do-the-release" class="toc"></a></div></nav></div><div class="p" id="_5442">This section describes the release procedure for <a href="#ourbigbook-cli">OurBigBook CLI</a>, which is an npm package. For <a href="#ourbigbook-web">OurBigBook Web</a> deployment see: <a href="#ourbigbook-web-deployment">OurBigBook Web deployment</a>.</div><div class="p" id="_5443">Before the first time you release, make sure that you can login to NPM with:<div class="code" id="_5444"><div><pre><code>npm login</code></pre></div></div>This prompts you to login via the browser with 2FA. Currently you can also tick a box to not ask again for the next 5 minutes, which should be enough for the following <a href="_raw/release">release</a> command. If you don't select this option, you will be prompted midway through the release command for login.</div><div class="p" id="_5445">Releases should always be made with the official <a href="https://www.npmjs.com/~ourbigbook-admin">www.npmjs.com/~ourbigbook-admin</a> NPM user.</div><div class="p" id="_5446">Then, every new release can be done automatically with the <a href="_raw/release">release</a> script, e.g. to release a version 0.7.2:<div class="code" id="_5447"><div><pre><code>./release 0.7.2</code></pre></div></div>or to just increment the minor version, e.g. from the current <code>0.7.1</code> to <code>0.7.2</code> you could can omit the version argument:<div class="code" id="_5448"><div><pre><code>./release</code></pre></div></div>That script does the following actions, aborting immediately if any of them fails:<div class="list"><ul id="_5449"><li id="_5450">runs <a href="#test-system">the tests</a></li><li id="_5451">publishes this documentation</li><li id="_5452">updates <code>version</code> in <code>package.json</code></li><li id="_5453">creates a release commit and a git tag for it</li><li id="_5454">pushes the source code</li><li id="_5455">publishes the NPM package</li></ul></div></div><div class="h" id="out-of-box-testing"><div class="notnav"><h4><a href="out-of-box-testing">Out-of-box testing</a></h4><span class="hover-meta"> <a class="split" href="out-of-box-testing"></a><span class="metrics"><span class="wcntr"> Words: 57</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#release-procedure" class="u"> Release procedure</a><a href="#_toc/out-of-box-testing" class="toc"></a></div></nav></div><div class="p" id="_5456">After publishing, a good minimal sanity check is to ensure that you can render the template as mentioned in <a href="#play-with-the-template">play with the template</a>:<div class="code" id="_5457"><div><pre><code>cd ~
# Get rid of the global npm link development version just to make sure it is not being used.
npm uninstall -g ourbigbook
git clone https://github.com/ourbigbook/template
cd template
npm install
npx ourbigbook .
firefox _out/html/index.html</code></pre></div></div></div><div class="h" id="visual-studio-code-extension-release-procedure"><div class="notnav"><h4><a href="visual-studio-code-extension-release-procedure">Visual Studio Code extension release procedure</a></h4><span class="hover-meta"> <a class="split" href="visual-studio-code-extension-release-procedure"></a><span class="metrics"><span class="wcntr"> Words: 121</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#release-procedure" class="u"> Release procedure</a><a href="#_toc/visual-studio-code-extension-release-procedure" class="toc"></a></div></nav></div><div class="p" id="_5458">The <a href="#visual-studio-code">VS Code extension</a> is automatically updated and released by the standard release procedure: <a href="#do-the-release">Section "Do the release"</a>.</div><div class="p" id="_5459">This is done so that the extension always includes the latest version of the ourbigbook package.</div><div class="p" id="_5460">This is not ideal as we would like for the extension to use the ourbigbook package version specified on each project's package.json.</div><div class="p" id="_5461">However that is not easy to achieve, because in some cases we need to refactor ourbigbook to allow for a new extension feature, creating incompatibilities.</div><div class="p" id="_5462">So for now, we ignore the problem and take the "easy to get started" approach of "always ship ourbigbook with the extension".</div><div class="p" id="_5463">If changes are made only to the extension, it is also possible to release a new version of the extension alone with <a href="_raw/release-vscode">release-vscode</a>:</div><div class="code" id="_5464"><div><pre><code>./relese-vscode</code></pre></div></div><div class="h" id="ourbigbook-media-repository"><div class="notnav"><h3><a href="ourbigbook-media-repository">OurBigBook media repository</a></h3><span class="hover-meta"> <a class="split" href="ourbigbook-media-repository"></a><span class="metrics"><span class="wcntr"> Words: 52</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/ourbigbook-media-repository" class="toc"></a></div></nav></div><div class="p" id="_5465">The repository <a href="https://github.com/ourbigbook/ourbigbook-media">github.com/ourbigbook/ourbigbook-media</a> contains media for the project such as for documentation and <a href="#publicity">publicity</a></div><div class="p" id="_5466">It was created to keep blobs out of this repository.</div><div class="p" id="_5467">Some blobs were unfortunately added to this repository earlier on, but when we saw that we would need more and more, we made the sane call and forked that out.</div><div class="h" id="project-governance"><div class="notnav"><h3><a href="project-governance">Project governance</a></h3><span class="hover-meta"> <a class="split" href="project-governance"></a><span class="metrics"><span class="wcntr"> Words: 287</span><span class="dcnt"> Articles: 8</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/project-governance" class="toc"></a></div></nav></div><div class="p" id="_5468">The <a href="">OurBigBook Project</a> currently has a single top level executive, the <a href="#ourbigbook-admin">OurBigBook Admin</a>, who has ultimate power over the project.</div><div class="p" id="_5469">There is currently no legal incorporated entity.</div><div class="p" id="_5470">These will likely change if the project ever gets any traction, but for now things are being ran in an informal manner only.</div><div class="h" id="team"><div class="notnav"><h4><a href="team">Team</a></h4><span class="hover-meta"> <a class="split" href="team"></a><span class="metrics"><span class="wcntr"> Words: 95</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-governance" class="u"> Project governance</a><a href="#_toc/team" class="toc"></a></div></nav></div><div class="h" id="ciro-santilli"><div class="notnav"><h5><a href="ciro-santilli">Ciro Santilli</a></h5><span class="hover-meta"> <a class="split" href="ciro-santilli"></a><span class="metrics"><span class="wcntr"> Words: 95</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#team" class="u"> Team</a><a href="#_toc/ciro-santilli" class="toc"></a></div></nav></div><div class="p" id="_5471"><a href="#ciro-santilli">Ciro Santilli</a> is the founder and Absolute Magnanimous All Powerful Eternal Ruler (AMAPER) of the OurBigBook Project.</div><div class="p" id="_5472">Ciro is a passionate about<div class="list"><ul id="_5473"><li id="_5474">free education that allows learners to progress as fast as they want</li><li id="_5475"><a href="https://ourbigbook.com/go/topic/user-generated-content">User Generated Content</a>, which allows anyone to be the teacher</li></ul></div></div><div class="p" id="_5476">His motivations for starting the OurBigBook Project can be seen at: <a href="https://ourbigbook.com/cirosantilli/ourbigbook-com/philosophy">ourbigbook.com/cirosantilli/ourbigbook-com/philosophy</a></div><div class="p" id="_5477">Ciro is a big <a href="https://ourbigbook.com/go/topic/stack-overflow">Stack Overflow</a> contributor, having reached top 50 yearly reputation leagues for several consecutive years in the early 2020's: <a href="https://ourbigbook.com/cirosantilli/ciro-santilli-s-stack-overflow-contributions">ourbigbook.com/cirosantilli/ciro-santilli-s-stack-overflow-contributions</a> and he has a few 1k+ star educational GitHub repositories: <a href="https://github.com/search?o=desc&amp;q=user%3Acirosantilli&amp;s=stars&amp;type=Repositories">github.com/search?o=desc&amp;q=user%3Acirosantilli&amp;s=stars&amp;type=Repositories</a>.</div><div class="list"><ul id="_5478"><li id="_5479"><a href="#ourbigbook-com">OurBigBook.com</a>: <a href="https://ourbigbook.com/cirosantilli">ourbigbook.com/cirosantilli</a></li><li id="_5480">Homepage: <a href="https://cirosantilli.com">cirosantilli.com</a></li><li id="_5481">GitHub: <a href="https://github.com/cirosantilli">github.com/cirosantilli</a></li><li id="_5482">LinkedIn: <a href="https://www.linkedin.com/in/cirosantilli">www.linkedin.com/in/cirosantilli</a></li><li id="_5483">Twitter: <a href="https://twitter.com/cirosantilli">twitter.com/cirosantilli</a></li><li id="_5484"><a href="https://ourbigbook.com/go/topic/stack-overflow">Stack Overflow</a>; <a href="https://stackoverflow.com/users/895245">stackoverflow.com/users/895245</a></li></ul></div><div class="figure"><figure id="image-ciro-santilli-wearing-the-sacred-ourbigbook-project-hoodie"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/hoodie-front.jpg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/hoodie-front.jpg" loading="lazy" height="800"></a></div><figcaption><a href="#image-ciro-santilli-wearing-the-sacred-ourbigbook-project-hoodie"><span class="caption-prefix">Figure 71. </span></a><div class="title">Ciro Santilli wearing the Sacred OurBigBook Project Hoodie!</div> </figcaption></figure></div><div class="h" id="ourbigbook-admin"><div class="notnav"><h4><a href="ourbigbook-admin">OurBigBook Admin</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-admin"></a><span class="metrics"><span class="wcntr"> Words: 101</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-governance" class="u"> Project governance</a><a href="#_toc/ourbigbook-admin" class="toc"></a></div></nav></div><div class="p" id="_5485">Toplevel executive of the <a href="">OurBigBook Project</a>, who has ultimate power over the project.</div><div class="p" id="_5486">OurBigBook.com account: <a href="https://ourbigbook.com/ourbigbook">ourbigbook.com/ourbigbook</a></div><div class="p" id="_5487">GitHub account: <a href="https://github.com/ourbigbook-admin">github.com/ourbigbook-admin</a></div><div class="h" id="pinned-article"><div class="notnav"><h5><a href="pinned-article">Pinned article</a></h5><span class="hover-meta"> <a class="split" href="pinned-article"></a><span class="metrics"><span class="wcntr"> Words: 85</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-admin" class="u"> OurBigBook Admin</a><a href="#_toc/pinned-article" class="toc"></a></div></nav></div><div class="p" id="_5488"><a href="#ourbigbook-admin">OurBigBook Admins</a> can select one article from any user to be pinned to the website's "front index pages" such as the global article, <a href="#ourbigbook-web-topics">topics</a> or user indexes.</div><div class="p" id="_5489">The typical use case of this feature is to facilitate user onboarding, and it could also be used for general server announcemnets.</div><div class="p" id="_5490">To modify the pinned article, admins must visit the <a href="#site-settings-page">site settings page</a>.</div><div class="figure"><figure id="image-site-settings-link-under-the-topics-page"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/pinned-article/site-settings-button-on-topics-page-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/pinned-article/site-settings-button-on-topics-page-arrow.png" loading="lazy" height="800"  class="border"></a></div><figcaption><a href="#image-site-settings-link-under-the-topics-page"><span class="caption-prefix">Figure 72. </span></a><div class="title">Site Settings link under the topics page</div>. </figcaption></figure></div><div class="figure"><figure id="image-edit-the-pinned-article-setting-in-the-site-settings-page"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/pinned-article/site-settings-pinned-article-filled-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/pinned-article/site-settings-pinned-article-filled-arrow.png" loading="lazy" height="315"  class="border"></a></div><figcaption><a href="#image-edit-the-pinned-article-setting-in-the-site-settings-page"><span class="caption-prefix">Figure 73. </span></a><div class="title">Edit the pinned article setting in the site settings page</div>. </figcaption></figure></div><div class="figure"><figure id="image-the-selected-article-now-shows-on-the-homepage-for-all-users-to-see"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/pinned-article/pinned-article-on-topics-page-arrow.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/pinned-article/pinned-article-on-topics-page-arrow.png" loading="lazy" height="1200"  class="border"></a></div><figcaption><a href="#image-the-selected-article-now-shows-on-the-homepage-for-all-users-to-see"><span class="caption-prefix">Figure 74. </span></a><div class="title">The selected article now shows on the homepage for all users to see</div>. </figcaption></figure></div><div class="h" id="contributors"><div class="notnav"><h4><a href="contributors">Contributors</a></h4><span class="hover-meta"> <a class="split" href="contributors"></a><span class="metrics"><span class="wcntr"> Words: 44</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-governance" class="u"> Project governance</a><a href="#_toc/contributors" class="toc"></a></div></nav></div><div class="p" id="_5491">Contributors who have made any non-trivial contribution to the project will be listed here with their consent!</div><div class="p" id="_5492">Contributors are encouraged to add an intro about themselves and some profile links if they wish to their own section, but this is entirely optional.</div><div class="h" id="sidstuff"><div class="notnav"><h5><a href="sidstuff">sidstuff</a></h5><span class="hover-meta"> <a class="split" href="sidstuff"></a><span class="metrics"><span class="wcntr"> Words: 2</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#contributors" class="u"> Contributors</a><a href="#_toc/sidstuff" class="toc"></a></div></nav></div><div class="list"><ul id="_5493"><li id="_5494"><a href="#ourbigbook-com">OurBigBook.com</a>: <a href="https://ourbigbook.com/sidstuff">ourbigbook.com/sidstuff</a></li><li id="_5495">GitHub: <a href="https://github.com/sidstuff">github.com/sidstuff</a></li></ul></div><div class="figure"><figure id="_5496"><div class="float-wrap"><a href="https://avatars.githubusercontent.com/u/160637304?v=4"><img src="https://avatars.githubusercontent.com/u/160637304?v=4" loading="lazy" height="315" alt="https://avatars.githubusercontent.com/u/160637304?v=4"></a></div></figure></div><div class="h" id="implemented-by-sidstuff"><div class="notnav"><h6><a href="implemented-by-sidstuff">Implemented by sidstuff</a></h6><span class="hover-meta"> <a class="split" href="implemented-by-sidstuff"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#sidstuff" class="u"> sidstuff</a><a href="#_toc/implemented-by-sidstuff" class="toc"></a></div></nav></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="#horizontal-rule">Horizontal rule</a></li><li><a href="news#gray-on-gray-color-replaces-green-on-black-and-many-other-css-improvements">Gray on gray color replaces green on black and many other CSS improvements</a></li><li><a href="news#hr-horizontal-rule-macro-created"><code>\Hr</code> horizontal rule macro created</a></li><li><a href="news#short-url-fragments-on-ourbigbook-web">Short URL fragments on OurBigBook Web</a></li></ul></div></div><div class="h" id="proposed-by-sidstuff"><div class="notnav"><h6><a href="proposed-by-sidstuff">Proposed by sidstuff</a></h6><span class="hover-meta"> <a class="split" href="proposed-by-sidstuff"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#sidstuff" class="u"> sidstuff</a><a href="#_toc/proposed-by-sidstuff" class="toc"></a></div></nav></div><div class="h" id="publicity"><div class="notnav"><h3><a href="publicity">Publicity</a></h3><span class="hover-meta"> <a class="split" href="publicity"></a><span class="metrics"><span class="wcntr"> Words: 7k</span><span class="dcnt"> Articles: 54</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#developing-ourbigbook" class="u"> Developing OurBigBook</a><a href="#_toc/publicity" class="toc"></a></div></nav></div><div class="p"><b><span title="Tags" class="fa-solid-900 icon"></span> Tagged</b><div class="list"><ul><li><a href="news#intro-to-ourbigbook-video">Intro to OurBigBook video</a></li></ul></div></div><div class="h" id="official-accounts"><div class="notnav"><h4><a href="official-accounts">Official accounts</a></h4><span class="hover-meta"> <a class="split" href="official-accounts"></a><span class="metrics"><span class="wcntr"> Words: 51</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publicity" class="u"> Publicity</a><a href="#_toc/official-accounts" class="toc"></a></div></nav></div><div class="list"><ul id="_5497"><li id="_5498"><a href="https://OurBigBook.com">OurBigBook.com</a> (case insensitive)</li><li id="_5499"><a href="#twitter-com-ourbigbook">twitter.com/OurBigBook</a></li><li id="_5500"><a href="#mastodon-social-at-ourbigbook">mastodon.social/@OurBigBook</a>: Twitter posts are mirrored there, as Twitter had become too restrictive towards 2024, e.g. with mandatory login</li><li id="_5501"><a href="https://github.com/OurBigBook">github.com/OurBigBook</a> GitHub organization (case insensitive)</li><li id="_5502"><a href="https://www.youtube.com/@OurBigBook">www.youtube.com/@OurBigBook</a> (case insensitive)</li><li id="_5503">LinkedIn company: <a href="https://www.linkedin.com/company/ourbigbook">www.linkedin.com/company/ourbigbook</a><div class="list"><ul id="_5504"><li id="_5505">LinkedIn group: <a href="https://www.linkedin.com/groups/9164882/">www.linkedin.com/groups/9164882/</a> TODO vs the company.</li></ul></div></li><li id="_5506">Facebook:<div class="list"><ul id="_5507"><li id="_5508">page: <a href="https://www.facebook.com/OurBigBook">www.facebook.com/OurBigBook</a> (case insensitive)</li><li id="_5509">group: <a href="https://www.facebook.com/groups/OurBigBook">www.facebook.com/groups/OurBigBook</a> (case insensitive)</li></ul></div></li><li id="_5510">Discord: <code>OurBigBook#6998</code> "OurBigBook's Server" invite link: <a href="https://discord.gg/A8P5zGcWUh">discord.gg/A8P5zGcWUh</a></li><li id="_5511"><a href="https://www.instagram.com/ourbigbook">www.instagram.com/ourbigbook</a> (case insensitive)</li></ul></div><div class="h" id="twitter-com-ourbigbook"><div class="notnav"><h5><a href="twitter-com-ourbigbook">twitter.com/OurBigBook</a></h5><span class="hover-meta"> <a class="split" href="twitter-com-ourbigbook"></a><span class="metrics"><span class="wcntr"> Words: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#official-accounts" class="u"> Official accounts</a><a href="#_toc/twitter-com-ourbigbook" class="toc"></a></div></nav></div><div class="p" id="_5512"><a href="https://twitter.com/OurBigBook">twitter.com/OurBigBook</a> (case insensitive)</div><div class="h" id="mastodon-social-at-ourbigbook"><div class="notnav"><h5><a href="mastodon-social-at-ourbigbook">mastodon.social/@OurBigBook</a></h5><span class="hover-meta"> <a class="split" href="mastodon-social-at-ourbigbook"></a></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#official-accounts" class="u"> Official accounts</a><a href="#_toc/mastodon-social-at-ourbigbook" class="toc"></a></div></nav></div><div class="p" id="_5513"><a href="https://mastodon.social/@OurBigBook">mastodon.social/@OurBigBook</a></div><div class="h" id="merchandise"><div class="notnav"><h4><a href="merchandise">Merchandise</a></h4><span class="hover-meta"> <a class="split" href="merchandise"></a><span class="metrics"><span class="wcntr"> Words: 591</span><span class="dcnt"> Articles: 7</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publicity" class="u"> Publicity</a><a href="#_toc/merchandise" class="toc"></a></div></nav></div><div class="h" id="clothing"><div class="notnav"><h5><a href="clothing">Clothing</a></h5><span class="hover-meta"> <a class="split" href="clothing"></a><span class="metrics"><span class="wcntr"> Words: 339</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#merchandise" class="u"> Merchandise</a><a href="#_toc/clothing" class="toc"></a></div></nav></div><div class="p" id="_5514">We are thinking about the following layout:<div class="list"><ul id="_5515"><li id="_5516">front: "OurBigBook.com" on upper left chest text</li><li id="_5517">back:<div class="list"><ul id="_5518"><li id="_5519">"OurBigBook.com" on top across back. This positioning is crucial as it will show above chairs in amphitheatres</li><li id="_5520">logo below text centered</li></ul></div></li></ul></div>We are planning on using a clear green on white color scheme to reflect the current website CSS.</div><div class="p" id="_5521">TODO ideas: understand what students wear, and the copy it with our logo. E.g. for <a href="https://ourbigbook.com/go/topic/oxbridge">Oxbridge</a>, one could design <a href="https://ourbigbook.com/go/topic/college-puffer-jacket">college puffer jackets</a>.</div><div class="h" id="tshirtstudio-com"><div class="notnav"><h6><a href="tshirtstudio-com">tshirtstudio.com</a></h6><span class="hover-meta"> <a class="split" href="tshirtstudio-com"></a><span class="metrics"><span class="wcntr"> Words: 262</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#clothing" class="u"> Clothing</a><a href="#_toc/tshirtstudio-com" class="toc"></a></div></nav></div><div class="p" id="_5522">All items are available at: <a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com">www.tshirtstudio.com/marketplace/ourbigbook-com</a> from <a href="#tshirtstudio-com">tshirtstudio.com</a>. Each sale includes a 5 dollar/euro/pound donation to the project.</div><div class="p" id="_5523">This is a reasonable website.</div><div class="p" id="_5524">It is a shame that you can't easily drag and drop move/resize images on the web UI, which has led us to do that manually on the in the source images.</div><div class="p" id="_5525">But still, relatively easy to use, and easy to setup a marketplace in.</div><div class="p" id="_5526">Another downside is that it does not seem possible to edit existing designs, so it is a bit hard to know exactly what you had done when it is time to update things.</div><div class="figure"><figure id="image-tshirt-studio-black-t-shirt-front" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/tshirt-front.jpg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/tshirt-front.jpg" loading="lazy" height="800"></a></div><figcaption><a href="#image-tshirt-studio-black-t-shirt-front"><span class="caption-prefix">Figure 75. </span></a><div class="title">TShirt Studio black t-shirt front</div>. <div class="p" id="_5527">Buy at: <a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-t-shirt">www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-t-shirt</a>.</div><div class="p" id="_5528">Very slightly too straight on shoulders, but not bad. The front color is a bit off/too white-ish, but not terrible.</div><div class="p" id="_5529">This is a picture from version one, which did not have the <a href="#project-slogan">project slogan</a>. Version one is no longer available for sale, only the new one with the slogan.</div></figcaption></figure></div><div class="figure"><figure id="image-tshirt-studio-black-t-shirt-back"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/tshirt-back.jpg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/tshirt-back.jpg" loading="lazy" height="800"></a></div><figcaption><a href="#image-tshirt-studio-black-t-shirt-back"><span class="caption-prefix">Figure 76. </span></a><div class="title">TShirt Studio black t-shirt back</div>. Buy at: <a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-t-shirt">www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-t-shirt</a>.</figcaption></figure></div><div class="figure"><figure id="image-tshirt-studio-black-hoodie-front" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/hoodie-front.jpg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/hoodie-front.jpg" loading="lazy" height="800"></a></div><figcaption><a href="#image-tshirt-studio-black-hoodie-front"><span class="caption-prefix">Figure 77. </span></a><div class="title">TShirt Studio black hoodie front</div>. <div class="p" id="_5530">Buy at: <a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-zip-hoodie-2">www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-zip-hoodie-2</a>.</div><div class="p" id="_5531">Good quality, but the material is slightly warmer than I'd like, I tend to prefer slightly fluffier ones.</div><div class="p" id="_5532">This is a picture from version one, which did not have the <a href="#project-slogan">project slogan</a>. Version one is no longer available for sale, only the new one with the slogan.</div><div class="p" id="_5533">It was slighty concerning if the hoodie would cover the URL or not, but it does not do often in practice.</div></figcaption></figure></div><div class="figure"><figure id="image-tshirt-studio-black-hoodie-back"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/hoodie-back.jpg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/tshirtstudio/hoodie-back.jpg" loading="lazy" height="800"></a></div><figcaption><a href="#image-tshirt-studio-black-hoodie-back"><span class="caption-prefix">Figure 78. </span></a><div class="title">TShirt Studio black hoodie back</div>. Buy at: <a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-zip-hoodie-2">www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-black-zip-hoodie-2</a>.</figcaption></figure></div><div class="figure"><figure id="image-tshirt-studio-white-t-shirt-front"><div class="float-wrap"><a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt-front.jpg"><img src="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt-front.jpg" loading="lazy" height="600"></a></div><figcaption><a href="#image-tshirt-studio-white-t-shirt-front"><span class="caption-prefix">Figure 79. </span></a><div class="title">TShirt Studio white t-shirt front</div>. Buy at: <a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt">www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt</a>.</figcaption></figure></div><div class="figure"><figure id="image-tshirt-studio-white-t-shirt-back"><div class="float-wrap"><a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt-back.jpg"><img src="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt-back.jpg" loading="lazy" height="600"></a></div><figcaption><a href="#image-tshirt-studio-white-t-shirt-back"><span class="caption-prefix">Figure 80. </span></a><div class="title">TShirt Studio white t-shirt back</div>. Buy at: <a href="https://www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt">www.tshirtstudio.com/marketplace/ourbigbook-com/ourbigbook-com-white-t-shirt</a>.</figcaption></figure></div><div class="h" id="sticker"><div class="notnav"><h5><a href="sticker">Sticker</a></h5><span class="hover-meta"> <a class="split" href="sticker"></a><span class="metrics"><span class="wcntr"> Words: 252</span><span class="dcnt"> Articles: 4</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#merchandise" class="u"> Merchandise</a><a href="#_toc/sticker" class="toc"></a></div></nav></div><div class="figure"><figure id="image-sticker-svg"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/sticker.svg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/sticker.svg" loading="lazy" height="200"  class="border"></a></div><figcaption><a href="#image-sticker-svg"><span class="caption-prefix">Figure 81. </span></a><div class="title">Sticker SVG</div>. This SVG is our original sticker design for laptops.</figcaption></figure></div><div class="list"><ul id="_5534"><li id="_5535"><div class="p" id="_5536"><a href="https://www.redbubble.com/people/OurBigBook/shop">www.redbubble.com/people/OurBigBook/shop</a> (case insensitive) has a marketplace mechanism 6.64 pound/unit for the 21cm size, which is quite expensive. It is unclear how much they pay the creator.</div><div class="p" id="_5537">TODO: the following links are currently restricted because it is a new account:<div class="list"><ul id="_5538"><li id="_5539"><a href="https://www.redbubble.com/i/sticker/OurBigBook-com-sticker-with-URL-logo-and-slogan-by-OurBigBook/133297659.JCQM3">www.redbubble.com/i/sticker/OurBigBook-com-sticker-with-URL-logo-and-slogan-by-OurBigBook/133297659.JCQM3</a></li><li id="_5540"><a href="https://www.redbubble.com/people/ourbigbook/works/133297659-ourbigbook-com-sticker-with-url-logo-and-slogan?asc=u">www.redbubble.com/people/ourbigbook/works/133297659-ourbigbook-com-sticker-with-url-logo-and-slogan?asc=u</a></li></ul></div>They said would be unrestricted in five business days, but it was still not true after one month.</div><div class="p" id="_5541">It appears that you have to upload five designs for anything to be publicly available... Contacted them and they confirmed that there is no workaround for that. That service is a bit crap. Have to find a new one later on.</div><div class="p" id="_5542">Their delivery is a bit slow, 7 business days in theory, but took at least 21 in reality. They must be streched thin.</div><div class="p" id="_5543">The product quality was good when it finally arrived though.</div><div class="figure"><figure id="image-redbubble-21cm-sticker"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/redbubble/21cm.jpg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/merch/redbubble/21cm.jpg" loading="lazy" height="500"></a></div><figcaption><a href="#image-redbubble-21cm-sticker"><span class="caption-prefix">Figure 82. </span></a><div class="title">Redbubble 21cm sticker</div>. </figcaption></figure></div></li><li id="_5544"><div class="p" id="_5545"><a href="https://stickerapp.co.uk/">stickerapp.co.uk/</a> does not seem to have a marketplace, 2 pounds/unit on an 11 unit order, so much cheaper. But why would we need 11 is the question. Just going with the marketplace for now.</div><div class="p" id="_5546">Standard delivery in a bout 7 business days.</div></li></ul></div><div class="h" id="sticker-alternative-research"><div class="notnav"><h6><a href="sticker-alternative-research">Sticker alternative research</a></h6><span class="hover-meta"> <a class="split" href="sticker-alternative-research"></a><span class="metrics"><span class="wcntr"> Words: 67</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#sticker" class="u"> Sticker</a><a href="#_toc/sticker-alternative-research" class="toc"></a></div></nav></div><div class="p" id="_5547"><a href="https://github.com/ourbigbook/ourbigbook/issues/315">github.com/ourbigbook/ourbigbook/issues/315</a></div><div class="h" id="cafepress"><div class="notnav"><h6 data-level="7"><a href="cafepress">Cafepress</a></h6><span class="hover-meta"> <a class="split" href="cafepress"></a><span class="metrics"><span class="wcntr"> Words: 28</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#sticker-alternative-research" class="u"> Sticker alternative research</a><a href="#_toc/cafepress" class="toc"></a></div></nav></div><div class="p" id="_5548">Two sticker widths: 5 inch (12.7 cm) or 7.5 inch (19 cm). Also does t-shirts and hoodies. Design not showing on newly created shop page after several refreshes.</div><div class="h" id="teesprint"><div class="notnav"><h6 data-level="7"><a href="teesprint">Teesprint</a></h6><span class="hover-meta"> <a class="split" href="teesprint"></a><span class="metrics"><span class="wcntr"> Words: 21</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#sticker-alternative-research" class="u"> Sticker alternative research</a><a href="#_toc/teesprint" class="toc"></a></div></nav></div><div class="p" id="_5549">Rectangle widths available: 12.7 cm and 17.8 cm, which is reasonable. Both £5.99. Also does t-shirts and hoodies. Good design UI.</div><div class="h" id="zazzle"><div class="notnav"><h6 data-level="7"><a href="zazzle">Zazzle</a></h6><span class="hover-meta"> <a class="split" href="zazzle"></a><span class="metrics"><span class="wcntr"> Words: 18</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#sticker-alternative-research" class="u"> Sticker alternative research</a><a href="#_toc/zazzle" class="toc"></a></div></nav></div><div class="p" id="_5550">Only has rectangle of width 11.43 cm, price £5.70. Also does t-shirts and hoodies. Design UI a cluttered.</div><div class="h" id="project-identity"><div class="notnav"><h4><a href="project-identity">Project identity</a></h4><span class="hover-meta"> <a class="split" href="project-identity"></a><span class="metrics"><span class="wcntr"> Words: 819</span><span class="dcnt"> Articles: 5</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publicity" class="u"> Publicity</a><a href="#_toc/project-identity" class="toc"></a></div></nav></div><div class="h" id="project-logo"><div class="notnav"><h5><a href="project-logo">Project logo</a></h5><span class="hover-meta"> <a class="split" href="project-logo"></a><span class="metrics"><span class="wcntr"> Words: 596</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-identity" class="u"> Project identity</a><a href="#_toc/project-logo" class="toc"></a></div></nav></div><div class="p" id="_5551">The logo can be seen at: <a href="#image-logo-of-the-ourbigbook-project">Figure 1. "Logo of the OurBigBook Project"</a>.</div><div class="figure"><figure id="image-logo-svg" class="multiline"><div class="float-wrap"><a href="_raw/logo.svg"><img src="_raw/logo.svg" loading="lazy" height="150"  class="border"></a></div><figcaption><a href="#image-logo-svg"><span class="caption-prefix">Figure 83. </span></a><div class="title">logo.svg</div>. <div class="p" id="_5552">Canonical project logo.</div><div class="p" id="_5553">This SVG file was actually manually created, and therefore counts as code and can be tracked on this git repository.</div><div class="p" id="_5554">Since it does not contain text, only geometric primitives, this SVG file does not rely on any external system fonts and is fully reproducible.</div></figcaption></figure></div><div class="figure"><figure id="image-logo-256-png" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-256.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-256.png" loading="lazy" height="150"  class="border"></a></div><figcaption><a href="#image-logo-256-png"><span class="caption-prefix">Figure 84. </span></a><div class="title">logo-256.png</div>. 256x256 PNG version of <a href="#image-logo-svg">Figure 83. "logo.svg"</a>, ideal for profile pictures that don't support SVG. Generated with:<div class="code" id="_5555"><div><pre><code>convert logo.svg -resize 256x logo-256.png</code></pre></div></div></figcaption></figure></div><div class="figure"><figure id="image-logo-transparent-svg" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent.svg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent.svg" loading="lazy" height="150"  class="border"></a></div><figcaption><a href="#image-logo-transparent-svg"><span class="caption-prefix">Figure 85. </span></a><div class="title">logo-transparent.svg</div>. <div class="p" id="_5556">This is a version of logo.svg with a transparent background instead of the hardcoded black background.</div><div class="p" id="_5557">It was useful e.g. for t-shirt merch, where the t-shirt background choices were not perfectly black, and the black square would be visible (and possibly glossy) otherwise, which would not be nice.</div></figcaption></figure></div><div class="figure"><figure id="image-logo-transparent-with-text-svg" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent-with-text.svg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent-with-text.svg" loading="lazy" height="300"  class="border"></a></div><figcaption><a href="#image-logo-transparent-with-text-svg"><span class="caption-prefix">Figure 86. </span></a><div class="title">logo-transparent-with-text.svg</div>. This version of the logo was useful when designing project <a href="#clothing">T-shirts</a> on <a href="#tshirtstudio-com">tshirtstudio.com</a>. On that website, you can't easily resize images with drag and drop, so:<div class="list"><ul id="_5558"><li id="_5559">leaving some extra margin at the top would make the text more likely visible considering the hoodie</li><li id="_5560">leaving some extra margin around allows us to make the image a bit less huge and imposing</li></ul></div></figcaption></figure></div><div class="figure"><figure id="image-logo-transparent-with-text-and-slogan-2000-png"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent-with-text-and-slogan-2000.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent-with-text-and-slogan-2000.png" loading="lazy" height="300"  class="border"></a></div><figcaption><a href="#image-logo-transparent-with-text-and-slogan-2000-png"><span class="caption-prefix">Figure 87. </span></a><div class="title">logo-transparent-with-text-and-slogan-2000.png</div>. This is perhaps a superior alternative to <a href="#image-logo-transparent-with-text-svg">Figure 86. "logo-transparent-with-text.svg"</a> for <a href="#merchandise">merchandise</a>, as the <a href="#project-slogan">project slogan</a> could clarify further what the merchandise is all about.</figcaption></figure></div><div class="figure"><figure id="image-logo-transparent-with-text-and-slogan-2000-2150-png" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent-with-text-and-slogan-2000-2150.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/logo-transparent-with-text-and-slogan-2000-2150.png" loading="lazy" height="300"  class="border"></a></div><figcaption><a href="#image-logo-transparent-with-text-and-slogan-2000-2150-png"><span class="caption-prefix">Figure 88. </span></a><div class="title">logo-transparent-with-text-and-slogan-2000-2150.png</div>. <div class="p" id="_5561">This is the same as <code>logo-transparent-with-text-and-slogan-2000.png</code> but with a 150 px border added to the top to ensure that the <a href="#tshirtstudio-com">tshirtstudio.com</a> hoodie hood won't hide the URL.</div><div class="p" id="_5562">It was created with:<div class="code" id="_5563"><div><pre><code>convert logo-transparent-with-text-and-slogan-2000.png -gravity north -background transparent -splice 0x150 logo-transparent-with-text-and-slogan-2000-2150.png</code></pre></div></div></div></figcaption></figure></div><div class="p" id="_5564">Some rationale:<div class="list"><ul id="_5565"><li id="_5566">the lowercase <code>b</code> followed by uppercase <code>B</code> gives the idea of big and small</li><li id="_5567">the small <code>o</code> looks a bit like a degree symbol, which feels sciency. It also contributes to the idea of small to big: <code>o</code> is smallest, <code>b</code> a bit larger, and <code>B</code> actually big</li><li id="_5568">keep the same clear on black feeling as the default CSS output</li><li id="_5569">yellow, green and blue are the colors of Brazil, where <a href="#ciro-santilli">Ciro Santilli</a> was born!</li></ul></div></div><div class="p" id="_5570">It might be cool if we were able to come up with something that looks more like an actual book though instead of just using a boring lettermark.</div><div class="p" id="_5571">A good point of the current design is that it suggests a certain simplicity. We want the explanations of our website to be simple and accessible to all.</div><div class="h" id="text-logo"><div class="notnav"><h6><a href="text-logo">Text logo</a></h6><span class="hover-meta"> <a class="split" href="text-logo"></a><span class="metrics"><span class="wcntr"> Words: 220</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-logo" class="u"> Project logo</a><a href="#_toc/text-logo" class="toc"></a></div></nav></div><div class="p" id="_5572">In addition to the pictorial logo, we have also created a few textual logos which might be useful.</div><div class="p" id="_5573">We first designed them as a way to take up upper left chest square space nicely on <a href="#tshirtstudio-com">tshirtstudio.com</a> T-shirts, as a long one line version of <code>ourbigbook.com</code> would be too small and unreadable.</div><div class="p" id="_5574">The main idea of the text logo is to make a letter square with uppercase monospace font letters:<div class="code" id="_5575"><div><pre><code>OUR
BIG
BOOK
.COM</code></pre></div></div>Could make the <code>OBB</code> red and other letters white. But that does come a bit closer to our dreaded <a href="https://en.wikipedia.org/wiki/%C3%96BB">ÖBB</a> name competitor.</div><div class="p" id="_5576">Note that monospace fonts are not actually square, only fixed width: <a href="https://graphicdesign.stackexchange.com/questions/45260/name-for-type-that-has-the-same-width-and-height">graphicdesign.stackexchange.com/questions/45260/name-for-type-that-has-the-same-width-and-height</a></div><div class="p" id="_5577">Another idea to differentiate from ÖBB would be to go lowercase:<div class="code" id="_5578"><div><pre><code>obb</code></pre></div></div></div><div class="figure"><figure id="image-3x4-svg-text-logo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3.svg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3.svg" loading="lazy" height="315"  class="border"></a></div><figcaption><a href="#image-3x4-svg-text-logo"><span class="caption-prefix">Figure 89. </span></a><div class="title">3x4.svg text logo</div>. This one was done without scaling. The font is a slightly tall rectangle, leading to a natural 3x4 aspect ratio.</figcaption></figure></div><div class="figure"><figure id="image-3x4-1000-png-text-logo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3-1000.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3-1000.png" loading="lazy" height="315"  class="border"></a></div><figcaption><a href="#image-3x4-1000-png-text-logo"><span class="caption-prefix">Figure 90. </span></a><div class="title">3x4-1000.png text logo</div>. This is a rasterization of 3x4.png to 1000x1000 px. Since SVG does not contain the actual font, we always need PNG exports for reproducibility.</figcaption></figure></div><div class="figure"><figure id="image-3x3-svg-text-logo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3.svg"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3.svg" loading="lazy" height="315"  class="border"></a></div><figcaption><a href="#image-3x3-svg-text-logo"><span class="caption-prefix">Figure 91. </span></a><div class="title">3x3.svg text logo</div>. This was made by scaling down a version of the 3x4.svg logo. We had to add some extra space between lines before however, otherwise it would feel too cramped after scaling.</figcaption></figure></div><div class="figure"><figure id="image-3x3-1000-png-text-logo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3-1000.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/3x3-1000.png" loading="lazy" height="315"  class="border"></a></div><figcaption><a href="#image-3x3-1000-png-text-logo"><span class="caption-prefix">Figure 92. </span></a><div class="title">3x3-1000.png text logo</div>. </figcaption></figure></div><div class="figure"><figure id="image-circle-1000-png-text-logo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/circle-1000.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/circle-1000.png" loading="lazy" height="315"  class="border"></a></div><figcaption><a href="#image-circle-1000-png-text-logo"><span class="caption-prefix">Figure 93. </span></a><div class="title">circle-1000.png text logo</div>. Useful for circular profile pictures.</figcaption></figure></div><div class="figure"><figure id="image-square-1000-png-text-logo"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/square-1000.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/text-logo/square-1000.png" loading="lazy" height="315"  class="border"></a></div><figcaption><a href="#image-square-1000-png-text-logo"><span class="caption-prefix">Figure 94. </span></a><div class="title">square-1000.png text logo</div>. Useful for square profile pictures.</figcaption></figure></div><div class="h" id="project-slogan"><div class="notnav"><h5><a href="project-slogan">Project slogan</a></h5><span class="hover-meta"> <a class="split" href="project-slogan"></a><span class="metrics"><span class="wcntr"> Words: 33</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-identity" class="u"> Project identity</a><a href="#_toc/project-slogan" class="toc"></a></div></nav></div><div class="p" id="_5579">We were thinking something like:<div><blockquote id="_5580">Learn for real!</blockquote></div>but we wonder if that wouldn't be too close to: <a href="https://www.learningforreal.org/">www.learningforreal.org/</a>. Maybe not.</div><div class="p" id="_5581">Another one that is also somewhat taken is:<div><blockquote id="_5582">You be the teacher</blockquote></div><a href="https://www.teacherspayteachers.com/Product/You-Be-The-Teacher-Independent-Research-Project-Distance-Learning-3785062">www.teacherspayteachers.com/Product/You-Be-The-Teacher-Independent-Research-Project-Distance-Learning-3785062</a></div><div class="h" id="project-name"><div class="notnav"><h5><a href="project-name">Project name</a></h5><span class="hover-meta"> <a class="split" href="project-name"></a><span class="metrics"><span class="wcntr"> Words: 41</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-identity" class="u"> Project identity</a><a href="#_toc/project-name" class="toc"></a></div></nav></div><div class="p" id="_5583">A free domain name was the key restriction.</div><div class="p" id="_5584">We almost went with <code>destroyuni.com</code>!!! But Ciro regained his senses in the end. A two word domain would be sweet though.</div><div class="p" id="_5585">But Ciro was very happy with OurBigBook. Some other <code>&lt;possessive&gt;&lt;adjective&gt;&lt;noun&gt;</code> domains:<div class="list"><ul id="_5586"><li id="_5587"><a href="https://www.mysmallcar.com">www.mysmallcar.com</a></li></ul></div></div><div class="h" id="project-banner"><div class="notnav"><h5><a href="project-banner">Project banner</a></h5><span class="hover-meta"> <a class="split" href="project-banner"></a><span class="metrics"><span class="wcntr"> Words: 149</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#project-identity" class="u"> Project identity</a><a href="#_toc/project-banner" class="toc"></a></div></nav></div><div class="figure"><figure id="image-topics-page-banner" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/banner-topics-signed-in-800.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/banner-topics-signed-in-800.png" loading="lazy" height="315"></a></div><figcaption><a href="#image-topics-page-banner"><span class="caption-prefix">Figure 95. </span></a><div class="title">Topics page banner</div>. <div class="p" id="_5588">Initial project banner showing the <a href="#ourbigbook-web-topics">OurBigBook Web topics</a> feature. Not very subtle, but will do as a placeholder.</div><div class="p" id="_5589">The downside of this is that much of its bottom left is hidden by the profile picture on websites such as Twitter and LinkedIn.</div><div class="p" id="_5590">The banner is also a bit narrow for certain websites, and either looks rescaled, or is outright not allowd with editing, e.g. YouTube requires a minium width of 1024, with 2048 recommended.</div><div class="p" id="_5591">YouTube is also extremelly picky and hard to make the banner look right as it reserves mandatory huge height for TV displays! The best approach we can find is to make the image huge and fill in black with:<div class="code" id="_5592"><div><pre><code>convert banner-topics-signed-in-800.png -background black -gravity center -extent 2000x1000 tmp.png</code></pre></div></div>and then drag the image selection so that the desktop view covers the area we care about.</div></figcaption></figure></div><div class="p" id="_5593">Websites that accept banners:<div class="list"><ul id="_5594"><li id="_5595">Twitter</li><li id="_5596">LinkedIn</li><li id="_5597">YouTube</li><li id="_5598">Reddit</li><li id="_5599">Patreon</li><li id="_5600">Facebook</li></ul></div></div><div class="h" id="demo-videos"><div class="notnav"><h4><a href="demo-videos">Demo videos</a></h4><span class="hover-meta"> <a class="split" href="demo-videos"></a><span class="metrics"><span class="wcntr"> Words: 401</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publicity" class="u"> Publicity</a><a href="#_toc/demo-videos" class="toc"></a></div></nav></div><div class="p" id="_5601">Demo videos are uploaded to the <a href="#official-accounts">official YouTube account</a>: <a href="https://www.youtube.com/@OurBigBook">www.youtube.com/@OurBigBook</a></div><div class="p" id="_5602">The video files together with the assets used to make them are also made available in the <a href="#ourbigbook-media-repository">OurBigBook media repository</a> under the <a href="https://github.com/ourbigbook/ourbigbook-media/tree/master/video"><code>video/</code> directory</a>.</div><div class="p" id="_5603">Video guidelines:<div class="list"><ul id="_5604"><li id="_5605"><div class="p" id="_5606">desktop recording area size: 720x720. This could perhaps be optimized, but this is a reasonable size that works both as an YouTube Short and Twitter post.</div><div class="p" id="_5607">Previously we had been using 700x700, but at some point YouTube appears to have stopped generating 720p resolution for those, and 480p is just too bad.</div><div class="p" id="_5608">We've been happily using vokoscreenNG.</div><div class="p" id="_5609">A good technique is to move the recording window to the lower left bottom of the screen, which stops things from floating around too much.</div></li><li id="_5610">use Chromium/Chrome to record</li><li id="_5611">resize window to fit recording area horizontally by using the Ctrl + Shift + C debugger view. Make sure to also resize the browser window vertically (cannot be done on debugger, needs resizing actual window) otherwise you won't be able to scroll if the page is not taller than the viewport.</li><li id="_5612">be careful about single pixel black border lines straying in the recording area, they are mega visible against the clear chrome browser bar on the finished output!</li><li id="_5613"><div class="p" id="_5614">music style guidelines: cool, beats, techno, mysterious, upbeat</div><div class="p" id="_5615">Some of the videos contain non-fully free YouTube music added via the YouTube UI. Reupload together with the video files appears however allowed. Ideally we should use fully <a href="https://ourbigbook.com/go/topic/cc-by-sa">CC BY-SA</a> music, but it is quite hard to find good ones. NC is not acceptable.</div></li><li id="_5616">hardcode subtitles in the video. No voice. Previously we were using Aegisub to create the subtitles in <code>.ass</code> format and ffmpeg to hardcode:<div class="code" id="_5617"><div><pre><code>ffmpeg -i raw.mkv -vf subtitles=sub.ass out.mkv</code></pre></div></div>but later we <a href="https://www.youtube.com/watch?v=1yuc60lz2Us">learnt about KDenlive support for subtitles</a> and moved to that instead as it is even more convenient to have it all in one place. Use:<div class="list"><ul id="_5618"><li id="_5619">22pt white font with black background to improve readability</li><li id="_5620">aim to have 3/4 lines of subtitle maximum per frame</li></ul></div>When recording, make sure that all key mouse action happens on the top half of the viewport, otherwise it will get covered by the subtitles in downstream editing.</li><li id="_5621">on YouTube, add the video as the first video of the "Videos" playlist: <a href="https://www.youtube.com/playlist?list=PLshTOzrBHLkZlpvTuBdphKLWwU7xBV6VF">www.youtube.com/playlist?list=PLshTOzrBHLkZlpvTuBdphKLWwU7xBV6VF</a> This list is needed because otherwise YouTube's stupid "Shorts" features produces two separate timelines by default, one for shorts and one for non-shorts. With this list, all videos can be seen easily as non-shorts.</li></ul></div></div><div class="h" id="news"><div class="notnav"><h4><a href="news">News</a></h4><span class="hover-meta"> <a class="split" href="split"></a><span class="metrics"><span class="dcnt"> Articles: 31</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publicity" class="u"> Publicity</a><a href="#_toc/news" class="toc"></a></div></nav></div><div class="p" id="_5622"><a href="news">This section is present in another page, follow this link to view it.</a></div><div class="h" id="ourbigbook-com-fellowship"><div class="notnav"><h4><a href="ourbigbook-com-fellowship">OurBigBook.com Fellowship</a></h4><span class="hover-meta"> <a class="split" href="ourbigbook-com-fellowship"></a><span class="metrics"><span class="wcntr"> Words: 931</span><span class="dcnt"> Articles: 3</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#publicity" class="u"> Publicity</a><a href="#_toc/ourbigbook-com-fellowship" class="toc"></a></div></nav></div><div class="p" id="_5623">The <a href="">OurBigBook Project</a> has sporadically offered a fellowship called the "OurBigBook.com Fellowship". Its recipients are called the "OurBigBook.com Fellows".</div><div class="p" id="_5624">The goal of the fellowship is to pay brilliant students to focus exclusively on pursuing ambitious goals in STEM research and education for a pre-determined length of time, without having to worry about earning money in the short term.</div><div class="p" id="_5625">The fellowship is both excellency and need based, focusing on brilliant students from developing countries whose families were not financially able to support them.</div><div class="p" id="_5626">Being brilliant, such students would be tempted and able to go for less ambitious jobs that pay them the short term. The goal of the fellowship is to free such students to instead pursue more ambitious, longer term goals.</div><div class="p" id="_5627">Or in other words: to allow smart people to <a href="https://www.youtube.com/watch?v=khOaAHK7efc">do whatever the fuck they really want to do</a>.</div><div class="p" id="_5628">The fellowship is paid as a single monetary transfer to the recipient.</div><div class="p" id="_5629">There are no legally binding terms to the fellowship: we pick good people and trust them to do what they think is best.</div><div class="p" id="_5630">The fellowship is more accurately simply a donation. There is no contract. Whatever happens, the OurBigBook Project will never able to take legal action against a recipient for not "using well" their donation.</div><div class="p" id="_5631">The following ethical guidelines are however highly encouraged:<div class="list"><ul id="_5632"><li id="_5633">to acknowledge the funding where appropriate, e.g.:<div class="list"><ul id="_5634"><li id="_5635">at "funding slide" (usually the last one) of a presentation for work done during, or that you feel is a direct consequence of the fellowship</li><li id="_5636">by marking yourself as a "OurBigBook.com Fellow" on LinkedIn, under the organization: <a href="https://www.linkedin.com/company/ourbigbook">www.linkedin.com/company/ourbigbook</a> for the period of award</li></ul></div></li><li id="_5637">keep in touch. Let us know about any large successes (or failures!) you've have as the consequence of the funding, e.g. publications, starting a cool new job, or deciding to quit academia.</li><li id="_5638"><div class="p" id="_5639">give back culture: if one day, in a potentially far and undefined future, recipients achieve a stable financial situation with some money to spare, they are encouraged to give back to the OurBigBook.com Fellowship fund an amount at least equal to their funding.</div><div class="p" id="_5640">This enables us to keep sustainably investing in new brilliant talent who needs the money.</div><div class="p" id="_5641">We are more than happy to take the consider the fellow's suggestion for a recipient of their choice.</div><div class="p" id="_5642">Remember that an investment in the American stock market doubles every 10 years. So if you do go into a money making area, can you as a "person investment", match, or even beat the market? :-) Or conversely, the sooner you give back, the less you are morally required to give back.</div><div class="p" id="_5643">Fellows who go on to work on charitable causes, which includes the incredibly underpaid academics jobs, absolutely don't have to give back.</div><div class="p" id="_5644">If you are able to give back by doing a corresponding amount of good to the world all the better.</div><div class="p" id="_5645">It is you that have to look into your heart and decide: how much free or underpaid work have I done? And then if there is some money left after this consideration, you give that amount back.</div></li><li id="_5646"><div class="p" id="_5647">pivoting is OK. If you decide half way that your initial project plan is crap, change! We can only notice that something won't work once we try to do it for real. At least now you know!</div><div class="p" id="_5648">If you do pivot to something that makes money immediately however, the correct thing to do is to return any unused funds of the fellowship. The sooner you pay, the lesser your moral dividend obligation, right?</div></li><li id="_5649"><div class="p" id="_5650">be bold. Don't ever think "I'll take this safer option because it will allow me to pay back earlier".</div><div class="p" id="_5651">The entire goal of the scholarship is to allow smart people to take greater risks. If you took the risk, e.g. made a startup instead of going to a safer job, failed, and that made you make less money than you would have otherwise, no problem, deduce that cost from the value you can return in the future, and move on.</div><div class="p" id="_5652">But if you take a bet and it pays big time, do remember us ;-)</div></li></ul></div></div><div class="p" id="_5653">We also encourage fellows to take good care of their health, and strive for a good work/life balance. Exercise. Eat well. Rest. Don't work when you're tired. Take time off if when you are stressed. Keep in touch with good friends and family. Talk to someone if you feel down. Taking good care of yourself pays back with great dividends in the long run. Invest in it.</div><div class="h" id="ourbigbook-com-fellows"><div class="notnav"><h5><a href="ourbigbook-com-fellows">OurBigBook.com Fellows</a></h5><span class="hover-meta"> <a class="split" href="ourbigbook-com-fellows"></a><span class="metrics"><span class="wcntr"> Words: 194</span><span class="dcnt"> Articles: 2</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com-fellowship" class="u"> OurBigBook.com Fellowship</a><a href="#_toc/ourbigbook-com-fellows" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-com-fellows/_5654">This section lists current and past OurBigBook.com Fellows. It is a requirement of the fellowship that fellows should be publicly listed here.</div><div class="p" id="ourbigbook-com-fellows/_5655">Publicly known updates on related to their fellowship projects may also be added here where appropriate, notably successes! But we also embrace failure. All must know that failure is a possibility, and does happen. If you can't fail, you're not dreaming big enough. Failing is not bad, it is inevitable.</div><div class="h" id="ourbigbook-com-fellows/2022"><div class="notnav"><h6><a href="ourbigbook-com-fellows/2022">2022</a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-com-fellows/2022"></a><span class="metrics"><span class="wcntr"> Words: 122</span><span class="dcnt"> Articles: 1</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com-fellows" class="u"> OurBigBook.com Fellows</a><a href="#_toc/ourbigbook-com-fellows/2022" class="toc"></a></div></nav></div><div class="h" id="ourbigbook-com-fellows/leticia-maria-paz-de-lima"><div class="notnav"><h6 data-level="7"><a href="ourbigbook-com-fellows/leticia-maria-paz-de-lima">Letícia Maria Paz De Lima <span class="meta">($1,929)</span></a></h6><span class="hover-meta"> <a class="split" href="ourbigbook-com-fellows/leticia-maria-paz-de-lima"></a><span class="metrics"><span class="wcntr"> Words: 122</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="#ourbigbook-com-fellows/2022" class="u"> 2022</a><a href="#_toc/ourbigbook-com-fellows/leticia-maria-paz-de-lima" class="toc"></a></div></nav></div><div class="list"><ul id="ourbigbook-com-fellows/_5657"><li id="ourbigbook-com-fellows/_5658"><a href="https://www.linkedin.com/in/let%C3%ADcia-maria-3648761ab/">www.linkedin.com/in/letícia-maria-3648761ab/</a></li><li id="ourbigbook-com-fellows/_5659"><a href="https://bv.fapesp.br/en/pesquisador/717847/leticia-maria-paz-de-lima">bv.fapesp.br/en/pesquisador/717847/leticia-maria-paz-de-lima</a></li></ul></div><div class="p" id="ourbigbook-com-fellows/_5660">2022-12: Letícia Maria Paz De Lima is awarded 10,000 Brazilian Real (~1,929 USD) to help her:<div><blockquote id="ourbigbook-com-fellows/_5661">Focus on her <a href="https://ourbigbook.com/go/topic/quantum-computing">quantum computing</a> studies and research until 2023-06-30 (end of her third year), with the future intention of pursuing a <a href="https://ourbigbook.com/cirosantilli/doctor-of-philosophy">PhD</a> abroad in that area.</blockquote></div></div><div class="p" id="ourbigbook-com-fellows/_5662">At the time of award, Letícia was a 3rd year student at the <a href="https://ourbigbook.com/go/topic/molecular-sciences-course-of-the-university-of-sao-paulo">Molecular Sciences Course of the University of São Paulo</a> and held a <a href="https://fapesp.br/bolsas/ic">FAPESP Scientific Initiation Scholarship</a>. She had become interested in Quantum Computing in the past year, and is passionate about working on that promising area of technology.</div><div class="p" id="ourbigbook-com-fellows/_5663">Her main mentors in the area so far were <a href="https://scholar.google.com/citations?user=FbGL0BEAAAAJ&amp;hl=it">professor Paulo Nussenzveig</a> and <a href="https://portal.if.usp.br/ifusp/pt-br/users/bamaral">Barbara Amaral</a> of the Institute of Physics of the <a href="https://ourbigbook.com/go/topic/university-of-sao-paulo">University of São Paulo</a>.</div><div class="h" id="todo"><div class="notnav"><h2><a href="todo">TODO</a></h2><span class="hover-meta"> <a class="split" href="split"></a><span class="metrics"><span class="wcntr"> Words: 8k</span><span class="dcnt"> Articles: 179</span></span></span></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="" class="u"> <span title="Home" class="fa-solid-900 icon"></span> Home</a><a href="#_toc/todo" class="toc"></a></div></nav></div><div class="p" id="ourbigbook-com-fellows/_5664"><a href="todo">This section is present in another page, follow this link to view it.</a></div><h2 id="_synonyms"><a href="#_synonyms"><span title="Synonyms" class="fa-solid-900 icon"></span> Synonyms <span class="meta">(2)</span></a></h2><div class="list"><ul><li><a href="">OurBigBook</a></li><li><a href="">OurBigBook Project</a></li></ul></div></main>
<footer>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="_dir">Website source code</a></div>
<div>Source code for this page: <a href="_file/index.bigb">index.bigb</a></div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2XSEK2ND00"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2XSEK2ND00');
</script>
<script src="https://giscus.app/client.js"
        data-repo="ourbigbook/ourbigbook"
        data-repo-id="MDEwOlJlcG9zaXRvcnkyMTEyOTA2NzA="
        data-category="giscus"
        data-category-id="DIC_kwDODJgKLs4CZ61S"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
<script>
window.ourbigbook_split_headers = true;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "";
</script>
<script src="_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script></body>
</html>
