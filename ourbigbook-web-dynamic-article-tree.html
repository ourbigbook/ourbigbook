<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>OurBigBook Web dynamic article tree - Ciro Santilli</title>
<meta property="og:title" content="OurBigBook Web dynamic article tree - Ciro Santilli">
<meta property="og:type" content="website">
<meta property="og:image" content="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/dynamic-article-tree/demo.png">
<meta property="og:url" content="https://docs.ourbigbook.com/ourbigbook-web-dynamic-article-tree">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<style>@import "_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="_raw/main.css">
<link rel="shortcut icon" href="_raw/logo.svg">
</head>
<body>
<header
<div class="brand-group">
<a href="." class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo">OurBigBook Docs</a>
<a href="https://ourbigbook.com" class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo"><span class="mobile-hide">OurBigBook.com</span><span class="mobile-show">Site</span></a>
<a href="https://github.com/ourbigbook/ourbigbook"><i class="fab fa-github fa-fw icon"></i> Source code</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top" id="ourbigbook-web-dynamic-article-tree"><div class="notnav"><h1><a href="">OurBigBook Web dynamic article tree</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav ancestors"><a href="."><span title="Home" class="fa-solid-900 icon"></span> Home</a><a href=".#ourbigbook-web"> OurBigBook Web</a><a href=".#ourbigbook-web-user-manual"> OurBigBook Web user manual</a></div><div class="nav"><a class="nosplit" href=".#ourbigbook-web-dynamic-article-tree"></a><span class="metrics"><span class="wcntr"> Words: 564</span></span></div></nav></div><div class="p" id="_4059"><a href=".#ourbigbook-web">OurBigBook Web</a> implements what we call "dynamic article tree".</div><div class="p" id="_4060">What this means is that, unlike the static website generated by <a href=".#ourbigbook-cli">OurBigBook CLI</a> where you know exactly which headers will show as children of a given header, we just dynamically fetch a certain number of descendant pages at a time.</div><div class="p" id="_4061">As an example of dynamic artic tree, note how the article "Special relativity" can be seen in all of the following pages:<div class="list"><ul id="_4062"><li id="_4063"><a href="https://ourbigbook.com/barack-obama/special-relativity">ourbigbook.com/barack-obama/special-relativity</a> as the toplevel article</li><li id="_4064"><a href="https://ourbigbook.com/barack-obama/physics">ourbigbook.com/barack-obama/physics</a> as a child</li><li id="_4065"><a href="https://ourbigbook.com/barack-obama/natural-science">ourbigbook.com/barack-obama/natural-science</a> as the child of a child</li></ul></div>The only efficient way to do this is to pick which articles will be rendered as soon as the user makes the request, rather than having fully pre-rendered pages, thus the name "dynamic".</div><div class="figure"><figure id="image-dynamic-article-tree-with-infinitely-deep-table-of-contents" class="multiline"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/dynamic-article-tree/demo.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/feature/dynamic-article-tree/demo.png" loading="lazy" height="2000"  class="border"></a></div><figcaption><a href="#image-dynamic-article-tree-with-infinitely-deep-table-of-contents"><span class="caption-prefix">Figure 57. </span></a><div class="title">Dynamic article tree with infinitely deep table of contents</div>. <div class="p" id="_4066">Live URL: <a href="https://ourbigbook.com/cirosantilli/chordate">ourbigbook.com/cirosantilli/chordate</a></div><div class="p" id="_4067">Descendant pages can also show up as toplevel e.g.: <a href="https://ourbigbook.com/cirosantilli/chordate-subclade">ourbigbook.com/cirosantilli/chordate-subclade</a></div></figcaption></figure></div><div class="figure"><figure id="image-and-this-is-how-the-same-article-looks-on-the-static-website"><div class="float-wrap"><a href="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/cirosantilli.com/chordate/main.png"><img src="https://raw.githubusercontent.com/ourbigbook/ourbigbook-media/master/cirosantilli.com/chordate/main.png" loading="lazy" height="1700"  class="border"></a></div><figcaption><a href="#image-and-this-is-how-the-same-article-looks-on-the-static-website"><span class="caption-prefix">Figure 58. </span></a><div class="title">And this is how the same article looks on the static website</div>. Live URL: <a href="https://cirosantilli.com/taxonomy#chordate">cirosantilli.com/taxonomy#chordate</a></figcaption></figure></div><div class="figure"><figure id="video-ourbigbook-web-dynamic-article-tree-demo"><div class="float-wrap"><iframe width="700" height="700" loading="lazy" src="https://www.youtube.com/embed/sX_D_5tCQgg" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><figcaption><a href="#video-ourbigbook-web-dynamic-article-tree-demo"><span class="caption-prefix">Video 16. </span></a><div class="title">OurBigBook Web dynamic article tree demo</div>. <a href="https://www.youtube.com/watch?v=sX_D_5tCQgg">Source</a>. </figcaption></figure></div><div class="p" id="_4068">The design goals of the dynamic article tree are to produce articles such that:<div class="list"><ul id="_4069"><li id="_4070">each article can appear as the toplevel article of a page to get better SEO opportunities</li><li id="_4071">and that page that contains the article can also contain as many descedants as we want to load, not jus the article itself, so as to not force readers to click a bunch of links to read more</li></ul></div></div><div class="p" id="_4072">For example, with a static website, a user could have a page structure such as:</div><div class="p" id="_4073">natural-science.bigb<div class="code" id="_4074"><div><pre><code>= Natural science

== Physics

\Include[special relativity]</code></pre></div></div></div><div class="p" id="_4075">special-relativity.bigb<div class="code" id="_4076"><div><pre><code>= Special relativity

== Lorentz transformation</code></pre></div></div></div><div class="p" id="_4077">In the static output, we would have two output files with multiple pages:<div class="list"><ul id="_4078"><li id="_4079"><code>natural-science.html</code></li><li id="_4080"><code>special-relativity.html</code></li></ul></div>plus one split output file for each header if <a href=".#split-headers"><code>-S</code>, <code>--split-headers</code></a> were enabled:<div class="list"><ul id="_4081"><li id="_4082"><code>natural-science-split.html</code></li><li id="_4083"><code>physics.html</code></li><li id="_4084"><code>special-relativity-split.html</code></li><li id="_4085"><code>lorentz-transformation.html</code></li></ul></div></div><div class="p" id="_4086">In this setup the header "Physics" for example is present in one of two possible pages:<div class="list"><ul id="_4087"><li id="_4088"><code>natural-science.html</code>: as a subheader, but Special Relativity is not shown even though it is a child</li><li id="_4089"><code>physics.html</code>: as the top header, and Special Relativity is still not shown as we are in split mode</li></ul></div></div><div class="p" id="_4090">In the case of the dynamic article tree however, we achieve our design goals:<div class="list"><ul id="_4091"><li id="_4092">"Physics" is the toplevel header, and therefore can get much better SEO</li><li id="_4093">"Special Relativity", "Lorentz transformation" and any other descendants will still show up below it, so it is much more readable than a page</li></ul></div>We then just cut off at 100 articles to not overload the server and browsers on very large pages. Sometimes those pages can still be accessed through the ToC, which has a larger limit of 1000 entries. We also want to implement: <a href="todo#load-more-articles">load more articles</a> to allow users to click to load more articles.</div><div class="p" id="_4094">And all of that is achieved:<div class="list"><ul id="_4095"><li id="_4096">without requiring authors to manually determine which headers are toplevel or not to customize page splits with reasonable load sizes.</li><li id="_4097">without keeping multiple copies of the render output of each page and corresponding pre-rendered ToCs. On the static website, we already had two rendering for each page: one split and one non-split, and the ToCs were huge and copied everywhere. Perhaps the ToC side could be resolve with some runtime fetching of static JSON, but then that is bad for SEO.</li></ul></div></div><div class="p" id="_4098">The downside of the feature is slightly slower page loads and a bit more server workload. We have kept it quite efficient server-side by implementing the page fetching with a <a href=".#nested-set">nested sets</a> implementation.</div><div class="p" id="_4099">We believe that dynamic article treee offers a very good tradeoff between server load, load speeds, SEO, readability and author friendliness.</div><h2 id="_ancestors"><a href="#_ancestors"><span class="fa-solid-900 icon"></span> Ancestors <span class="meta">(3)</span></a></h2><div class="list"><ol><li><a href=".#ourbigbook-web-user-manual">OurBigBook Web user manual</a></li><li><a href=".#ourbigbook-web">OurBigBook Web</a></li><li><a href="."><span title="Home" class="fa-solid-900 icon"></span> Home</a></li></ol></div><h2 id="_incoming-links"><a href="#_incoming-links"><span title="Incoming links" class="fa-solid-900 icon"></span> Incoming links <span class="meta">(4)</span></a></h2><div class="list"><ul><li><a href=".#nested-set">Nested set</a></li><li><a href=".#ourbigbook-web-dynamic-article-tree">OurBigBook Web dynamic article tree</a></li><li><a href=".#ourbigbook-web-vs-static-website-publishing">OurBigBook Web vs static website publishing</a></li><li><a href=".#ourbigbook-web-with-javascript-disabled">OurBigBook Web with JavaScript disabled</a></li></ul></div><h2 id="_synonyms"><a href="#_synonyms"><span title="Synonyms" class="fa-solid-900 icon"></span> Synonyms <span class="meta">(1)</span></a></h2><div class="list"><ul><li><a href=".#ourbigbook-web-dynamic-article-tree">Dynamic article tree</a></li></ul></div></main>
<footer>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="_dir">Website source code</a></div>
<div>Source code for this page: <a href="_file/index.bigb">index.bigb</a></div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2XSEK2ND00"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2XSEK2ND00');
</script>
<script src="https://giscus.app/client.js"
        data-repo="ourbigbook/ourbigbook"
        data-repo-id="MDEwOlJlcG9zaXRvcnkyMTEyOTA2NzA="
        data-category="giscus"
        data-category-id="DIC_kwDODJgKLs4CZ61S"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
<script>
window.ourbigbook_split_headers = true;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "";
</script>
<script src="_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script></body>
</html>
