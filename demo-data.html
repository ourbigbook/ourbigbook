<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Demo data - Ciro Santilli</title>
<meta property="og:title" content="Demo data - Ciro Santilli">
<meta property="og:type" content="website">
<meta property="og:image" content="https://docs.ourbigbook.com/_raw/logo.svg">
<meta property="og:url" content="https://docs.ourbigbook.com/demo-data">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<style>@import "_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="_raw/main.css">
<link rel="shortcut icon" href="_raw/logo.svg">
</head>
<body>
<header
<div class="brand-group">
<a href="." class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo">OurBigBook Docs</a>
<a href="https://ourbigbook.com" class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo"><span class="mobile-hide">OurBigBook.com</span><span class="mobile-show">Site</span></a>
<a href="https://github.com/ourbigbook/ourbigbook"><i class="fab fa-github fa-fw icon"></i> Source code</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top" id="demo-data"><div class="notnav"><h1><a href="">Demo data</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav ancestors"><a href="."><span title="Home" class="fa-solid-900 icon">ÔÄï</span> Home</a><a href=".#ourbigbook-web"> OurBigBook Web</a><a href=".#ourbigbook-web-development"> OurBigBook Web development</a><a href=".#generated-data"> Generated data</a></div><div class="nav"><a href="#_toc" class="toc"></a><a class="nosplit" href=".#demo-data"></a><span class="metrics"><span class="wcntr"> Words: 343</span><span class="dcnt"> Articles: 1</span></span></div></nav></div><div class="p" id="_4354">You can generate demo data for <a href=".#ourbigbook-web">OurBigBook Web</a> with <a href="_raw/web/bin/generate-demo-data.js">web/bin/generate-demo-data.js</a>, e.g.:<div class="code" id="_4355"><div><pre><code>cd web
./bin/generate-demo-data --users 2 --articles-per-user 10</code></pre></div></div></div><div class="p" id="_4356">Every time this is run, it tries to update existing entities such as users and articles first, and only creates them if they don't exist. This allows us to update all demo data on a live website that also has users without deleting any user data.</div><div class="p" id="_4357">Note however that if you ever increase the ammount of demo users, you might overwrite real user data. E.g. if you first do:<div class="code" id="_4358"><div><pre><code>./bin/generate-demo-data --users 2 --articles-per-user 10</code></pre></div></div>and then some time later:<div class="code" id="_4359"><div><pre><code>./bin/generate-demo-data --users 4 --articles-per-user 10</code></pre></div></div>it is possible that some real user will have taken up the username that we use for the third user, which did not exist previously, and then hacks their articles away. So never ever do that! Just stick to the default values in production.</div><div class="p" id="_4360">As a safeguard, to be able to run this in production you have to also pass the <code>--force-production</code> flag;<div class="code" id="_4361"><div><pre><code>./bin/generate-demo-data --users 2 --articles-per-user 10 --force-production</code></pre></div></div></div><div class="p" id="_4362">To first fully clear the database, including any real user data, before doing anything else, use <code>--clear</code>, e.g.:<div class="code" id="_4363"><div><pre><code>./bin/generate-demo-data --users 4 --articles-per-user 10 --clear</code></pre></div></div></div><div class="p" id="_4364">To clear the database and start with an empty database use <code>--empty</code>:<div class="code" id="_4365"><div><pre><code>./bin/generate-demo-data --empty</code></pre></div></div></div><div class="p" id="_4366">To regenerate the PostgreSQL database instead of SQLite as mentioned at <a href=".#local-development-run-with-postgresql">local development run with PostgreSQL</a>:<div class="code" id="_4367"><div><pre><code>OURBIGBOOK_POSTGRES=1 ./bin/generate-demo-data.js</code></pre></div></div></div><div class="toc-container" id="_toc"><ul><li class="has-child toplevel"><div class="title-div"><div class="arrow"><div></div></div><span class="not-arrow"><a class="title toc" href="#_toc"> Table of contents</a><input class="search" placeholder="üîç Search. Shortcut: / (slash)"><span class="hover-metadata"><span class="metrics"><span class="wcntr"> 343</span><span class="dcnt"> 1</span></span></span></span></div><ul><li><div id="_toc/demo-data-local-file-output"><div class="arrow"><div></div></div><span class="not-arrow"><a href=".#demo-data-local-file-output">Demo data local file output</a><span class="hover-metadata"><a href="#_toc" class="u"> Demo data</a><span class="metrics"><span class="wcntr"> 120</span></span></span></span></div></li></ul></li></ul></div><h2 id="_ancestors"><a href="#_ancestors"><span class="fa-solid-900 icon">ÔÅ¢</span> Ancestors <span class="meta">(4)</span></a></h2><div class="list"><ol><li><a href=".#generated-data">Generated data</a></li><li><a href=".#ourbigbook-web-development">OurBigBook Web development</a></li><li><a href=".#ourbigbook-web">OurBigBook Web</a></li><li><a href="."><span title="Home" class="fa-solid-900 icon">ÔÄï</span> Home</a></li></ol></div><h2 id="_incoming-links"><a href="#_incoming-links"><span title="Incoming links" class="fa-solid-900 icon">ÔÅ†</span> Incoming links <span class="meta">(4)</span></a></h2><div class="list"><ul><li><a href=".#heroku-deployment">Heroku deployment</a></li><li><a href=".#local-development-server">Local development server</a></li><li><a href=".#ourbigbook-web-database-migration-setup">OurBigBook Web database migration setup</a></li><li><a href=".#test-migration">test-migration</a></li></ul></div></main>
<footer>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="_dir">Website source code</a></div>
<div>Source code for this page: <a href="_file/index.bigb">index.bigb</a></div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2XSEK2ND00"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2XSEK2ND00');
</script>
<script src="https://giscus.app/client.js"
        data-repo="ourbigbook/ourbigbook"
        data-repo-id="MDEwOlJlcG9zaXRvcnkyMTEyOTA2NzA="
        data-category="giscus"
        data-category-id="DIC_kwDODJgKLs4CZ61S"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
<script>
window.ourbigbook_split_headers = true;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "";
</script>
<script src="_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script></body>
</html>
