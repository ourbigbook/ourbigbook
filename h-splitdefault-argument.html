<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>\H splitDefault argument - Ciro Santilli</title>
<meta property="og:title" content="\H splitDefault argument - Ciro Santilli">
<meta property="og:type" content="website">
<meta property="og:image" content="https://docs.ourbigbook.com/_raw/logo.svg">
<meta property="og:url" content="https://docs.ourbigbook.com/h-splitdefault-argument">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<style>@import "_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="_raw/main.css">
<link rel="shortcut icon" href="_raw/logo.svg">
</head>
<body>
<header
<div class="brand-group">
<a href="." class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo">OurBigBook Docs</a>
<a href="https://ourbigbook.com" class="brand"><img src="_raw/logo.svg" alt="OurBigBook logo"><span class="mobile-hide">OurBigBook.com</span><span class="mobile-show">Site</span></a>
<a href="https://github.com/ourbigbook/ourbigbook"><i class="fab fa-github fa-fw icon"></i> Source code</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top" id="h-splitdefault-argument"><div class="notnav"><h1><a href=""><code>\H</code> <code>splitDefault</code> argument</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav ancestors"><a href="."><span title="Home" class="fa-solid-900 icon"></span> Home</a><a href=".#ourbigbook-markup"> OurBigBook Markup</a><a href=".#macro"> Macro</a><a href=".#header"> Header</a><a href=".#h-arguments"> <code>\H</code> arguments</a></div><div class="nav"><span class="tags"> Tags: <a href=".#boolean-argument">Boolean argument</a></span><a class="nosplit" href=".#h-splitdefault-argument"></a><span class="metrics"><span class="wcntr"> Words: 551</span></span></div></nav></div><div class="p" id="_1019">When using <a href=".#split-headers"><code>-S</code>, <code>--split-headers</code></a>, <a href=".#internal-link">internal links</a> always point to non-split pages as mentioned at <a href=".#internal-link-targets-in-split-headers">internal link targets in split headers</a>.</div><div class="p" id="_1020">If the <code>splitDefault</code> <a href=".#boolean-argument">boolean argument</a> is given however:<div class="list"><ul id="_1021"><li id="_1022">the split header becomes the default, e.g. <code>index.html</code> is now the split one, and <code>nosplit.html</code> is the non-split one</li><li id="_1023">the header it is given for, and all of its descendant headers will use the split header as the default internal cross target, unless the header is already rendered in the current page. This does not propagate across <a href=".#include">includes</a> however.</li></ul></div></div><div class="p" id="_1024">For example, consider <code>index.bigb</code>:<div class="code" id="_1025"><div><pre><code>= Toplevel
{splitDefault}

\x[h2][toplevel to h2]

\x[notindex][toplevel to notindex]

\Include[notindex]

== h2</code></pre></div></div>and <code>notindex.bigb</code>:<div class="code" id="_1026"><div><pre><code>= Notindex

\x[h2][notindex to h2]

\x[notindex][notindex to notindex h2]

== Notindex h2</code></pre></div></div>Then the following links would be generated:<div class="list"><ul id="_1027"><li id="_1028"><code>index.html</code>: split version of <code>index.bigb</code>, i.e. does not contain <code>h2</code><div class="list"><ul id="_1029"><li id="_1030"><code>toplevel to h2</code>: <code>h2.html</code>. Links to the split version of <code>h2</code>, since <code>h2</code> is also affected by the <code>splitDefault</code> of its parent, and therefore links to it use the split version by default</li><li id="_1031"><code>toplevel to notindex</code>: <code>notindex.html</code>. Links to non-split version of <code>notindex.html</code> since that header is not <code>splitDefault</code>, because <code>splitDefault</code> does not propagate across includes</li></ul></div></li><li id="_1032"><code>nosplit.html</code> non-split version of <code>index.bigb</code>, i.e. contains <code>h2</code><div class="list"><ul id="_1033"><li id="_1034"><code>toplevel to h2</code>: <code>#h2</code>, because even though <code>h2</code> is <code>splitDefault</code>, that header is already present in the current page, so it would be pointless to reload the split one</li><li id="_1035"><code>toplevel to notindex</code>: <code>notindex.html</code></li></ul></div></li><li id="_1036"><code>h2.html</code> split version of <code>h2</code> from <code>index.bigb</code></li><li id="_1037"><code>notindex.html</code>: non-split version of <code>notindex.bigb</code><div class="list"><ul id="_1038"><li id="_1039"><code>notindex to h2</code>: <code>h2.html</code>, because <code>h2</code> is <code>splitDefault</code></li><li id="_1040"><code>notindex to notindex h2</code>: <code>#notindex-h2</code></li></ul></div></li><li id="_1041"><code>notindex-split.html</code>: split version of <code>notindex.bigb</code><div class="list"><ul id="_1042"><li id="_1043"><code>notindex to h2</code>: <code>h2.html</code>, because <code>h2</code> is <code>splitDefault</code></li><li id="_1044"><code>notindex to notindex h2</code>: <code>notindex.html#notindex-h2</code>, because <code>notindex-h2</code> is not <code>splitDefault</code></li></ul></div></li></ul></div></div><div class="p" id="_1045">The major application of this if you like work with a huge <code>index.bigb</code> containing thousands of random small topics.</div><div class="p" id="_1046">Splitting those into separate source files would be quite laborious, as it would require duplicating IDs on the filename, and setting up <a href=".#include">includes</a>.</div><div class="p" id="_1047">However, after this index reaches a certain size, page loads start becoming annoyingly slow, even despite already loading large assets like <a href=".#image">images</a> video <a href=".#video">videos</a> only on hover or click: the annoying slowness comes from the loading of the HTML itself before the browser can jump to the ID.</div><div class="p" id="_1048">And even worse: this index corresponds to the main index page of the website, which will make what a large number of users will see be that slowness.</div><div class="p" id="_1049">Therefore, once this index reaches a certain size, you can add the <code>splitDefault</code> attribute to it, to make things smoother for readers.</div><div class="p" id="_1050">And if you have a smaller, more self-contained, and highly valuable tutorial such as <a href="https://cirosantilli.com/x86-paging">cirosantilli.com/x86-paging</a>, you can just split that into a separate <code>.bigb</code> source file.</div><div class="p" id="_1051">This way, any links into the smaller tutorial will show the entire page as generally desired.</div><div class="p" id="_1052">And any links from the tutorial, back to the main massive index will link back to split versions, leading to fast loads.</div><div class="p" id="_1053">This feature was implemented at: <a href="https://github.com/ourbigbook/ourbigbook/issues/131">github.com/ourbigbook/ourbigbook/issues/131</a></div><div class="p" id="_1054">Note that this huge index style is not recommended however. <a href=".#ciro-santilli">Ciro Santilli</a> used to do it, but moved away from it. The currently recommended approach is to manually create not too large subtrees in each page. This way, readers can easily view several nearby sections without having to load a new page every time.</div><h2 id="_ancestors"><a href="#_ancestors"><span class="fa-solid-900 icon"></span> Ancestors <span class="meta">(5)</span></a></h2><div class="list"><ol><li><a href=".#h-arguments"><code>\H</code> arguments</a></li><li><a href=".#header">Header</a></li><li><a href=".#macro">Macro</a></li><li><a href=".#ourbigbook-markup">OurBigBook Markup</a></li><li><a href="."><span title="Home" class="fa-solid-900 icon"></span> Home</a></li></ol></div><h2 id="_incoming-links"><a href="#_incoming-links"><span title="Incoming links" class="fa-solid-900 icon"></span> Incoming links <span class="meta">(6)</span></a></h2><div class="list"><ul><li><a href=".#features">Features</a></li><li><a href=".#important-command-line-options">Important command line options</a></li><li><a href=".#internal-link-targets-in-split-headers">Internal link targets in split headers</a></li><li><a href=".#ourbigbook-json/h/splitdefault"><code>splitDefault</code></a></li><li><a href=".#ourbigbook-json/h/splitdefaultnottoplevel"><code>splitDefaultNotToplevel</code></a></li><li><a href=".#ourbigbook-json/tosplitheaders"><code>toSplitHeaders</code></a></li></ul></div></main>
<footer>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="_dir">Website source code</a></div>
<div>Source code for this page: <a href="_file/index.bigb">index.bigb</a></div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2XSEK2ND00"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2XSEK2ND00');
</script>
<script src="https://giscus.app/client.js"
        data-repo="ourbigbook/ourbigbook"
        data-repo-id="MDEwOlJlcG9zaXRvcnkyMTEyOTA2NzA="
        data-category="giscus"
        data-category-id="DIC_kwDODJgKLs4CZ61S"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
<script>
window.ourbigbook_split_headers = true;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "";
</script>
<script src="_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script></body>
</html>
